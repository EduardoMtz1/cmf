/*! For license information please see app.js.LICENSE.txt */
(self.webpackChunk=self.webpackChunk||[]).push([[773],{7311:(t,e,r)=>{"use strict";var n=r(3935),o=r(7294);const i={query:function(t){return Object.keys(t).map((function(e){return e+"="+t[e]})).join("&")},formData:function(t){var e=new FormData;for(var r in t)t.hasOwnProperty(r)&&e.append(r,t[r]);return e}};const c={get:function(t){var e=document.querySelector('meta[name="'+t+'"]');return e?e.getAttribute("content"):null}},u={cmf:null,forceRefresh:!1,path:c.get("cmf:path"),currentPath:{},history:[],setCmf:function(t){this.cmf=t},parseLocation:function(t){var e="/"+this.path+"/",r=t.search,n=new URLSearchParams(r),o=Object.fromEntries(n),i=t.pathname,c=(i.startsWith(e)?i.slice(e.length):"").split("/");return{module:c[0],action:c[1],params:o}},update:function(t,e,r){var n=this;this.currentPath={module:t,action:e,params:r},this.cmf.forceUpdate((function(){return n.forceRefresh=!1}))},goTo:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=i.query(r);window.history.pushState({},"",this.path+"/"+t+"/"+e+(n?"?"+n:"")),this.history.push({module:t,action:e,params:r}),this.update(t,e,r)},refresh:function(){this.cmf.setLoadingState(),this.forceRefresh=!0,this.goTo(this.currentPath.module,this.currentPath.action,this.currentPath.params)},goBack:function(){var t=this.history[this.history.length-2],e=t.module,r=t.action,n=t.params;this.goTo(e,r,n)},handleRedirect:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.refresh?this.refresh():t.redirectBack?this.goBack():t.redirect&&this.goTo(t.path.module,t.redirect,e)}};var a=r(3379),s=r.n(a),l=r(5709),f={insert:"head",singleton:!1};s()(l.Z,f);l.Z.locals;const p=function(){document.body.scrollTop=0,document.documentElement.scrollTop=0},d=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!e)return t;"string"==typeof e&&(e=[e]);var r=" "+t+"--";return t+(e?r+e.join(r):"")},y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(var o=0,i=r;o<i.length;o++){var c=i[o];if(t[c]!==e[c])return!1}return!0};var h=r(5893);function b(t){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b(t)}function m(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,w(n.key),n)}}function v(t,e){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},v(t,e)}function g(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=j(t);if(e){var o=j(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===b(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function j(t){return j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},j(t)}function w(t){var e=function(t,e){if("object"!==b(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==b(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===b(e)?e:String(e)}var O,_,P,S=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v(t,e)}(i,t);var e,r,n,o=g(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"onClick",value:function(t,e){t.stopPropagation(),this.props.onClick(e)}},{key:"renderLinks",value:function(){var t=this;return this.props.links.map((function(e,r){if(null!==e)return(0,h.jsx)("button",{className:"link-list__button",onClick:function(r){return t.onClick(r,e[1])},type:"button",children:e[0]},r)}))}},{key:"render",value:function(){return(0,h.jsx)("div",{className:d("link-list",this.props.style),children:this.renderLinks()})}}])&&m(e.prototype,r),n&&m(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);O=S,P={links:[],style:"default",onClick:function(t){}},(_=w(_="defaultProps"))in O?Object.defineProperty(O,_,{value:P,enumerable:!0,configurable:!0,writable:!0}):O[_]=P;const x=S;function k(t){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k(t)}function C(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,D(n.key),n)}}function R(t,e){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},R(t,e)}function E(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=N(t);if(e){var o=N(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===k(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return T(t)}(this,r)}}function T(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function N(t){return N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},N(t)}function D(t){var e=function(t,e){if("object"!==k(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==k(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===k(e)?e:String(e)}var F=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R(t,e)}(u,t);var e,r,i,c=E(u);function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=c.call(this,t)).state={isOpen:!1,x:0,y:0},e.contextMenuContainerRef=o.createRef(),e.contextMenuRef=o.createRef(),e.handleDocumentClick=e.onDocumentClick.bind(T(e)),e.handleDocumentCtxMenu=e.onDocumentCtxMenu.bind(T(e)),e.ctxOverlayEl=null,e.ctxMountEl=null,e}return e=u,(r=[{key:"componentWillUnmount",value:function(){this.unbindDocumentClick()}},{key:"bindDocumentClick",value:function(){document.addEventListener("click",this.handleDocumentClick),document.addEventListener("contextmenu",this.handleDocumentCtxMenu)}},{key:"unbindDocumentClick",value:function(){document.removeEventListener("click",this.handleDocumentClick),document.removeEventListener("contextmenu",this.handleDocumentCtxMenu)}},{key:"onDocumentCtxMenu",value:function(t){this.contextMenuContainerRef.current.contains(t.target)||this.close()}},{key:"onDocumentClick",value:function(t){this.contextMenuRef.current.contains(t.target)||this.close()}},{key:"onLinkClick",value:function(t){var e=this;this.close((function(){e.props.onClick(t)}))}},{key:"toggle",value:function(t){t.stopPropagation(),this.state.isOpen?this.close():this.open()}},{key:"open",value:function(t,e){var r=this;this.setState({isOpen:!0,x:t,y:e},(function(){r.bindDocumentClick(),r.ctxOverlayEl=document.body.appendChild(document.createElement("div")),r.ctxOverlayEl.classList.add("ctx-overlay"),r.ctxMountEl=document.body.appendChild(document.createElement("div")),r.ctxMountEl.classList.add("ctx-mount"),n.render(r.renderContextMenu(),r.ctxMountEl)}))}},{key:"close",value:function(t){var e=this;this.setState({isOpen:!1},(function(){e.unbindDocumentClick(),e.ctxOverlayEl.remove(),e.ctxMountEl.remove(),t&&t()}))}},{key:"handleContextMenu",value:function(t){this.open(t.pageX-window.scrollX,t.pageY-window.scrollY),t.stopPropagation(),t.preventDefault()}},{key:"renderContextMenu",value:function(){return(0,h.jsx)("div",{className:"context-menu__menu",style:{transform:"translateX(".concat(this.state.x,"px) translateY(").concat(this.state.y,"px)")},ref:this.contextMenuRef,children:(0,h.jsx)(x,{links:this.props.links,onClick:this.onLinkClick.bind(this)})})}},{key:"render",value:function(){return(0,h.jsx)("div",{className:"context-menu"+(this.state.isOpen?" context-menu--open":""),onContextMenu:this.handleContextMenu.bind(this),ref:this.contextMenuContainerRef,children:(0,h.jsx)("div",{className:"context-menu__wrap",children:this.props.children})})}}])&&C(e.prototype,r),i&&C(e,i),Object.defineProperty(e,"prototype",{writable:!1}),u}(o.Component);!function(t,e,r){(e=D(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(F,"defaultProps",{links:[],onClick:function(t){}});const B=F;function L(t){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L(t)}function I(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,V(n.key),n)}}function M(t,e){return M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},M(t,e)}function A(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=U(t);if(e){var o=U(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===L(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function U(t){return U=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},U(t)}function V(t){var e=function(t,e){if("object"!==L(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==L(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===L(e)?e:String(e)}var z=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M(t,e)}(i,t);var e,r,n,o=A(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"onClick",value:function(t){t.stopPropagation(),this.props.onClick()}},{key:"render",value:function(){return(0,h.jsx)("span",{className:d("icon",this.props.style),onClick:this.props.onClick?this.onClick.bind(this):null,children:this.props.name})}}])&&I(e.prototype,r),n&&I(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);!function(t,e,r){(e=V(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(z,"defaultProps",{text:"",type:"icon",style:"default",name:"fingerprint",onClick:null});const q=z;function W(t){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W(t)}function G(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Y(n.key),n)}}function K(t,e){return K=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},K(t,e)}function H(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Q(t);if(e){var o=Q(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===W(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Q(t){return Q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Q(t)}function Y(t){var e=function(t,e){if("object"!==W(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==W(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===W(e)?e:String(e)}var Z=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&K(t,e)}(i,t);var e,r,n,o=H(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"render",value:function(){return(0,h.jsxs)("div",{className:"nav-item"+(this.props.isActive?" nav-item--active":""),onClick:this.props.onClick,children:[(0,h.jsx)("span",{className:"nav-item__icon",children:(0,h.jsx)(q,{name:this.props.module.icon})}),(0,h.jsx)("span",{className:"nav-item__text",children:this.props.module.title})]})}}])&&G(e.prototype,r),n&&G(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);!function(t,e,r){(e=Y(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(Z,"defaultProps",{module:{},isActive:!1,onClick:function(){}});const $=Z;function J(t){return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},J(t)}function X(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nt(n.key),n)}}function tt(t,e){return tt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},tt(t,e)}function et(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=rt(t);if(e){var o=rt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===J(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function rt(t){return rt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},rt(t)}function nt(t){var e=function(t,e){if("object"!==J(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==J(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===J(e)?e:String(e)}var ot=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tt(t,e)}(i,t);var e,r,n,o=et(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"render",value:function(){return(0,h.jsxs)("div",{className:"subnav-item"+(this.props.isActive?" subnav-item--active":""),onClick:this.props.onClick,children:[(0,h.jsx)("span",{className:"subnav-item__icon",children:(0,h.jsx)(q,{name:this.props.module.icon})}),(0,h.jsx)("span",{className:"subnav-item__text",children:this.props.module.title})]})}}])&&X(e.prototype,r),n&&X(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);!function(t,e,r){(e=nt(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(ot,"defaultProps",{module:{},isActive:!1,onClick:function(){}});const it=ot;var ct={get:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.split("."),n=window.i18n,o=0;o<r.length;o++){var i=r[o];if(!n[i])return t;n=n[i]}for(var c in e)n=n.replace(":".concat(c),e[c]);return n}};const ut=ct;function at(t){return at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},at(t)}function st(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dt(n.key),n)}}function lt(t,e){return lt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},lt(t,e)}function ft(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=pt(t);if(e){var o=pt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===at(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function pt(t){return pt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},pt(t)}function dt(t){var e=function(t,e){if("object"!==at(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==at(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===at(e)?e:String(e)}var yt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lt(t,e)}(c,t);var e,r,n,i=ft(c);function c(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),i.apply(this,arguments)}return e=c,(r=[{key:"switchModule",value:function(t){this.props.onModuleSwitch(),u.forceRefresh=!0,u.goTo(t.id,"index")}},{key:"onContextMenuClick",value:function(t,e){"open"===t?this.switchModule(e):"open_new"===t&&window.open(e.url)}},{key:"isModuleActive",value:function(t){if(this.props.activeModule&&this.props.activeModule.id===t.id)return!0;for(var e=0;e<t.submodules.length;e++)if(this.props.activeModule&&this.props.activeModule.id===t.submodules[e].id)return!0;return!1}},{key:"renderSubmodules",value:function(t){var e=this;return t.submodules.length?(0,h.jsx)("div",{className:"nav__subnav"+(this.isModuleActive(t)?" nav__subnav--open":""),children:t.submodules.map((function(t){return(0,h.jsx)(B,{links:[[ut.get("snippets.open"),"open"],[ut.get("snippets.open_new_window"),"open_new"]],onClick:function(r){return e.onContextMenuClick(r,t)},children:(0,h.jsx)(it,{module:t,onClick:function(){return e.switchModule(t)},isActive:e.props.activeModule&&e.props.activeModule.id===t.id})},t.id)}))}):null}},{key:"render",value:function(){var t=this;return(0,h.jsx)("div",{className:"nav",children:(0,h.jsx)("div",{children:this.props.modules.map((function(e){return e.inNavigation?(0,h.jsxs)(o.Fragment,{children:[(0,h.jsx)(B,{links:[[ut.get("snippets.open"),"open"],[ut.get("snippets.open_new_window"),"open_new"]],onClick:function(r){return t.onContextMenuClick(r,e)},children:(0,h.jsx)($,{module:e,onClick:function(){return t.switchModule(e)},isActive:t.isModuleActive(e)})}),t.renderSubmodules(e)]},e.id):null}))})})}}])&&st(e.prototype,r),n&&st(e,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(o.Component);!function(t,e,r){(e=dt(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(yt,"defaultProps",{modules:[],activeModule:{},onModulesLoaded:function(){},onModuleSwitch:function(){}});const ht=yt,bt={inputId:function(t){return"input-"+t}};function mt(t){return mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mt(t)}function vt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ot(n.key),n)}}function gt(t,e){return gt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},gt(t,e)}function jt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=wt(t);if(e){var o=wt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===mt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function wt(t){return wt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},wt(t)}function Ot(t){var e=function(t,e){if("object"!==mt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==mt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===mt(e)?e:String(e)}var _t=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gt(t,e)}(c,t);var e,r,n,i=jt(c);function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=i.call(this,t)).state={isVisible:!1,x:0,y:0},e}return e=c,(r=[{key:"onClick",value:function(t){t.stopPropagation(),this.props.onClick()}},{key:"show",value:function(t){this.setState({isVisible:!0,x:t.pageX+15,y:t.pageY-15})}},{key:"move",value:function(t){this.setState({isVisible:!0,x:t.pageX+15,y:t.pageY-15})}},{key:"hide",value:function(){this.setState({isVisible:!1})}},{key:"render",value:function(){return(0,h.jsxs)(o.Fragment,{children:[(0,h.jsx)("div",{className:"tooltip",onMouseEnter:this.show.bind(this),onMouseOut:this.hide.bind(this),onMouseMove:this.move.bind(this),children:(0,h.jsx)(q,{style:["small","alt","soft"],name:this.props.icon})}),this.state.isVisible?(0,h.jsx)("div",{className:"tooltip__text",style:{top:this.state.y,left:this.state.x},children:this.props.text}):null]})}}])&&vt(e.prototype,r),n&&vt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(o.Component);!function(t,e,r){(e=Ot(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(_t,"defaultProps",{text:"",icon:"info"});const Pt=_t;function St(t){return St="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},St(t)}function xt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Et(n.key),n)}}function kt(t,e){return kt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},kt(t,e)}function Ct(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Rt(t);if(e){var o=Rt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===St(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Rt(t){return Rt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Rt(t)}function Et(t){var e=function(t,e){if("object"!==St(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==St(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===St(e)?e:String(e)}var Tt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kt(t,e)}(i,t);var e,r,n,o=Ct(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={id:bt.inputId(e.props.name)},e}return e=i,(r=[{key:"render",value:function(){var t,e,r,n;return this.props.showRequiredIndicator&&(r=(0,h.jsx)("span",{className:"field__required-indicator",children:"*"})),this.props.label&&(t=(0,h.jsxs)("label",{htmlFor:this.state.id,className:"label label--primary field__label",children:[this.props.label,r]})),this.props.tooltip&&(n=(0,h.jsx)("div",{className:"field__tooltip",children:(0,h.jsx)(Pt,{text:this.props.tooltip})})),this.props.errors[this.props.name]&&(e=(0,h.jsx)("span",{className:"field__error",children:this.props.errors[this.props.name]})),(0,h.jsxs)("div",{className:"field"+(this.props.errors[this.props.name]?" field--has-error":""),children:[t||n?(0,h.jsxs)("div",{className:"field__header",children:[t," ",n]}):null,(0,h.jsx)("div",{className:"field__input",children:this.props.children}),e]})}}])&&xt(e.prototype,r),n&&xt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);!function(t,e,r){(e=Et(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(Tt,"defaultProps",{name:"",label:"",required:!1,errors:{},tooltip:""});const Nt=Tt;function Dt(t){return Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dt(t)}function Ft(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Mt(n.key),n)}}function Bt(t,e){return Bt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Bt(t,e)}function Lt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=It(t);if(e){var o=It(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Dt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function It(t){return It=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},It(t)}function Mt(t){var e=function(t,e){if("object"!==Dt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Dt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Dt(e)?e:String(e)}var At=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bt(t,e)}(i,t);var e,r,n,o=Lt(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={value:e.props.data[e.props.name]||""},e}return e=i,(r=[{key:"componentDidUpdate",value:function(t){this.props.data[this.props.name]!==t.data[this.props.name]&&this.setState({value:this.props.data[this.props.name]})}},{key:"getData",value:function(t){return t[this.props.name]=this.state.value||"",t}},{key:"handleChange",value:function(t){this.setState({value:t.target.value})}},{key:"handleSubmit",value:function(t){t[this.props.name]=this.state.value||""}},{key:"render",value:function(){var t;return t=this.props.multiline?(0,h.jsx)("textarea",{id:bt.inputId(this.props.name),className:d("text-field",this.props.style),value:this.state.value||"",placeholder:this.props.placeholder,onChange:this.handleChange.bind(this),onKeyUp:this.handleChange.bind(this)}):(0,h.jsx)("input",{id:bt.inputId(this.props.name),name:this.props.name,className:d("text-field",this.props.style),type:this.props.htmlType,value:this.state.value||"",placeholder:this.props.placeholder,disabled:this.props.disabled,onChange:this.handleChange.bind(this),onKeyUp:this.handleChange.bind(this),autoComplete:"off"}),(0,h.jsx)(Nt,{name:this.props.name,required:this.props.showRequiredIndicator,label:this.props.label,errors:this.props.errors,tooltip:this.props.tooltip,children:t})}}])&&Ft(e.prototype,r),n&&Ft(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);function Ut(t){return Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ut(t)}function Vt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Gt(n.key),n)}}function zt(t,e){return zt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},zt(t,e)}function qt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Wt(t);if(e){var o=Wt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Ut(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Wt(t){return Wt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Wt(t)}function Gt(t){var e=function(t,e){if("object"!==Ut(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Ut(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Ut(e)?e:String(e)}!function(t,e,r){(e=Mt(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(At,"defaultProps",{data:{},label:"",name:"",disabled:!1,showRequiredIndicator:!1,htmlType:"text",multiline:!1,errors:{},style:"",tooltip:"",placeholder:""});var Kt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zt(t,e)}(i,t);var e,r,n,o=qt(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"render",value:function(){return(0,h.jsx)(Nt,{name:this.props.name,required:this.props.showRequiredIndicator,label:this.props.label,errors:this.props.errors,tooltip:this.props.tooltip,children:(0,h.jsx)("input",{id:bt.inputId(this.props.name),name:this.props.name,className:d("number-field",this.props.style),type:this.props.htmlType,value:this.state.value||"",disabled:this.props.disabled,placeholder:this.props.placeholder,step:null!==this.props.step?this.props.step:null,min:null!==this.props.min?this.props.min:null,max:null!==this.props.max?this.props.max:null,onChange:this.handleChange.bind(this),onKeyUp:this.handleChange.bind(this),autoComplete:"off"})})}}])&&Vt(e.prototype,r),n&&Vt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(At);!function(t,e,r){(e=Gt(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(Kt,"defaultProps",{htmlType:"number",min:null,max:null,step:null});const Ht=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},Qt=function(t){return String(t).toLowerCase().replace(/[èéêë]/g,"e").replace(/[àáâãäå]/g,"a").replace(/æ/g,"ae").replace(/ç/g,"c").replace(/[èéêë]/g,"e").replace(/[ìíîï]/g,"i").replace(/ñ/g,"n").replace(/[òóôõö]/g,"o").replace(/œ/g,"oe").replace(/[ùúûü]/g,"u").replace(/[ýÿ]/g,"y").replace(/[^\w.]+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},Yt=function(t,e,r){return t.length<=e?t:t.slice(0,e)+r},Zt={overlay:function(){var t=document.createElement("div");return t.classList.add("overlay"),document.body.appendChild(t),t},prompt:function(t){var e=t.title||"",r=t.text||"",n=t.defaultValue||"",o=t.confirmButtonText||"Confirm",i=t.cancelButtonText||"Cancel",c=t.confirm,u=t.cancel,a=document.createElement("form");a.classList.add("prompt"),a.setAttribute("action","");var s=document.createElement("div");s.classList.add("prompt__header"),s.textContent=e;var l=document.createElement("div");if(l.classList.add("prompt__content"),r){var f=document.createElement("div");f.classList.add("prompt__text"),f.textContent=r,l.appendChild(f)}var p=document.createElement("input");p.classList.add("prompt__input"),p.setAttribute("input","text"),p.setAttribute("value",n),l.appendChild(p);var d=document.createElement("div");d.classList.add("prompt__footer");var y=function(t){v(),c&&c(p.value),t.preventDefault()},h=this.button(i,(function(t){v(),u&&u()})),b=this.button(o,y);a.addEventListener("submit",y),h.classList.add("button--secondary"),d.appendChild(h),d.appendChild(b),a.appendChild(s),a.appendChild(l),a.appendChild(d);var m=this.overlay();document.body.appendChild(a),p.focus();var v=function(){document.body.removeChild(a),document.body.removeChild(m)}},confirm:function(t){var e=t.title||"",r=t.text||"",n=t.confirmButtonText||ut.get("snippets.confirm"),o=t.cancelButtonText||ut.get("snippets.cancel"),i=t.confirm,c=t.cancel,u=document.createElement("div");u.classList.add("confirm");var a=document.createElement("div");a.classList.add("confirm__header"),a.textContent=e;var s=document.createElement("div");s.classList.add("confirm__content"),s.textContent=r;var l=document.createElement("div");l.classList.add("confirm__footer");var f=this.button(o,(function(t){y(),c&&c()})),p=this.button(n,(function(t){y(),i&&i()}));f.classList.add("button--secondary"),l.appendChild(f),l.appendChild(p),u.appendChild(a),u.appendChild(s),u.appendChild(l);var d=this.overlay();document.body.appendChild(u),p.focus();var y=function(){document.body.removeChild(u),document.body.removeChild(d)}},button:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=document.createElement("button");return r.setAttribute("type","button"),r.classList.add("button"),r.textContent=t,e&&r.addEventListener("click",e),r},i18nNotify:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.notify(ut.get(t,e))},notify:function(t){var e=this;this.notificationStackEl||(this.notificationStackEl=document.createElement("div"),this.notificationStackEl.classList.add("notification-stack"),document.body.appendChild(this.notificationStackEl));var r=document.createElement("div");r.classList.add("notification"),r.textContent=Ht(t),this.notificationStackEl.appendChild(r),setTimeout((function(){r.classList.add("notification--hidden"),setTimeout((function(){return e.notificationStackEl.removeChild(r)}),250)}),3e3)},copyText:function(t,e){var r=document.createElement("textarea");r.value=t,r.style.top=0,r.style.left=0,r.style.position="fixed",document.body.appendChild(r),r.focus(),r.select();try{document.execCommand("copy")&&e()}catch(t){console.error("Fallback: Oops, unable to copy text to clipboard",t)}document.body.removeChild(r)}};function $t(t){return $t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$t(t)}function Jt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,re(n.key),n)}}function Xt(t,e){return Xt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Xt(t,e)}function te(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=ee(t);if(e){var o=ee(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===$t(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function ee(t){return ee=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ee(t)}function re(t){var e=function(t,e){if("object"!==$t(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==$t(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===$t(e)?e:String(e)}var ne=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xt(t,e)}(i,t);var e,r,n,o=te(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,r=[{key:"goToUrl",value:function(t){t.stopPropagation()}},{key:"copyValue",value:function(){Zt.copyText(this.props.data[this.props.name],(function(){Zt.notify(ut.get("snippets.copied_to_clipboard"))}))}},{key:"renderCopyIcon",value:function(){return this.props.copyable?(0,h.jsx)("span",{className:"text-view__copy",children:(0,h.jsx)(q,{onClick:this.copyValue.bind(this),name:"content_copy",style:"mini"})}):null}},{key:"render",value:function(){var t,e="-";if(this.props.label&&(t=(0,h.jsx)("label",{className:"label text-view__label",children:this.props.label})),this.props.data&&this.props.data[this.props.name]&&(e=this.props.data[this.props.name],this.props.url)){var r=!0===this.props.url?e:this.props.data[this.props.name+"_url"];e=(0,h.jsx)("a",{href:r,target:"_blank",title:e,className:"text-view__url",onClick:this.goToUrl.bind(this),children:this.props.truncateLength?Yt(e,this.props.truncateLength,this.props.truncateSuffix):e})}return(0,h.jsxs)("div",{className:"text-view text-view--"+this.props.style,children:[t,(0,h.jsxs)("span",{className:"text-view__value",children:[e,this.renderCopyIcon()]})]})}}],r&&Jt(e.prototype,r),n&&Jt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);!function(t,e,r){(e=re(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(ne,"defaultProps",{path:{},type:"",id:0,label:"",url:!1,truncateLength:0,truncateSuffix:"",copyable:!1,style:"default"});const oe=ne;var ie=r(9151),ce={insert:"head",singleton:!1};s()(ie.Z,ce);ie.Z.locals;function ue(t){return ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ue(t)}function ae(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pe(n.key),n)}}function se(t,e){return se=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},se(t,e)}function le(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=fe(t);if(e){var o=fe(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===ue(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function fe(t){return fe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},fe(t)}function pe(t){var e=function(t,e){if("object"!==ue(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==ue(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===ue(e)?e:String(e)}var de=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&se(t,e)}(i,t);var e,r,n,o=le(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"onClick",value:function(t){this.props.onClick&&this.props.onClick(t),t.stopPropagation()}},{key:"render",value:function(){var t,e=this;this.props.icon&&(t=(0,h.jsx)("span",{className:"button__icon",children:(0,h.jsx)(q,{style:"mini",name:this.props.icon})}));var r=this.props.label?(0,h.jsx)("span",{className:"button__label",children:this.props.label}):null;return(0,h.jsxs)("button",{className:d("button",this.props.style)+" button--has-icon",onClick:function(t){return e.onClick(t)},type:this.props.type,children:[t,r,this.props.text]})}}])&&ae(e.prototype,r),n&&ae(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);!function(t,e,r){(e=pe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(de,"defaultProps",{label:"",text:"",type:"button",style:"default",icon:"",onClick:function(t){}});const ye=de;function he(t){return he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},he(t)}function be(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,je(n.key),n)}}function me(t,e){return me=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},me(t,e)}function ve(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=ge(t);if(e){var o=ge(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===he(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function ge(t){return ge=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ge(t)}function je(t){var e=function(t,e){if("object"!==he(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==he(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===he(e)?e:String(e)}var we=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&me(t,e)}(i,t);var e,r,n,o=ve(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"onClick",value:function(t){t.stopPropagation(),this.props.onClick&&this.props.onClick()}},{key:"render",value:function(){var t=this;return(0,h.jsx)("button",{className:d("link",this.props.style),onClick:function(e){return t.onClick(e)},type:"button",children:this.props.text})}}])&&be(e.prototype,r),n&&be(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);!function(t,e,r){(e=je(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(we,"defaultProps",{text:"",style:"default",onClick:function(){}});const Oe=we;function _e(t){return _e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_e(t)}function Pe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ce(n.key),n)}}function Se(t,e){return Se=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Se(t,e)}function xe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=ke(t);if(e){var o=ke(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===_e(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function ke(t){return ke=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ke(t)}function Ce(t){var e=function(t,e){if("object"!==_e(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==_e(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===_e(e)?e:String(e)}var Re=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Se(t,e)}(i,t);var e,r,n,o=xe(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"goTo",value:function(){if(this.props.back)u.goBack();else{var t={};this.props.data&&this.props.data.id?t.id=this.props.data.id:this.props.path.params.id&&(t.id=this.props.path.params.id),u.goTo(this.props.path.module,this.props.action,t)}}},{key:"render",value:function(){return this.props.style&&"alt"!==this.props.style?(0,h.jsx)(ye,{style:this.props.style,text:this.props.text,onClick:this.goTo.bind(this)}):(0,h.jsx)(Oe,{style:this.props.style,onClick:this.goTo.bind(this),text:this.props.text})}}])&&Pe(e.prototype,r),n&&Pe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);!function(t,e,r){(e=Ce(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(Re,"defaultProps",{path:{},data:{},action:"",back:!1,style:null});const Ee=Re;var Te=r(9669),Ne=r.n(Te);function De(t){return De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},De(t)}function Fe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Be(n.key),n)}}function Be(t){var e=function(t,e){if("object"!==De(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==De(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===De(e)?e:String(e)}function Le(t){var e=Ae();return function(){var r,n=Ve(t);if(e){var o=Ve(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===De(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Ie(t){var e="function"==typeof Map?new Map:void 0;return Ie=function(t){if(null===t||(r=t,-1===Function.toString.call(r).indexOf("[native code]")))return t;var r;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return Me(t,arguments,Ve(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Ue(n,t)},Ie(t)}function Me(t,e,r){return Me=Ae()?Reflect.construct.bind():function(t,e,r){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return r&&Ue(o,r.prototype),o},Me.apply(null,arguments)}function Ae(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Ue(t,e){return Ue=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ue(t,e)}function Ve(t){return Ve=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ve(t)}var ze;Error;Ne().defaults.withCredentials=!0,ze=c.get("csrf"),Ne().defaults.headers.common["X-CSRF-TOKEN"]=ze,Ne().interceptors.request.use((function(t){return document.body.classList.add("api-loading"),t}),(function(t){return Promise.reject(t)})),Ne().interceptors.response.use((function(t){return document.body.classList.remove("api-loading"),t}),(function(t){return document.body.classList.remove("api-loading"),Promise.reject(t)}));var qe={modules:{},execute:{},auth:{},media:{}};qe.auth.user=function(){return Ne().get("cmf/api/auth/user")},qe.auth.logout=function(){return Ne().get("cmf/api/auth/logout")},qe.auth.sessionInfo=function(){return Ne().get("cmf/api/auth/session-info")},qe.auth.keepAlive=function(){return Ne().post("cmf/api/auth/csrf-keep-alive")},qe.auth.login=function(t,e){return Ne().post("cmf/api/auth/login",{email:t,password:e})},qe.media.upload=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},n={file:t};return e&&(n.directory=e),Ne().post("cmf/api/media/upload",i.formData(n),{onUploadProgress:r})},qe.media.uploadChunk=function(t,e,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,c={status:t,filename:e,chunk:n};return r&&(c.path=r),o&&(c.directory=o),Ne().post("cmf/api/media/upload-chunk",i.formData(c))},qe.media.path=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e={};return t&&(e.directory=t),Ne().get("cmf/api/media/path",{params:e})},qe.media.loadDirectories=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e={};return t&&(e.directory=t),Ne().get("cmf/api/media/load-directories",{params:e})},qe.media.loadFiles=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e={};return t&&(e.directory=t),Ne().get("cmf/api/media/load-files",{params:e})},qe.media.createDirectory=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r={name:t};return e&&(r.directory=e),Ne().post("cmf/api/media/create-directory",r)},qe.media.renameDirectory=function(t,e){return Ne().post("cmf/api/media/rename-directory",{name:t,directory:e})},qe.media.deleteDirectory=function(t){return Ne().post("cmf/api/media/delete-directory",{directory:t})},qe.media.moveDirectory=function(t,e){return Ne().post("cmf/api/media/move-directory",{directory:t,id:e})},qe.media.renameFile=function(t,e){return Ne().post("cmf/api/media/rename-file",{name:t,file:e})},qe.media.deleteFile=function(t){return Ne().post("cmf/api/media/delete-file",{file:t})},qe.media.deleteFiles=function(t){return Ne().post("cmf/api/media/delete-files",{files:JSON.stringify(t)})},qe.media.labelFile=function(t,e){return Ne().post("cmf/api/media/label-file",{label:t,file:e})},qe.media.updateFileDescription=function(t,e){return Ne().post("cmf/api/media/update-file-description",{description:t,file:e})},qe.media.updateFileCopyright=function(t,e){return Ne().post("cmf/api/media/update-file-copyright",{copyright:t,file:e})},qe.media.updateFileVisibility=function(t,e){return Ne().post("cmf/api/media/update-file-visibility",{visibility:t,file:e})},qe.media.updateFilesDescription=function(t,e){return Ne().post("cmf/api/media/update-files-description",{description:t,files:JSON.stringify(e)})},qe.media.updateFilesCopyright=function(t,e){return Ne().post("cmf/api/media/update-files-copyright",{copyright:t,files:JSON.stringify(e)})},qe.media.moveFile=function(t,e){return Ne().post("cmf/api/media/move-file",{directory:t,file:e})},qe.media.moveFiles=function(t,e){return Ne().post("cmf/api/media/move-files",{directory:t,files:JSON.stringify(e)})},qe.modules.index=function(){return Ne().get("cmf/api/modules")},qe.modules.action=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ne().get("cmf/api/modules/".concat(t.module,"/").concat(t.action),{params:e})},qe.modules.get=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Ne().get("cmf/api/modules/".concat(t.module,"/").concat(t.action,"/").concat(e),{params:r})},qe.modules.post=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Ne().post("cmf/api/modules/".concat(t.module,"/").concat(t.action,"/").concat(e),i.formData(r))},qe.execute.get=function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Ne().get("cmf/api/modules/".concat(t.module,"/").concat(t.action,"/").concat(e,"/").concat(r),{params:n})},qe.execute.post=function(t,e,r,n){return Ne().post("cmf/api/modules/".concat(t.module,"/").concat(t.action,"/").concat(e,"/").concat(r),i.formData(n))};const We=qe;function Ge(t){return Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ge(t)}function Ke(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,He(n.key),n)}}function He(t){var e=function(t,e){if("object"!==Ge(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Ge(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Ge(e)?e:String(e)}function Qe(t,e){return Qe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Qe(t,e)}function Ye(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Ze(t);if(e){var o=Ze(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Ge(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Ze(t){return Ze=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ze(t)}const $e=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qe(t,e)}(c,t);var e,r,n,i=Ye(c);function c(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),i.apply(this,arguments)}return e=c,(r=[{key:"render",value:function(){return(0,h.jsxs)(o.Fragment,{children:[(0,h.jsx)("div",{className:"overlay"}),this.props.children]})}}])&&Ke(e.prototype,r),n&&Ke(e,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(o.Component);function Je(t){return Je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Je(t)}function Xe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nr(n.key),n)}}function tr(t,e){return tr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},tr(t,e)}function er(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=rr(t);if(e){var o=rr(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Je(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function rr(t){return rr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},rr(t)}function nr(t){var e=function(t,e){if("object"!==Je(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Je(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Je(e)?e:String(e)}var or=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tr(t,e)}(i,t);var e,r,n,o=er(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"onClick",value:function(t){t.stopPropagation(),this.props.onClick(t)}},{key:"render",value:function(){var t=this;return(0,h.jsx)("button",{className:d("icon-button",this.props.style),onClick:function(e){return t.onClick(e)},type:"button",children:(0,h.jsx)(q,{name:this.props.name,style:this.props.iconStyle})})}}])&&Xe(e.prototype,r),n&&Xe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);!function(t,e,r){(e=nr(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(or,"defaultProps",{name:"fingerprint",style:"",iconStyle:"default",onClick:function(t){}});const ir=or;function cr(t){return cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cr(t)}function ur(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fr(n.key),n)}}function ar(t,e){return ar=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ar(t,e)}function sr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=lr(t);if(e){var o=lr(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===cr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function lr(t){return lr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},lr(t)}function fr(t){var e=function(t,e){if("object"!==cr(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==cr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===cr(e)?e:String(e)}var pr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ar(t,e)}(i,t);var e,r,n,o=sr(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"close",value:function(){this.props.onClose()}},{key:"renderToolbar",value:function(){return this.props.toolbar?(0,h.jsx)("div",{className:"window__toolbar",children:this.props.toolbar}):null}},{key:"renderFooter",value:function(){return this.props.footer?(0,h.jsx)("div",{className:"window__footer",children:this.props.footer}):null}},{key:"render",value:function(){return(0,h.jsxs)("div",{className:d("window",this.props.style),children:[(0,h.jsxs)("div",{className:"window__header",children:[(0,h.jsx)("div",{className:"window__title",children:this.props.title}),(0,h.jsxs)("div",{className:"window__actions",children:[this.props.actions,this.props.closeable?(0,h.jsx)(ir,{name:"close",style:"transparent",onClick:this.close.bind(this)},"window-close"):null]})]}),this.renderToolbar(),(0,h.jsx)("div",{className:"window__content",children:this.props.children}),this.renderFooter()]})}}])&&ur(e.prototype,r),n&&ur(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);!function(t,e,r){(e=fr(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(pr,"defaultProps",{title:"",style:"default",actions:[],toolbar:null,footer:null,closeable:!1,onClose:function(){}});const dr=pr;function yr(t){return yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yr(t)}function hr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function br(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?hr(Object(r),!0).forEach((function(e){Or(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hr(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function mr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_r(n.key),n)}}function vr(t,e){return vr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},vr(t,e)}function gr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=wr(t);if(e){var o=wr(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return jr(this,r)}}function jr(t,e){if(e&&("object"===yr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function wr(t){return wr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},wr(t)}function Or(t,e,r){return(e=_r(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _r(t){var e=function(t,e){if("object"!==yr(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==yr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===yr(e)?e:String(e)}var Pr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vr(t,e)}(c,t);var e,r,n,i=gr(c);function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=i.call(this,t)).state={isSubmitting:!1},e.childRefs=[],e.sidebarRefs=[],e.props.children.length||e.props.sidebar.length?(e.props.children.length&&e.props.children.forEach((function(){return e.childRefs.push(o.createRef())})),e.props.sidebar.length&&e.props.sidebar.forEach((function(){return e.sidebarRefs.push(o.createRef())})),e):jr(e)}return e=c,(r=[{key:"submit",value:function(){this.props.onSubmit(this.handleSubmit())}},{key:"onSubmit",value:function(t){t.preventDefault(),this.state.isSubmitting||(this.setState({isSubmitting:!0}),this.submit())}},{key:"ready",value:function(){this.setState({isSubmitting:!1})}},{key:"handleSubmit",value:function(){var t=this,e={};return this.props.children.length||this.props.sidebar.length?(this.props.children.forEach((function(r,n){t.childRefs[n].current.handleSubmit(e)})),this.props.sidebar.forEach((function(r,n){t.sidebarRefs[n].current.handleSubmit(e)})),e):e}},{key:"hasMultipleChildren",value:function(){return this.props.children.length}},{key:"renderChildren",value:function(){var t=this;return this.props.children.length?this.props.children.map((function(e,r){var n=e.type;return(0,h.jsx)("div",{className:"form__input",children:(0,h.jsx)(n,br(br({ref:t.childRefs[r]},e.props),{},{errors:t.props.errors}))},r)})):null}},{key:"renderSidebar",value:function(){var t=this;return this.props.sidebar.length?this.props.sidebar.map((function(e,r){var n=e.type;return(0,h.jsx)("div",{className:"form__sidebar-input",children:(0,h.jsx)(n,br(br({ref:t.sidebarRefs[r]},e.props),{},{errors:t.props.errors}))},r)})):null}},{key:"renderContent",value:function(){var t,e;return this.props.sidebar.length?t=(0,h.jsxs)("div",{className:"form__sidebar",children:[(0,h.jsx)("div",{className:"form__sidebar-save",children:(0,h.jsx)(ye,{text:this.props.submitButtonText,type:this.props.realForm?"submit":"button",onClick:this.props.realForm?null:this.submit.bind(this),style:"full"})}),this.renderSidebar()]}):e=(0,h.jsx)("div",{className:"form__footer",children:(0,h.jsx)(ye,{text:this.props.submitButtonText,type:this.props.realForm?"submit":"button",onClick:this.props.realForm?null:this.submit.bind(this)})}),(0,h.jsxs)(o.Fragment,{children:[(0,h.jsxs)("div",{className:"form__content",children:[(0,h.jsx)("div",{className:"form__inputs",children:this.renderChildren()}),t]}),e]})}},{key:"render",value:function(){var t=this;return this.props.realForm?(0,h.jsx)("form",{className:"form"+(this.state.isSubmitting?" form--submitting":""),onSubmit:function(e){return t.onSubmit(e)},children:this.renderContent()}):(0,h.jsx)("div",{className:"form"+(this.state.isSubmitting?" form--submitting":""),children:this.renderContent()})}}])&&mr(e.prototype,r),n&&mr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(o.Component);function Sr(t){return Sr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sr(t)}function xr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function kr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?xr(Object(r),!0).forEach((function(e){Nr(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xr(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Cr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Dr(n.key),n)}}function Rr(t,e){return Rr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Rr(t,e)}function Er(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Tr(t);if(e){var o=Tr(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Sr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Tr(t){return Tr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Tr(t)}function Nr(t,e,r){return(e=Dr(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dr(t){var e=function(t,e){if("object"!==Sr(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Sr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Sr(e)?e:String(e)}Or(Pr,"defaultProps",{realForm:!0,errors:{},submitButtonText:ut.get("snippets.confirm"),sidebar:[],onSubmit:function(){}});var Fr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Rr(t,e)}(a,t);var e,r,i,c=Er(a);function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=c.call(this,t)).state={formErrors:{},isOpen:!1},e.widgetMountEl=null,e.formRef=o.createRef(),e}return e=a,(r=[{key:"close",value:function(){this.widgetMountEl.remove()}},{key:"open",value:function(){this.widgetMountEl=document.body.appendChild(document.createElement("div")),n.render(this.renderAskWidget(),this.widgetMountEl)}},{key:"redirect",value:function(t){u.handleRedirect(this.props,{id:t.data.id})}},{key:"handleClick",value:function(){this.props.components.length?this.open():this.execute()}},{key:"execute",value:function(t){var e=this;this.close(),t.id=this.props.data.id||null;var r=kr(kr({},this.props.path),{},{action:this.props.action});We.modules.post(r,"handle",t).then((function(t){Zt.notify(e.props.notification),e.redirect(t.data)}))}},{key:"renderAskComponents",value:function(){return oy.renderComponents(this.props.components,{},this.props.path)}},{key:"renderAskWidget",value:function(){return(0,h.jsx)($e,{children:(0,h.jsx)(dr,{title:this.props.text,style:"modal",closeable:!0,onClose:this.close.bind(this),children:(0,h.jsx)(Pr,{ref:this.formRef,errors:this.state.formErrors,realForm:!1,onSubmit:this.execute.bind(this),submitButtonText:"Submit",children:this.renderAskComponents()})})})}},{key:"renderLink",value:function(){return this.props.style?(0,h.jsx)(ye,{style:this.props.style,text:this.props.text,onClick:this.handleClick.bind(this)}):(0,h.jsx)(Oe,{onClick:this.handleClick.bind(this),text:this.props.text})}},{key:"render",value:function(){return this.props.style?(0,h.jsx)(ye,{style:this.props.style,text:this.props.text,onClick:this.handleClick.bind(this)}):(0,h.jsx)(Oe,{onClick:this.handleClick.bind(this),text:this.props.text})}}])&&Cr(e.prototype,r),i&&Cr(e,i),Object.defineProperty(e,"prototype",{writable:!1}),a}(o.Component);Nr(Fr,"defaultProps",{path:{},data:{},action:"",components:[],notification:"Success"});const Br=Fr;function Lr(t){return Lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lr(t)}function Ir(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Vr(n.key),n)}}function Mr(t,e){return Mr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Mr(t,e)}function Ar(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Ur(t);if(e){var o=Ur(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Lr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Ur(t){return Ur=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ur(t)}function Vr(t){var e=function(t,e){if("object"!==Lr(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Lr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Lr(e)?e:String(e)}var zr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mr(t,e)}(i,t);var e,r,n,o=Ar(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).componentList=[],e}return e=i,r=[{key:"handleSubmit",value:function(t){this.componentList.forEach((function(e){e.ref.current.handleSubmit(t)}))}},{key:"getData",value:function(t){return this.componentList.forEach((function(e){e.ref.current.getData(t)})),t}},{key:"getStackStyle",value:function(){return this.props.grid?{gridTemplateColumns:this.props.grid.join("fr ")+"fr"}:{}}},{key:"render",value:function(){this.componentList=oy.renderComponentsWith(this.props.components,this.props.data,this.props.path,(function(t,e){return(0,h.jsx)("div",{className:"stack__component",children:t},e)}),!0,this.props.errors);var t=this.componentList.map((function(t){return t.component}));return(0,h.jsx)("div",{className:"stack stack--"+this.props.direction+(this.props.gapless?" stack--gapless":""),style:this.getStackStyle(),children:t})}}],r&&Ir(e.prototype,r),n&&Ir(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);!function(t,e,r){(e=Vr(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(zr,"defaultProps",{components:[],path:{},data:{},direction:"",gapless:!1,grid:null});const qr=zr;function Wr(t){return Wr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wr(t)}function Gr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Kr(n.key),n)}}function Kr(t){var e=function(t,e){if("object"!==Wr(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Wr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Wr(e)?e:String(e)}var Hr=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r,n;return e=t,n=[{key:"on",value:function(t,e){void 0===this.eventQueue[t]&&(this.eventQueue[t]=[]),this.eventQueue[t].push(e)}},{key:"off",value:function(t,e){this.eventQueue[t]&&(this.eventQueue[t]=this.eventQueue[t].filter((function(t){return t!==e})))}},{key:"trigger",value:function(t,e){void 0!==this.eventQueue[t]&&this.eventQueue[t].forEach((function(t){t(e)}))}}],(r=null)&&Gr(e.prototype,r),n&&Gr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();!function(t,e,r){(e=Kr(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(Hr,"eventQueue",{});const Qr={language:null,set:function(t){this.language=t},get:function(){return this.language}};function Yr(t){return Yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yr(t)}function Zr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function $r(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Zr(Object(r),!0).forEach((function(e){rn(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Zr(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Jr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nn(n.key),n)}}function Xr(t,e){return Xr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Xr(t,e)}function tn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=en(t);if(e){var o=en(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Yr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function en(t){return en=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},en(t)}function rn(t,e,r){return(e=nn(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nn(t){var e=function(t,e){if("object"!==Yr(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Yr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Yr(e)?e:String(e)}var on=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xr(t,e)}(i,t);var e,r,n,o=tn(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={language:e.getDefaultLanguage(),translatedComponents:e.translateComponentsForAllLanguages()},e.componentList={},e.onLanguageSwitch=null,e}return e=i,r=[{key:"getDefaultLanguage",value:function(){return console.log(Qr.get()),this.props.languages.includes(Qr.get())?Qr.get():this.props.languages[0]}},{key:"componentDidMount",value:function(){var t=this;this.onLanguageSwitch=function(e){return t.switchLanguage(e.language,!1)},Hr.on("language.switch",this.onLanguageSwitch)}},{key:"componentWillUnmount",value:function(){Hr.off("language.switch",this.onLanguageSwitch)}},{key:"componentDidUpdate",value:function(t,e){for(var r=0;r<this.props.components.length;r++)if(!t.components[r]||this.props.components[r].type!==t.components[r].type||this.props.components[r].name!==t.components[r].name){this.setState({translatedComponents:this.translateComponentsForAllLanguages()});break}}},{key:"handleSubmit",value:function(t){var e=this;this.props.languages.forEach((function(r){e.componentList[r].forEach((function(e){e.ref.current.handleSubmit(t)}))}))}},{key:"getData",value:function(t){var e=this;return this.props.languages.forEach((function(r){e.componentList[r].forEach((function(e){e.ref.current.getData(t)}))})),t}},{key:"translateComponentsForAllLanguages",value:function(){var t=this,e={};return this.props.languages.forEach((function(r){e[r]=t.translateComponents(r)})),e}},{key:"translateComponents",value:function(t){return this.props.components.map((function(e){return"text-to-slug-field"===e.type?$r($r({},e),{},{name:e.name+"_"+t,slugName:e.slugName+"_"+t}):$r($r({},e),{},{name:e.name+"_"+t})}))}},{key:"renderTranslatedComponents",value:function(){var t=[];for(var e in this.state.translatedComponents)if(this.state.translatedComponents.hasOwnProperty(e)){this.componentList[e]=oy.renderComponentsWith(this.state.translatedComponents[e],this.props.data,this.props.path,(function(t,e){return(0,h.jsx)("div",{className:"translatable__component",children:t},e)}),!0,this.props.errors);var r=this.componentList[e].map((function(t){return t.component}));t.push((0,h.jsx)("div",{className:"translatable__components"+(this.state.language===e?" translatable__components--active":""),children:r},e))}return t}},{key:"switchLanguage",value:function(t){(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(Qr.set(t),Hr.trigger("language.switch",{id:this.props.id,prevLanguage:this.state.language,language:t})),this.setState({language:t})}},{key:"renderLanguageSwitcher",value:function(){var t=this;return this.props.languages.map((function(e){return(0,h.jsx)("button",{type:"button",onClick:function(r){return t.switchLanguage(e)},className:"translatable__button"+(e===t.state.language?" translatable__button--active":""),children:e},e)}))}},{key:"render",value:function(){return(0,h.jsxs)("div",{className:"translatable",id:"language-"+this.props.id,children:[(0,h.jsx)("div",{className:"translatable__tabs",children:this.renderLanguageSwitcher()}),this.renderTranslatedComponents()]})}}],r&&Jr(e.prototype,r),n&&Jr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);rn(on,"defaultProps",{id:null,components:[],path:{},data:{},languages:[],errors:{}});const cn=on;function un(t){return un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},un(t)}function an(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pn(n.key),n)}}function sn(t,e){return sn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},sn(t,e)}function ln(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=fn(t);if(e){var o=fn(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===un(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function fn(t){return fn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},fn(t)}function pn(t){var e=function(t,e){if("object"!==un(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==un(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===un(e)?e:String(e)}var dn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sn(t,e)}(i,t);var e,r,n,o=ln(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={values:e.props.defaultValues.map((function(t){return"".concat(t)}))},e}return e=i,r=[{key:"renderOptions",value:function(){var t=this,e=[];if(this.props.nullable){var r=this.state.values.includes("");e.push((0,h.jsxs)("div",{className:"select-list__option",onClick:function(e){return t.handleOptionClick("")},children:[(0,h.jsx)("div",{className:"select-list__option-icon",children:this.props.multiple?(0,h.jsx)(q,{name:r?"check_box":"check_box_outline_blank"}):(0,h.jsx)(q,{name:r?"radio_button_checked":"radio_button_unchecked"})}),(0,h.jsxs)("div",{className:"select-list__option-value",children:["– ",ut.get("snippets.none")," –"]})]},""))}var n=function(r){if(t.props.options.hasOwnProperty(r)){var n=t.state.values.includes(r);e.push((0,h.jsxs)("div",{className:"select-list__option"+(n?" select-list__option--selected":""),onClick:function(e){return t.handleOptionClick(r)},children:[(0,h.jsx)("div",{className:"select-list__option-icon",children:t.props.multiple?(0,h.jsx)(q,{name:n?"check_box":"check_box_outline_blank"}):(0,h.jsx)(q,{name:n?"radio_button_checked":"radio_button_unchecked"})}),(0,h.jsx)("div",{className:"select-list__option-value",children:t.props.options[r]})]},r))}};for(var o in this.props.options)n(o);return e}},{key:"clear",value:function(){var t=this;this.setState({values:[]},(function(){t.props.onChange(t.state.values)}))}},{key:"handleOptionClick",value:function(t){this.props.multiple?this.toggleSelection(t):this.selectOnly(t)}},{key:"selectOnly",value:function(t){var e=this;this.setState({values:[t]},(function(){e.props.onChange(e.state.values)}))}},{key:"toggleSelection",value:function(t){var e=this;this.state.values.includes(t)?this.state.values=this.state.values.filter((function(e){return e!==t})):this.state.values.push(t),this.setState({values:this.state.values},(function(){e.props.onChange(e.state.values)}))}},{key:"render",value:function(){return(0,h.jsx)("div",{className:"select-list",children:(0,h.jsx)("div",{className:"select-list__options",children:this.renderOptions()})})}}],r&&an(e.prototype,r),n&&an(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);!function(t,e,r){(e=pn(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(dn,"defaultProps",{onChange:function(t){},multiple:!0,options:{},defaultValues:[],nullable:!1});const yn=dn;function hn(t){return hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hn(t)}function bn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,jn(n.key),n)}}function mn(t,e){return mn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},mn(t,e)}function vn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=gn(t);if(e){var o=gn(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===hn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function gn(t){return gn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},gn(t)}function jn(t){var e=function(t,e){if("object"!==hn(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==hn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===hn(e)?e:String(e)}var wn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mn(t,e)}(i,t);var e,r,n,o=vn(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={value:""},e.searchTimeout=null,e}return e=i,(r=[{key:"handleChange",value:function(t){clearTimeout(this.searchTimeout),this.setState({value:t.target.value}),this.searchTimeout=setTimeout(this.search.bind(this),this.props.debounce)}},{key:"handleSubmit",value:function(t){this.search(),t.preventDefault()}},{key:"search",value:function(){this.props.onSearch(this.state.value)}},{key:"clear",value:function(){var t=this;this.setState({value:""},(function(){t.search()}))}},{key:"render",value:function(){return(0,h.jsxs)("div",{className:"search"+(this.state.value?" search--searching":""),children:[(0,h.jsx)("div",{className:"search__icon",children:(0,h.jsx)(q,{name:"search"})}),(0,h.jsx)("input",{autoComplete:"off",className:"search__input",name:"search",value:this.state.value,onChange:this.handleChange.bind(this),placeholder:ut.get("snippets.search")}),(0,h.jsx)("div",{className:"search__clear",children:(0,h.jsx)(ir,{style:"transparent",iconStyle:"mini",name:"clear",onClick:this.clear.bind(this)})})]})}}])&&bn(e.prototype,r),n&&bn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);!function(t,e,r){(e=jn(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(wn,"defaultProps",{modifiers:["negative"],placeholder:"Type to search...",onSearch:function(t){},debounce:1e3});const On=wn,_n=function(t,e){return Object.keys(t).filter((function(r){return e(t[r])})).reduce((function(e,r){return e[r]=t[r],e}),{})};function Pn(t){return Pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pn(t)}function Sn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,En(n.key),n)}}function xn(t,e){return xn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},xn(t,e)}function kn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Rn(t);if(e){var o=Rn(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Pn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Cn(t)}(this,r)}}function Cn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Rn(t){return Rn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Rn(t)}function En(t){var e=function(t,e){if("object"!==Pn(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Pn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Pn(e)?e:String(e)}var Tn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xn(t,e)}(c,t);var e,r,n,i=kn(c);function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=i.call(this,t)).state={isOpen:!1,isSearching:!1,searchResults:e.props.options,value:e.getDefaultValue()},e.selectRef=o.createRef(),e.handleDocumentClick=e.onDocumentClick.bind(Cn(e)),e}return e=c,r=[{key:"getDefaultValue",value:function(){var t=this.props.multiple?[]:"",e=this.props.multiple?[Object.keys(this.props.options)[0]]:Object.keys(this.props.options)[0];return this.props.value||(this.props.nullable?t:e||t)}},{key:"componentDidUpdate",value:function(t){this.props.value!==t.value&&this.setState({value:this.props.value})}},{key:"componentWillUnmount",value:function(){this.unbindDocumentClick()}},{key:"bindDocumentClick",value:function(){document.addEventListener("click",this.handleDocumentClick)}},{key:"unbindDocumentClick",value:function(){document.removeEventListener("click",this.handleDocumentClick)}},{key:"onDocumentClick",value:function(t){this.selectRef.current.contains(t.target)||this.close()}},{key:"toggle",value:function(){this.state.isOpen?this.close():this.open()}},{key:"open",value:function(){this.setState({isOpen:!0}),this.bindDocumentClick()}},{key:"close",value:function(){this.setState({isOpen:!1,searchResults:this.props.options}),this.unbindDocumentClick()}},{key:"search",value:function(t){t?this.setState({isSearching:!0,searchResults:_n(this.props.options,(function(e){return e.toLowerCase().startsWith(t.toLowerCase())}))}):this.setState({isSearching:!1,searchResults:this.props.options})}},{key:"handleSelectionChange",value:function(t){var e=this;this.setState({isOpen:this.props.multiple,options:this.props.options,value:this.props.multiple?t:t[0]},(function(){e.props.onChange(e.state.value)}))}},{key:"renderDropdownChildren",value:function(){return this.props.children?(0,h.jsx)("div",{className:"select__footer",children:this.props.children}):null}},{key:"renderDropdown",value:function(){var t,e=this;return this.state.isOpen?(this.props.search&&Object.keys(this.props.options).length>5&&(t=(0,h.jsx)("div",{className:"select__search",children:(0,h.jsx)(On,{debounce:100,onSearch:function(t){return e.search(t)}})})),(0,h.jsxs)("div",{className:"select__dropdown",children:[t,(0,h.jsx)("div",{className:"select__list",children:(0,h.jsx)(yn,{nullable:this.props.nullable,multiple:this.props.multiple,defaultValues:this.props.multiple?this.state.value:[this.state.value],options:this.state.isSearching?this.state.searchResults:this.props.options,onChange:function(t){return e.handleSelectionChange(t)}})}),this.renderDropdownChildren()]})):null}},{key:"render",value:function(){var t,e=this;return t=this.props.multiple?this.state.value.length?this.state.value.map((function(t){return e.props.options[t]})).join(", "):this.props.nullText:this.props.options[this.state.value]?this.props.options[this.state.value]:this.props.nullText,(0,h.jsxs)("div",{className:"select",ref:this.selectRef,children:[(0,h.jsxs)("div",{className:"select__field",onClick:this.toggle.bind(this),children:[(0,h.jsx)("div",{className:"select__value",children:t}),(0,h.jsx)("div",{className:"select__icon",children:(0,h.jsx)(q,{name:this.state.isOpen?this.props.closeIcon:this.props.openIcon})})]}),this.renderDropdown()]})}}],r&&Sn(e.prototype,r),n&&Sn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(o.Component);!function(t,e,r){(e=En(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(Tn,"defaultProps",{options:{},multiple:!1,value:"",search:!0,nullable:!1,nullText:"",onChange:function(t){},openIcon:"expand_more",closeIcon:"expand_less"});const Nn=Tn;function Dn(t){return Dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dn(t)}function Fn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Mn(n.key),n)}}function Bn(t,e){return Bn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Bn(t,e)}function Ln(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=In(t);if(e){var o=In(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Dn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function In(t){return In=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},In(t)}function Mn(t){var e=function(t,e){if("object"!==Dn(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Dn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Dn(e)?e:String(e)}var An=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bn(t,e)}(i,t);var e,r,n,o=Ln(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={value:e.props.data[e.props.name]||Object.keys(e.props.options)[0]},e}return e=i,r=[{key:"componentDidUpdate",value:function(t){this.props.data[this.props.name]!==t.data[this.props.name]&&this.setState({value:this.props.data[this.props.name]||Object.keys(this.props.options)[0]})}},{key:"getData",value:function(t){return t[this.props.name]=this.state.value,t}},{key:"handleSubmit",value:function(t){t[this.props.name]=this.state.value}},{key:"handleChange",value:function(t){this.setState({value:t})}},{key:"render",value:function(){var t=this;return(0,h.jsx)(Nt,{name:this.props.name,required:!1,label:this.props.label,tooltip:this.props.tooltip,children:(0,h.jsx)(Nn,{value:this.state.value,options:this.props.options,onChange:function(e){return t.handleChange(e)}})})}}],r&&Fn(e.prototype,r),n&&Fn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);function Un(t){return Un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Un(t)}function Vn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Gn(n.key),n)}}function zn(t,e){return zn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},zn(t,e)}function qn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Wn(t);if(e){var o=Wn(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Un(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Wn(t){return Wn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Wn(t)}function Gn(t){var e=function(t,e){if("object"!==Un(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Un(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Un(e)?e:String(e)}!function(t,e,r){(e=Mn(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(An,"defaultProps",{data:{},label:"",name:"",options:{},disabled:!1,showRequiredIndicator:!1,tooltip:""});var Kn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zn(t,e)}(i,t);var e,r,n,o=qn(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"render",value:function(){return this.props.data&&void 0!==this.props.data[this.props.name]?(0,h.jsx)("div",{className:"enum-view enum-view--"+this.props.style,children:this.props.options[this.props.data[this.props.name]]}):null}}])&&Vn(e.prototype,r),n&&Vn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);!function(t,e,r){(e=Gn(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(Kn,"defaultProps",{data:{},label:"",name:"",options:{}});const Hn=Kn;function Qn(t){return Qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qn(t)}function Yn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Xn(n.key),n)}}function Zn(t,e){return Zn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Zn(t,e)}function $n(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Jn(t);if(e){var o=Jn(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Qn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Jn(t){return Jn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Jn(t)}function Xn(t){var e=function(t,e){if("object"!==Qn(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Qn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Qn(e)?e:String(e)}var to=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zn(t,e)}(i,t);var e,r,n,o=$n(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={value:!1},e}return e=i,(r=[{key:"componentDidUpdate",value:function(t){this.props.data[this.props.name]!==t.data[this.props.name]&&this.setState({value:this.props.data[this.props.name]})}},{key:"handleChange",value:function(t){this.setState({value:t.target.checked?1:0})}},{key:"handleSubmit",value:function(t){t[this.props.name]=this.state.value}},{key:"render",value:function(){return(0,h.jsx)(Nt,{name:this.props.name,tooltip:this.props.tooltip,required:this.props.showRequiredIndicator,label:this.props.label,children:(0,h.jsx)("input",{id:bt.inputId(this.props.name),name:this.props.name,className:"checkbox",type:"checkbox",checked:1===this.state.value,disabled:this.props.disabled,onChange:this.handleChange.bind(this),onKeyUp:this.handleChange.bind(this)})})}}])&&Yn(e.prototype,r),n&&Yn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);function eo(t){return eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eo(t)}function ro(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,co(n.key),n)}}function no(t,e){return no=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},no(t,e)}function oo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=io(t);if(e){var o=io(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===eo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function io(t){return io=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},io(t)}function co(t){var e=function(t,e){if("object"!==eo(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==eo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===eo(e)?e:String(e)}!function(t,e,r){(e=Xn(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(to,"defaultProps",{data:{},label:"",name:"",tooltip:"",disabled:!1,showRequiredIndicator:!1});var uo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&no(t,e)}(i,t);var e,r,n,o=oo(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"render",value:function(){return this.props.data&&void 0!==this.props.data[this.props.name]?(0,h.jsx)(Nt,{name:this.props.name,label:this.props.label,children:(0,h.jsx)("div",{className:"boolean-view boolean-view--"+(1===this.props.data[this.props.name]?"checked":"unchecked")})}):null}}])&&ro(e.prototype,r),n&&ro(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);!function(t,e,r){(e=co(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(uo,"defaultProps",{data:{},label:"",name:""});const ao=uo;function so(t){return so="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},so(t)}function lo(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ho(n.key),n)}}function fo(t,e){return fo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},fo(t,e)}function po(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=yo(t);if(e){var o=yo(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===so(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function yo(t){return yo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},yo(t)}function ho(t){var e=function(t,e){if("object"!==so(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==so(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===so(e)?e:String(e)}var bo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fo(t,e)}(i,t);var e,r,n,o=po(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).componentList=[],e.state={open:!0},e}return e=i,r=[{key:"handleSubmit",value:function(t){this.componentList.forEach((function(e){e.ref.current.handleSubmit(t)}))}},{key:"toggle",value:function(){this.setState({open:!this.state.open})}},{key:"render",value:function(){var t;this.props.title&&(t=(0,h.jsxs)("div",{className:"section__header",children:[(0,h.jsx)("div",{className:"section__title",children:this.props.title}),(0,h.jsx)("div",{className:"section__collapse-button",onClick:this.toggle.bind(this)})]})),this.componentList=oy.renderComponentsWith(this.props.components,this.props.data,this.props.path,(function(t,e){return(0,h.jsx)("div",{className:"section__component",children:t},e)}),!0,this.props.errors);var e=this.componentList.map((function(t){return t.component}));return(0,h.jsxs)("div",{className:"section section--"+(this.state.open?"open":"closed"),children:[t,(0,h.jsx)("div",{className:"section__content",children:e})]})}}],r&&lo(e.prototype,r),n&&lo(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);!function(t,e,r){(e=ho(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(bo,"defaultProps",{title:"",components:[],path:{},data:{},errors:{}});const mo=bo;function vo(t){return vo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vo(t)}function go(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_o(n.key),n)}}function jo(t,e){return jo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},jo(t,e)}function wo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Oo(t);if(e){var o=Oo(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===vo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Oo(t){return Oo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Oo(t)}function _o(t){var e=function(t,e){if("object"!==vo(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==vo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===vo(e)?e:String(e)}var Po=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jo(t,e)}(i,t);var e,r,n,o=wo(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"render",value:function(){return(0,h.jsx)("h1",{className:d("title",this.props.style),children:this.props.children})}}])&&go(e.prototype,r),n&&go(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);!function(t,e,r){(e=_o(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(Po,"defaultProps",{style:"default"});const So=Po;function xo(t){return xo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xo(t)}function ko(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,To(n.key),n)}}function Co(t,e){return Co=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Co(t,e)}function Ro(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Eo(t);if(e){var o=Eo(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===xo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Eo(t){return Eo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Eo(t)}function To(t){var e=function(t,e){if("object"!==xo(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==xo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===xo(e)?e:String(e)}var No=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Co(t,e)}(i,t);var e,r,n,o=Ro(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"handleSubmit",value:function(t){}},{key:"renderHeaderComponents",value:function(){var t=this;return this.props.action.header?this.props.action.header.map((function(e,r){return(0,h.jsx)("div",{className:"action-component__header-component",children:oy.renderComponent(e,{},t.props.path)},r)})):null}},{key:"renderHeader",value:function(){return this.props.title||this.props.action.title||this.props.action.header?(0,h.jsxs)("div",{className:"action-component__header",children:[(0,h.jsx)("div",{className:"action-component__title",children:(0,h.jsx)(So,{style:"small",children:this.props.title||this.props.action.title})}),(0,h.jsx)("div",{className:"action-component__header-components",children:this.renderHeaderComponents()})]}):null}},{key:"render",value:function(){return(0,h.jsxs)("div",{className:"action-component",children:[this.renderHeader(),(0,h.jsx)("div",{className:"action-component__content",children:Tb.renderAction(this.props.action,this.props.data,this.props.path)})]})}}])&&ko(e.prototype,r),n&&ko(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);function Do(t){return Do="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Do(t)}function Fo(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Mo(n.key),n)}}function Bo(t,e){return Bo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Bo(t,e)}function Lo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Io(t);if(e){var o=Io(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Do(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Io(t){return Io=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Io(t)}function Mo(t){var e=function(t,e){if("object"!==Do(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Do(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Do(e)?e:String(e)}!function(t,e,r){(e=To(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(No,"defaultProps",{data:{},action:{},path:{},title:""});var Ao=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bo(t,e)}(i,t);var e,r,n,o=Lo(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).componentLists=[],e.state={currentTabIndex:0},e}return e=i,r=[{key:"handleSubmit",value:function(t){this.componentLists.forEach((function(e){e.forEach((function(e){e.ref.current.handleSubmit(t)}))}))}},{key:"getData",value:function(t){return this.componentLists.forEach((function(e){e.forEach((function(e){e.ref.current.getData(t)}))})),t}},{key:"switchTab",value:function(t){this.setState({currentTabIndex:t})}},{key:"getTabsNav",value:function(){var t=this;return this.props.tabs.map((function(e,r){return(0,h.jsx)("div",{className:"tabs__nav-item"+(r===t.state.currentTabIndex?" tabs__nav-item--active":""),onClick:function(e){return t.switchTab(r)},children:(0,h.jsx)("div",{className:"tabs__tab-title",children:e.title})},r)}))}},{key:"getTabsContent",value:function(){var t=this;return this.props.tabs.map((function(e,r){return(0,h.jsx)("div",{className:"tabs__tab",style:{display:r===t.state.currentTabIndex?"block":"none"},children:t.componentLists[r].map((function(t){return t.component}))},r)}))}},{key:"render",value:function(){var t=this;return this.componentLists=this.props.tabs.map((function(e,r){return oy.renderComponentsWith(e.components,t.props.data,t.props.path,(function(t,e){return(0,h.jsx)("div",{className:"tabs__component",children:t},e)}),!0,t.props.errors)})),(0,h.jsxs)("div",{className:"tabs",children:[(0,h.jsx)("div",{className:"tabs__nav",children:this.getTabsNav()}),(0,h.jsx)("div",{className:"tabs__content",children:this.getTabsContent()})]})}}],r&&Fo(e.prototype,r),n&&Fo(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);!function(t,e,r){(e=Mo(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(Ao,"defaultProps",{tabs:{},path:{},data:{},errors:{}});const Uo=Ao;function Vo(t){return Vo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vo(t)}function zo(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ko(n.key),n)}}function qo(t,e){return qo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},qo(t,e)}function Wo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Go(t);if(e){var o=Go(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Vo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Go(t){return Go=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Go(t)}function Ko(t){var e=function(t,e){if("object"!==Vo(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Vo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Vo(e)?e:String(e)}var Ho=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qo(t,e)}(i,t);var e,r,n,o=Wo(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,r&&zo(e.prototype,r),n&&zo(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(At);function Qo(t){return Qo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qo(t)}function Yo(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Xo(n.key),n)}}function Zo(t,e){return Zo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Zo(t,e)}function $o(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Jo(t);if(e){var o=Jo(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Qo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Jo(t){return Jo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Jo(t)}function Xo(t){var e=function(t,e){if("object"!==Qo(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Qo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Qo(e)?e:String(e)}!function(t,e,r){(e=Ko(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(Ho,"defaultProps",{htmlType:"password"});var ti=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zo(t,e)}(i,t);var e,r,n,o=$o(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,r&&Yo(e.prototype,r),n&&Yo(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(At);function ei(t){return ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ei(t)}function ri(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ci(n.key),n)}}function ni(t,e){return ni=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ni(t,e)}function oi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=ii(t);if(e){var o=ii(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===ei(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function ii(t){return ii=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ii(t)}function ci(t){var e=function(t,e){if("object"!==ei(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==ei(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===ei(e)?e:String(e)}!function(t,e,r){(e=Xo(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(ti,"defaultProps",{htmlType:"email"});var ui=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ni(t,e)}(i,t);var e,r,n,o=oi(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={number:"-"},e}return e=i,r=[{key:"componentDidMount",value:function(){var t=this;We.execute.get(this.props.path,this.props.id,"load",this.props.path.params).then((function(e){t.setState({number:e.data})}))}},{key:"render",value:function(){var t=this.props.icon?(0,h.jsx)("div",{className:"custom-number__icon",children:(0,h.jsx)(q,{name:this.props.icon,style:["medium","soft"]})}):null,e=this.props.title?(0,h.jsx)("div",{className:"custom-number__title",children:this.props.title}):null;return(0,h.jsxs)("div",{className:"custom-number custom-number--"+this.props.style,children:[t,this.state.number,e]})}}],r&&ri(e.prototype,r),n&&ri(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);!function(t,e,r){(e=ci(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(ui,"defaultProps",{path:{},type:"",id:0,style:"default",icon:null,title:""});const ai=ui;function si(t){return si="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},si(t)}function li(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,yi(n.key),n)}}function fi(t,e){return fi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},fi(t,e)}function pi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=di(t);if(e){var o=di(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===si(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function di(t){return di=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},di(t)}function yi(t){var e=function(t,e){if("object"!==si(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==si(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===si(e)?e:String(e)}var hi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fi(t,e)}(i,t);var e,r,n,o=pi(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"render",value:function(){var t={};return this.props.data&&void 0!==this.props.data[this.props.name]&&(t.backgroundColor=this.props.data[this.props.name]),(0,h.jsx)(Nt,{name:this.props.name,label:this.props.label,children:(0,h.jsx)("div",{className:"color-view",style:t})})}}])&&li(e.prototype,r),n&&li(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);!function(t,e,r){(e=yi(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(hi,"defaultProps",{data:{},label:"",name:""});const bi=hi;function mi(t){return mi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mi(t)}function vi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gi(n.key),n)}}function gi(t){var e=function(t,e){if("object"!==mi(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==mi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===mi(e)?e:String(e)}function ji(t,e){return ji=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ji(t,e)}function wi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Oi(t);if(e){var o=Oi(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===mi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Oi(t){return Oi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Oi(t)}var _i=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ji(t,e)}(i,t);var e,r,n,o=wi(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={busy:[],done:[]},e}return e=i,r=[{key:"handleChange",value:function(t){for(var e=t.target.files,r=0;r<e.length;r++)this.upload(e[r])}},{key:"upload",value:function(t){var e=this,r=this.state.busy;r.push({filename:t.name}),this.setState({busy:r});var n=new FormData;n.append("file",t),We.execute.post(this.props.path,this.props.id,"upload",n).then((function(t){var r=t.data;e.done(r)}))}},{key:"done",value:function(t){var e=this.state.done;e.unshift(t),this.setState({done:e})}},{key:"renderDone",value:function(){return(0,h.jsx)("div",{className:"uploads",children:this.state.done.map((function(t,e){return(0,h.jsxs)("div",{className:"uploads__thumb",children:[(0,h.jsx)("img",{src:"storage/"+t.filename}),t.mime_type]},e)}))})}},{key:"renderBusy",value:function(){return(0,h.jsx)("div",{className:"uploads",children:this.state.busy.map((function(t,e){return(0,h.jsx)("div",{className:"uploads__bar",children:t.filename},e)}))})}},{key:"render",value:function(){return(0,h.jsxs)("div",{className:"file-upload",children:[this.renderDone(),this.renderBusy(),(0,h.jsx)("input",{type:"file",id:bt.inputId("file"),name:"file",multiple:!0,onChange:this.handleChange.bind(this)})]})}}],r&&vi(e.prototype,r),n&&vi(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);const Pi=_i;function Si(t){return Si="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Si(t)}function xi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ti(n.key),n)}}function ki(){return ki="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ei(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},ki.apply(this,arguments)}function Ci(t,e){return Ci=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ci(t,e)}function Ri(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Ei(t);if(e){var o=Ei(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Si(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Ei(t){return Ei=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ei(t)}function Ti(t){var e=function(t,e){if("object"!==Si(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Si(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Si(e)?e:String(e)}var Ni=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ci(t,e)}(c,t);var e,r,n,i=Ri(c);function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=i.call(this,t)).state={value:e.props.data[e.props.name]||"",slugValue:e.props.data[e.props.slugName]||""},e}return e=c,(r=[{key:"handleSubmit",value:function(t){t[this.props.name]=this.state.value,t[this.props.slugName]=this.state.slugValue}},{key:"componentDidUpdate",value:function(t){this.props.data[this.props.name]!==t.data[this.props.name]&&this.setState({value:this.props.data[this.props.name],slugValue:this.props.data[this.props.slugName]})}},{key:"handleChange",value:function(t){this.setState({value:t.target.value,slugValue:Qt(t.target.value)})}},{key:"renderSlugPrefix",value:function(){return(0,h.jsx)("span",{className:"text-to-slug-field__slug-prefix",children:this.props.slugPrefix})}},{key:"changeSlugValue",value:function(){var t=this;Zt.prompt({title:ut.get("snippets.update_slug"),defaultValue:this.state.slugValue,confirm:function(e){t.setState({slugValue:Qt(e)})}})}},{key:"render",value:function(){var t=(0,h.jsx)("span",{className:"text-to-slug-field__slug-placeholder",children:"–"});return this.state.slugValue&&(t=(0,h.jsxs)(o.Fragment,{children:[this.renderSlugPrefix(),(0,h.jsx)("span",{className:"text-to-slug-field__slug-slug",onClick:this.changeSlugValue.bind(this),children:this.state.slugValue})]})),(0,h.jsxs)("div",{className:"text-to-slug-field",children:[(0,h.jsx)("div",{className:"text-to-slug-field__field",children:ki(Ei(c.prototype),"render",this).call(this)}),(0,h.jsx)("div",{className:"text-to-slug-field__slug",children:t})]})}}])&&xi(e.prototype,r),n&&xi(e,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(At);function Di(t){return Di="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Di(t)}function Fi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Mi(n.key),n)}}function Bi(t,e){return Bi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Bi(t,e)}function Li(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Ii(t);if(e){var o=Ii(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Di(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Ii(t){return Ii=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ii(t)}function Mi(t){var e=function(t,e){if("object"!==Di(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Di(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Di(e)?e:String(e)}!function(t,e,r){(e=Ti(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(Ni,"defaultProps",{data:{},path:{},type:"",id:0,label:"",slugName:"",slugPrefix:"",tooltip:""});var Ai=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bi(t,e)}(i,t);var e,r,n,o=Li(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"render",value:function(){return(0,h.jsxs)("div",{className:"placeholder"+(this.props.onClick?" placeholder--clickable":""),onClick:this.props.onClick,children:[(0,h.jsx)("div",{className:"placeholder__icon",children:(0,h.jsx)(q,{name:this.props.icon,style:"placeholder"})}),(0,h.jsx)("div",{className:"placeholder__text",children:this.props.children}),this.props.button?(0,h.jsx)("div",{className:"placeholder__button",children:(0,h.jsx)(ye,{text:this.props.button,style:["secondary","small"],icon:this.props.icon,onClick:this.props.onClick})}):null]})}}])&&Fi(e.prototype,r),n&&Fi(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);!function(t,e,r){(e=Mi(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(Ai,"defaultProps",{icon:"upload_file",button:"",onClick:null});const Ui=Ai;function Vi(t){return Vi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vi(t)}function zi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ki(n.key),n)}}function qi(t,e){return qi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},qi(t,e)}function Wi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Gi(t);if(e){var o=Gi(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Vi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Gi(t){return Gi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Gi(t)}function Ki(t){var e=function(t,e){if("object"!==Vi(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Vi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Vi(e)?e:String(e)}var Hi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qi(t,e)}(c,t);var e,r,n,i=Wi(c);function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=i.call(this,t)).state={value:"",fileAction:""},e.inputRef=o.createRef(),e.files=[],e}return e=c,r=[{key:"componentDidUpdate",value:function(t){this.props.data[this.props.name]!==t.data[this.props.name]&&this.setState({value:this.props.data[this.props.name],fileAction:"keep"})}},{key:"handleSubmit",value:function(t){"keep"===this.state.fileAction?t[this.props.name]="keep":this.files.length&&(t[this.props.name]=this.files[0]),t[this.props.name+"_action"]=this.state.fileAction}},{key:"onChange",value:function(t){var e=this;this.files=t.target.files;var r=this.files[0];if(r.type.match(/image.*/)){var n=new FileReader;n.onload=function(t){e.setState({value:n.result,fileAction:"create"})},n.readAsDataURL(r)}}},{key:"deselect",value:function(){this.inputRef.current.value="",this.setState({value:"",fileAction:"delete"})}},{key:"render",value:function(){var t,e=(0,h.jsx)("input",{ref:this.inputRef,type:"file",id:bt.inputId(this.props.name),name:this.props.name,className:"image-upload__input",onChange:this.onChange.bind(this)});return this.state.value?(this.props.isRequired||(t=(0,h.jsx)("div",{className:"image-upload__options",children:(0,h.jsx)(Oe,{text:"Remove",onClick:this.deselect.bind(this)})})),(0,h.jsx)(Nt,{name:this.props.name,label:this.props.label,children:(0,h.jsxs)("div",{className:"image-upload",children:[(0,h.jsxs)("div",{className:"image-upload__thumbnail",children:[(0,h.jsx)("img",{src:this.state.value}),e]}),t]})})):(0,h.jsx)(Nt,{name:this.props.name,label:this.props.label,children:(0,h.jsx)("div",{className:"image-upload",children:(0,h.jsxs)("div",{className:"image-upload__placeholder",children:[(0,h.jsxs)(Ui,{icon:"upload_file",children:["Select a ",this.props.name]}),e]})})})}}],r&&zi(e.prototype,r),n&&zi(e,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(o.Component);function Qi(t){return Qi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qi(t)}function Yi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Xi(n.key),n)}}function Zi(t,e){return Zi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Zi(t,e)}function $i(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Ji(t);if(e){var o=Ji(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Qi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Ji(t){return Ji=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ji(t)}function Xi(t){var e=function(t,e){if("object"!==Qi(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Qi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Qi(e)?e:String(e)}!function(t,e,r){(e=Ki(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(Hi,"defaultProps",{data:{},label:"",name:"",isRequired:!1});var tc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zi(t,e)}(i,t);var e,r,n,o=$i(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={value:""},e}return e=i,(r=[{key:"componentDidUpdate",value:function(t){this.props.data[this.props.name]!==t.data[this.props.name]&&this.setState({value:this.props.data[this.props.name]})}},{key:"handleChange",value:function(t){this.setState({value:t.target.value})}},{key:"handleSubmit",value:function(t){t[this.props.name]=this.state.value||""}},{key:"render",value:function(){return(0,h.jsx)(Nt,{name:this.props.name,required:this.props.showRequiredIndicator,label:this.props.label,errors:this.props.errors,tooltip:this.props.tooltip,children:(0,h.jsx)("input",{id:bt.inputId(this.props.name),name:this.props.name,className:"date-time-field",type:"datetime-local",value:this.state.value,disabled:this.props.disabled,onChange:this.handleChange.bind(this),onKeyUp:this.handleChange.bind(this)})})}}])&&Yi(e.prototype,r),n&&Yi(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);function ec(t){return ec="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ec(t)}function rc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,cc(n.key),n)}}function nc(t,e){return nc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},nc(t,e)}function oc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=ic(t);if(e){var o=ic(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===ec(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function ic(t){return ic=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ic(t)}function cc(t){var e=function(t,e){if("object"!==ec(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==ec(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===ec(e)?e:String(e)}!function(t,e,r){(e=Xi(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(tc,"defaultProps",{data:{},label:"",name:"",tooltip:"",errors:{}});var uc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nc(t,e)}(c,t);var e,r,n,i=oc(c);function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=i.call(this,t)).state={createFormErrors:{},value:e.props.data[e.props.name]?e.props.data[e.props.name].id:"",options:{},isOpen:!1},e.createFormRef=o.createRef(),e}return e=c,r=[{key:"handleSubmit",value:function(t){t[this.props.name]=this.state.value}},{key:"getData",value:function(t){var e=this;return t[this.props.name]=this.state.value?this.state.options.find((function(t){return t.id===e.state.value})):null,t}},{key:"componentDidUpdate",value:function(t){this.props.data[this.props.name]!==t.data[this.props.name]&&this.props.data[this.props.name]&&this.setState({value:this.props.data[this.props.name].id})}},{key:"componentDidMount",value:function(){this.load()}},{key:"load",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;We.execute.get(this.props.path,this.props.id,"load",this.props.path.params).then((function(r){var n=r.data.data,o={};n.forEach((function(e){return o[e.id]=e[t.props.titleColumn]}));var i=t.state.value?t.state.value:t.props.nullable?"":n[0].id;t.setState({value:i,options:o},(function(){e&&e()}))}))}},{key:"handleChange",value:function(t){this.setState({value:t})}},{key:"open",value:function(){this.setState({isOpen:!0})}},{key:"close",value:function(){this.setState({isOpen:!1})}},{key:"create",value:function(t){var e=this;We.execute.post(this.props.path,this.props.id,"create",t).then((function(t){e.createFormRef.current.ready(),e.load((function(){e.setState({isOpen:!1,value:t.data.data.id})})),Zt.notify(ut.get("snippets.singular_created_selected",{singular:e.props.singular}))}),(function(t){var r=t.response;e.createFormRef.current.ready(),e.setState({createFormErrors:r.data.errors}),Zt.notify(r.data.message)}))}},{key:"renderSidebarComponents",value:function(){return oy.renderComponents(this.props.sidebarComponents,{},this.props.path)}},{key:"renderCreateComponents",value:function(){return oy.renderComponents(this.props.createComponents,{},this.props.path)}},{key:"renderCreateWidget",value:function(){return this.state.isOpen?(0,h.jsx)($e,{children:(0,h.jsx)(dr,{title:ut.get("snippets.new_singular",{singular:this.props.singular}),style:"modal",closeable:!0,onClose:this.close.bind(this),children:(0,h.jsx)(Pr,{ref:this.createFormRef,errors:this.state.createFormErrors,realForm:!1,onSubmit:this.create.bind(this),submitButtonText:ut.get("snippets.create_singular",{singular:this.props.singular}),sidebar:this.renderSidebarComponents(),children:this.renderCreateComponents()})})}):null}},{key:"renderCreate",value:function(){return this.props.create?(0,h.jsx)("div",{className:"belongs-to-field__btn",children:(0,h.jsx)(ye,{icon:"add",style:["full","small","secondary"],text:ut.get("snippets.new_singular",{singular:this.props.singular}),onClick:this.open.bind(this)})}):null}},{key:"render",value:function(){var t=this;return(0,h.jsxs)(Nt,{name:this.props.name,label:this.props.label,tooltip:this.props.tooltip,children:[(0,h.jsx)("div",{className:"belongs-to-field",children:(0,h.jsx)("div",{className:"belongs-to-field__field",children:(0,h.jsx)(Nn,{nullable:this.props.nullable,nullText:"– "+ut.get("snippets.no_singular_selected",{singular:this.props.singular})+" –",options:this.state.options,value:this.state.value,onChange:function(e){return t.handleChange(e)},children:this.renderCreate()})})}),this.renderCreateWidget()]})}}],r&&rc(e.prototype,r),n&&rc(e,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(o.Component);!function(t,e,r){(e=cc(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(uc,"defaultProps",{data:{},label:"",name:"",titleColumn:"",nullable:!1,plural:"",singular:"",tooltip:"",create:!1,createComponents:[],sidebarComponents:[]});const ac=uc;function sc(t){return sc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sc(t)}function lc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,yc(n.key),n)}}function fc(t,e){return fc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},fc(t,e)}function pc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=dc(t);if(e){var o=dc(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===sc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function dc(t){return dc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},dc(t)}function yc(t){var e=function(t,e){if("object"!==sc(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==sc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===sc(e)?e:String(e)}var hc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fc(t,e)}(i,t);var e,r,n,o=pc(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"render",value:function(){return this.props.data&&void 0!==this.props.data[this.props.name]?(0,h.jsx)("div",{className:"belongs-to-view",children:this.props.data[this.props.name]}):null}}])&&lc(e.prototype,r),n&&lc(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);!function(t,e,r){(e=yc(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(hc,"defaultProps",{data:{},label:"",name:""});const bc=hc;var mc=r(6250),vc=r.n(mc),gc=r(4244);r(5432);const jc=function(t){var e=Math.floor(Math.log(t)/Math.log(1e3));return 1*(t/Math.pow(1e3,e)).toFixed()+" "+["bytes","kB","MB","GB","TB"][e]};function wc(t){return wc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wc(t)}function Oc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,xc(n.key),n)}}function _c(t,e){return _c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_c(t,e)}function Pc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Sc(t);if(e){var o=Sc(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===wc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Sc(t){return Sc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Sc(t)}function xc(t){var e=function(t,e){if("object"!==wc(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==wc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===wc(e)?e:String(e)}var kc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_c(t,e)}(i,t);var e,r,n,o=Pc(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={redrawKey:0,value:e.props.data[e.props.name]||""},e}return e=i,(r=[{key:"handleEditorReady",value:function(t){vc().config.textAttributes.sup={tagName:"sup",inheritable:!1};var e=t.element.editorController.toolbarController.element,r=e.querySelector(".trix-button-group");r&&r.insertAdjacentHTML("beforeend",'<button type="button" data-trix-attribute="sup" class="trix-button">A<sup>2</sup></button>');var n=e.querySelector(".trix-button-group--block-tools");n&&n.remove();var o=e.querySelector(".trix-button-group--file-tools");o&&o.remove()}},{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"componentDidUpdate",value:function(t){this.props.data[this.props.name]!==t.data[this.props.name]&&this.setState({redrawKey:this.state.redrawKey+1,value:this.props.data[this.props.name]||""})}},{key:"handleChange",value:function(t,e){this.setState({value:t})}},{key:"handleSubmit",value:function(t){t[this.props.name]=this.state.value||""}},{key:"getData",value:function(t){return t[this.props.name]=this.state.value||"",t}},{key:"render",value:function(){return(0,h.jsx)(Nt,{name:this.props.name,label:this.props.label,tooltip:this.props.tooltip,children:(0,h.jsx)("div",{className:"richtext-field",children:(0,h.jsx)(gc.TrixEditor,{value:this.props.data[this.props.name]||"",onChange:this.handleChange.bind(this),onEditorReady:this.handleEditorReady.bind(this)},this.state.redrawKey)})})}}])&&Oc(e.prototype,r),n&&Oc(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);function Cc(t){return Cc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cc(t)}function Rc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Dc(n.key),n)}}function Ec(t,e){return Ec=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ec(t,e)}function Tc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Nc(t);if(e){var o=Nc(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Cc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Nc(t){return Nc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Nc(t)}function Dc(t){var e=function(t,e){if("object"!==Cc(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Cc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Cc(e)?e:String(e)}!function(t,e,r){(e=xc(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(kc,"defaultProps",{data:{},label:"",name:"",tooltip:""});var Fc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ec(t,e)}(i,t);var e,r,n,o=Tc(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"handleSubmit",value:function(t){}},{key:"render",value:function(){return this.props.data[this.props.name]?(0,h.jsx)(Nt,{name:this.props.name,label:this.props.label,children:(0,h.jsx)("div",{className:"image-view",children:(0,h.jsx)("img",{src:this.props.data[this.props.name]})})}):null}}])&&Rc(e.prototype,r),n&&Rc(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);function Bc(t){return Bc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bc(t)}function Lc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Uc(n.key),n)}}function Ic(t,e){return Ic=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ic(t,e)}function Mc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Ac(t);if(e){var o=Ac(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Bc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Ac(t){return Ac=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ac(t)}function Uc(t){var e=function(t,e){if("object"!==Bc(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Bc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Bc(e)?e:String(e)}!function(t,e,r){(e=Dc(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(Fc,"defaultProps",{data:{},label:"",name:""});var Vc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ic(t,e)}(i,t);var e,r,n,o=Mc(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={value:!!e.props.data[e.props.name]&&1===e.props.data[e.props.name]},e}return e=i,(r=[{key:"componentDidUpdate",value:function(t){this.props.data[this.props.name]!==t.data[this.props.name]&&this.setState({value:1===this.props.data[this.props.name]})}},{key:"handleSubmit",value:function(t){t[this.props.name]=this.state.value?1:0}},{key:"getData",value:function(t){return t[this.props.name]=this.state.value?1:0,t}},{key:"switch",value:function(){this.setState({value:!this.state.value})}},{key:"render",value:function(){return(0,h.jsx)(Nt,{name:this.props.name,label:this.props.label,tooltip:this.props.tooltip,children:(0,h.jsx)("div",{className:"boolean-field boolean-field--"+(this.state.value?"checked":"unchecked"),onClick:this.switch.bind(this)})})}}])&&Lc(e.prototype,r),n&&Lc(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);function zc(t){return zc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zc(t)}function qc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Wc(n.key),n)}}function Wc(t){var e=function(t,e){if("object"!==zc(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==zc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===zc(e)?e:String(e)}function Gc(t,e){return Gc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Gc(t,e)}function Kc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Hc(t);if(e){var o=Hc(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===zc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Hc(t){return Hc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Hc(t)}!function(t,e,r){(e=Uc(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(Vc,"defaultProps",{data:{},label:"",name:"",tooltip:""});const Qc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gc(t,e)}(i,t);var e,r,n,o=Kc(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,r&&qc(e.prototype,r),n&&qc(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(oe);function Yc(t){return Yc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yc(t)}function Zc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tu(n.key),n)}}function $c(t,e){return $c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},$c(t,e)}function Jc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Xc(t);if(e){var o=Xc(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Yc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Xc(t){return Xc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Xc(t)}function tu(t){var e=function(t,e){if("object"!==Yc(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Yc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Yc(e)?e:String(e)}var eu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$c(t,e)}(i,t);var e,r,n,o=Jc(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"handleSubmit",value:function(t){}},{key:"render",value:function(){var t;return this.props.data[this.props.name]&&(t=(0,h.jsx)("img",{src:this.props.data[this.props.name]})),(0,h.jsx)(Nt,{name:this.props.name,label:this.props.label,children:(0,h.jsx)("div",{className:"thumbnail",children:t})})}}])&&Zc(e.prototype,r),n&&Zc(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);function ru(t){return ru="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ru(t)}function nu(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,uu(n.key),n)}}function ou(t,e){return ou=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ou(t,e)}function iu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=cu(t);if(e){var o=cu(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===ru(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function cu(t){return cu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},cu(t)}function uu(t){var e=function(t,e){if("object"!==ru(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==ru(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===ru(e)?e:String(e)}!function(t,e,r){(e=tu(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(eu,"defaultProps",{data:{},label:"",name:""});var au=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ou(t,e)}(i,t);var e,r,n,o=iu(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).componentList=[],e.footerComponentList=[],e}return e=i,r=[{key:"handleSubmit",value:function(t){this.componentList.forEach((function(e){e.ref.current.handleSubmit(t)})),this.footerComponentList.forEach((function(e){e.ref.current.handleSubmit(t)}))}},{key:"renderBooleanView",value:function(){return this.props.booleanView?(0,h.jsx)("div",{className:"card__boolean",children:oy.renderComponent(this.props.booleanView,this.props.data,this.props.path)}):null}},{key:"renderComponents",value:function(){if(!this.props.components.length)return null;this.componentList=oy.renderComponentsWith(this.props.components,this.props.data,this.props.path,(function(t,e){return(0,h.jsx)("div",{className:"card__component",children:t},e)}),!0);var t=this.componentList.map((function(t){return t.component}));return(0,h.jsx)("div",{className:"card__content",children:t})}},{key:"renderFooterComponents",value:function(){if(!this.props.footer.length)return null;this.footerComponentList=oy.renderComponentsWith(this.props.footer,this.props.data,this.props.path,(function(t,e){return(0,h.jsx)("div",{className:"card__component",children:t},e)}),!0);var t=this.footerComponentList.map((function(t){return t.component}));return(0,h.jsx)("div",{className:"card__footer",children:t})}},{key:"render",value:function(){var t,e,r={};return this.props.data[this.props.photo]&&this.props.data[this.props.photo].is_image&&(r.backgroundImage="url("+this.props.data[this.props.photo].conversions.preview+")"),this.props.subtitleField&&this.props.data[this.props.subtitleField]&&(t=(0,h.jsx)("div",{className:"card__subtitle",children:this.props.data[this.props.subtitleField]})),this.props.labelField&&this.props.data[this.props.labelField]&&(e=(0,h.jsx)("div",{className:"card__label",children:this.props.data[this.props.labelField]})),(0,h.jsxs)("div",{className:"card",children:[(0,h.jsxs)("div",{className:"card__photo",style:r,children:[e,this.renderBooleanView()]}),(0,h.jsxs)("div",{className:"card__main",children:[(0,h.jsx)("div",{className:"card__title",children:this.props.data[this.props.titleField]}),t,this.renderComponents()]}),this.renderFooterComponents()]})}}],r&&nu(e.prototype,r),n&&nu(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);!function(t,e,r){(e=uu(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(au,"defaultProps",{data:{},components:[],footer:[],titleField:"",subtitleField:"",labelField:"",booleanView:null,photo:""});const su=au;function lu(t){return lu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lu(t)}function fu(t){return function(t){if(Array.isArray(t))return pu(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return pu(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pu(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pu(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function du(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,vu(n.key),n)}}function yu(t,e){return yu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},yu(t,e)}function hu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=mu(t);if(e){var o=mu(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===lu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return bu(t)}(this,r)}}function bu(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mu(t){return mu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},mu(t)}function vu(t){var e=function(t,e){if("object"!==lu(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==lu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===lu(e)?e:String(e)}var gu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yu(t,e)}(c,t);var e,r,n,i=hu(c);function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=i.call(this,t)).state={isOpen:!1,dropDirectionX:"right",dropDirectionY:"down"},e.dropdownRef=o.createRef(),e.handleDocumentClick=e.onDocumentClick.bind(bu(e)),e}return e=c,r=[{key:"componentWillUnmount",value:function(){this.unbindDocumentClick()}},{key:"bindDocumentClick",value:function(){document.addEventListener("click",this.handleDocumentClick)}},{key:"unbindDocumentClick",value:function(){document.removeEventListener("click",this.handleDocumentClick)}},{key:"onDocumentClick",value:function(t){this.props.autoClose?this.close():this.dropdownRef.current.contains(t.target)||this.close()}},{key:"toggle",value:function(t){t.stopPropagation();var e=window.innerHeight/2,r=window.innerWidth/2;this.state.isOpen?this.close():this.open(t.clientX>r?"left":"right",t.clientY>e?"up":"down")}},{key:"open",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"right",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"down";this.setState({isOpen:!0,dropDirectionX:t,dropDirectionY:e}),this.bindDocumentClick()}},{key:"close",value:function(){this.setState({isOpen:!1}),this.unbindDocumentClick()}},{key:"render",value:function(){var t=(0,h.jsx)(ye,{text:this.props.text,label:this.props.label,style:[].concat(fu(this.props.style),["small"]),onClick:this.toggle.bind(this),icon:this.state.isOpen?this.props.closeIcon:this.props.openIcon});return this.props.text||(t=(0,h.jsx)(ir,{name:this.state.isOpen?this.props.closeIcon:this.props.openIcon,iconStyle:"small",onClick:this.toggle.bind(this)})),(0,h.jsxs)("div",{className:d("dropdown",this.props.style)+(this.state.isOpen?" dropdown--open":"")+" dropdown--"+this.state.dropDirectionX+" dropdown--"+this.state.dropDirectionY,ref:this.dropdownRef,children:[(0,h.jsx)("div",{className:"dropdown__trigger",children:t}),(0,h.jsx)("div",{className:"dropdown__content",children:this.props.children})]})}}],r&&du(e.prototype,r),n&&du(e,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(o.Component);!function(t,e,r){(e=vu(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(gu,"defaultProps",{label:"",text:"",style:[],autoClose:!1,openIcon:"expand_more",closeIcon:"expand_less"});const ju=gu;function wu(t){return wu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wu(t)}function Ou(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,xu(n.key),n)}}function _u(t,e){return _u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_u(t,e)}function Pu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Su(t);if(e){var o=Su(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===wu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Su(t){return Su=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Su(t)}function xu(t){var e=function(t,e){if("object"!==wu(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==wu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===wu(e)?e:String(e)}var ku=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_u(t,e)}(i,t);var e,r,n,o=Pu(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"goTo",value:function(t){var e={};this.props.data&&this.props.data.id?e.id=this.props.data.id:this.props.path.params.id&&(e.id=this.props.path.params.id),u.goTo(this.props.path.module,t,e)}},{key:"render",value:function(){var t=this;return(0,h.jsx)(ju,{text:this.props.text,style:this.props.style,children:(0,h.jsx)(x,{links:this.props.links,onClick:function(e){return t.goTo(e)}})})}}])&&Ou(e.prototype,r),n&&Ou(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);!function(t,e,r){(e=xu(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(ku,"defaultProps",{path:{},data:{},text:"",links:[],style:null});const Cu=ku;function Ru(t){return Ru="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ru(t)}function Eu(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Fu(n.key),n)}}function Tu(t,e){return Tu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Tu(t,e)}function Nu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Du(t);if(e){var o=Du(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Ru(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Du(t){return Du=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Du(t)}function Fu(t){var e=function(t,e){if("object"!==Ru(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Ru(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Ru(e)?e:String(e)}var Bu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tu(t,e)}(i,t);var e,r,n,o=Nu(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={isLoaded:!1},e}return e=i,(r=[{key:"componentDidUpdate",value:function(t){var e=this;this.props.src!==t.src&&this.setState({isLoaded:!1},(function(){e.load()}))}},{key:"componentDidMount",value:function(){this.props.autoload&&this.load()}},{key:"load",value:function(){var t=this;if(!this.state.isLoaded){var e=new Image;e.src=this.props.src,e.onload=function(){t.setState({isLoaded:!0}),t.props.onLoaded()}}}},{key:"render",value:function(){return(0,h.jsx)("div",{className:"thumb"+(this.state.isLoaded?" thumb--loaded":""),children:(0,h.jsx)("img",{src:this.props.src,className:"thumb__img"})})}}])&&Eu(e.prototype,r),n&&Eu(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);!function(t,e,r){(e=Fu(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(Bu,"defaultProps",{src:"",autoload:!0,onLoaded:function(){}});const Lu={"application/json":{name:"json",description:"JavaScript Object Notation",color:"#333333"},"application/pdf":{name:"pdf",description:"Portable document format",color:"#ca3932"},"application/msword":{name:"doc",description:"Word-document",color:"#01178f"},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{name:"docx",description:"Word-document",color:"#01178f"},"application/vnd.ms-powerpoint":{name:"ppt",description:"PowerPoint-presentation",color:"#c74423"},"application/vnd.ms-excel":{name:"xls",description:"Excel spreadsheet",color:"#0ba734"},"application/zip":{name:"zip",description:"ZIP-archive",color:"#d53222"},"image/vnd.adobe.photoshop":{name:"psd",description:"Adobe Photoshop file",color:"#106688"},"video/x-msvideo":{name:"avi",description:"AVI video"},"video/mp4":{name:"mp4",description:"MP4 video",color:"#379bf2"},"video/mpeg":{name:"mpeg",description:"MPEG video",color:"#379bf2"},"video/webm":{name:"webm",description:"Web video file",color:"#276297"},"audio/mpeg":{name:"mp3",description:"MP3 audio"},"audio/wav":{name:"wav",description:"Waveform audio",color:"#ef7a1a"},"audio/x-wav":{name:"wav",description:"Waveform audio",color:"#ef7a1a"},"audio/webm":{name:"weba",description:"Web audio file"},"image/bmp":{name:"bmp",description:"Bitmap image"},"image/gif":{name:"gif",description:"GIF image"},"image/jpeg":{name:"jpg",description:"JPEG image"},"image/png":{name:"png",description:"PNG image"},"image/svg":{name:"svg",description:"SVG image",color:"#d9992a"},"image/svg+xml":{name:"svg",description:"SVG image",color:"#d9992a"},"image/tiff":{name:"tiff",description:"TIFF image"},"image/webp":{name:"webp",description:"Web image file"},"text/plain":{name:"txt",description:"Plain text file",color:"#bbb"},"text/css":{name:"css",description:"CSS text file"},"text/html":{name:"html",description:"HTML document"},"text/javascript":{name:"js",description:"JavaScript file"},"text/csv":{name:"csv",description:"Comma seperated file"},"application/octet-stream":{name:"bin",description:"Binary file"}};function Iu(t){return Iu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Iu(t)}function Mu(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zu(n.key),n)}}function Au(t,e){return Au=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Au(t,e)}function Uu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Vu(t);if(e){var o=Vu(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Iu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Vu(t){return Vu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Vu(t)}function zu(t){var e=function(t,e){if("object"!==Iu(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Iu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Iu(e)?e:String(e)}var qu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Au(t,e)}(i,t);var e,r,n,o=Uu(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"getFileFormat",value:function(){var t=Lu;return t[this.props.file.mime_type]?t[this.props.file.mime_type].name:"unknown"}},{key:"getFileColor",value:function(){var t=Lu;return t[this.props.file.mime_type]&&t[this.props.file.mime_type].color?t[this.props.file.mime_type].color:"#ccc"}},{key:"render",value:function(){var t;return t=this.props.file.is_image?(0,h.jsx)(Bu,{src:this.props.file.conversions[this.props.mediaConversion]}):(0,h.jsx)("div",{className:"file-preview__textual",style:{"--color":this.getFileColor()},children:(0,h.jsx)("span",{children:this.getFileFormat()})}),(0,h.jsx)("div",{className:d("file-preview",this.props.style),children:t})}}])&&Mu(e.prototype,r),n&&Mu(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);!function(t,e,r){(e=zu(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(qu,"defaultProps",{file:{},style:[],mediaConversion:"thumb"});const Wu=function(t){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(t,e,r,n){return e+e+r+r+n+n}));var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]:null},Gu=function(t,e,r){return.299*t+.587*e+.114*r>186?"#000000":"#ffffff"};function Ku(t){return Ku="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ku(t)}function Hu(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$u(n.key),n)}}function Qu(t,e){return Qu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Qu(t,e)}function Yu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Zu(t);if(e){var o=Zu(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Ku(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Zu(t){return Zu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Zu(t)}function $u(t){var e=function(t,e){if("object"!==Ku(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Ku(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Ku(e)?e:String(e)}var Ju=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qu(t,e)}(i,t);var e,r,n,o=Yu(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"render",value:function(){var t=Wu(this.props.color);return(0,h.jsx)("span",{className:d("tag-label",this.props.style),style:{backgroundColor:this.props.color,color:Gu(t[0],t[1],t[2])},children:this.props.text})}}])&&Hu(e.prototype,r),n&&Hu(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);!function(t,e,r){(e=$u(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(Ju,"defaultProps",{text:"",color:"#cccccc",style:""});const Xu=Ju;function ta(t){return ta="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ta(t)}function ea(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ia(n.key),n)}}function ra(t,e){return ra=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ra(t,e)}function na(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=oa(t);if(e){var o=oa(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===ta(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function oa(t){return oa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},oa(t)}function ia(t){var e=function(t,e){if("object"!==ta(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==ta(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===ta(e)?e:String(e)}var ca=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ra(t,e)}(i,t);var e,r,n,o=na(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"renderActions",value:function(){return this.props.actions.length?(0,h.jsx)("div",{className:"file__actions",children:this.props.actions}):null}},{key:"renderSelectionMode",value:function(){var t=this;return this.props.selectionMode?(0,h.jsx)("div",{className:"file__checkbox",children:(0,h.jsx)(ir,{onClick:function(e){return t.props.onClick(e,t.props.file)},name:this.props.isSelected?"check_box":"check_box_outline_blank",style:"transparent"})}):null}},{key:"renderLabel",value:function(){if(Object.keys(this.props.fileLabels).length){var t=this.props.fileLabels[this.props.file.label]||null;if(t)return(0,h.jsx)("div",{className:"file__label",children:(0,h.jsx)(Xu,{text:t.name,color:t.color,style:"grid"===this.props.viewMode||"compact-list"===this.props.viewMode?["small"]:[]})})}return null}},{key:"getFileType",value:function(){var t=Lu;return t[this.props.file.mime_type]?t[this.props.file.mime_type].description:"unknown"}},{key:"render",value:function(){var t=this,e=[];return"grid"===this.props.viewMode?e=["grid","full"]:"list"===this.props.viewMode?e=["list"]:"compact-list"===this.props.viewMode&&(e=["compact-list"]),(0,h.jsxs)("div",{className:"file file--"+this.props.viewMode+(this.props.isSelected?" file--selected":""),onClick:function(e){return t.props.onClick(e,t.props.file)},children:[this.renderSelectionMode(),(0,h.jsx)("div",{className:"file__preview",children:(0,h.jsx)(qu,{file:this.props.file,mediaConversion:"grid"===this.props.viewMode?"contain":"thumb",style:e})}),(0,h.jsxs)("div",{className:"file__content",children:[(0,h.jsx)("div",{className:"file__name",children:this.props.file.name}),(0,h.jsx)("div",{className:"file__type",children:this.getFileType()}),(0,h.jsxs)("div",{className:"file__size",children:[jc(this.props.file.size)," (",this.props.file.disk,")"]})]}),this.renderLabel(),this.renderActions()]})}}])&&ea(e.prototype,r),n&&ea(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);function ua(t){return ua="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ua(t)}function aa(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pa(n.key),n)}}function sa(t,e){return sa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},sa(t,e)}function la(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=fa(t);if(e){var o=fa(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===ua(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function fa(t){return fa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},fa(t)}function pa(t){var e=function(t,e){if("object"!==ua(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==ua(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===ua(e)?e:String(e)}!function(t,e,r){(e=ia(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(ca,"defaultProps",{file:{},fileLabels:{},isSelected:!1,selectionMode:!1,viewMode:"list",actions:[],onClick:function(t,e){}});var da=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sa(t,e)}(i,t);var e,r,n,o=la(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"getIcon",value:function(){return{queued:"hourglass_empty",uploading:"arrow_upward"}[this.props.status]}},{key:"render",value:function(){return(0,h.jsx)("div",{className:"upload-status upload-status--"+this.props.status,children:(0,h.jsx)("div",{className:"upload-status__icon",children:(0,h.jsx)(q,{name:this.getIcon()})})})}}])&&aa(e.prototype,r),n&&aa(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);function ya(t){return ya="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ya(t)}function ha(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ga(n.key),n)}}function ba(t,e){return ba=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ba(t,e)}function ma(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=va(t);if(e){var o=va(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===ya(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function va(t){return va=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},va(t)}function ga(t){var e=function(t,e){if("object"!==ya(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==ya(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===ya(e)?e:String(e)}!function(t,e,r){(e=pa(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(da,"defaultProps",{status:""});var ja=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ba(t,e)}(i,t);var e,r,n,o=ma(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"render",value:function(){return(0,h.jsxs)("div",{className:"file-placeholder",children:[(0,h.jsx)("div",{className:"file-placeholder__status",children:(0,h.jsx)(da,{status:this.props.data.status})}),(0,h.jsxs)("div",{className:"file-placeholder__content",children:[(0,h.jsx)("div",{className:"file-placeholder__name",children:this.props.data.name}),(0,h.jsx)("div",{className:"file-placeholder__size",children:jc(this.props.data.size)}),(0,h.jsx)("div",{className:"file-placeholder__progress",children:(0,h.jsx)("progress",{className:"file-placeholder__progress-bar",max:100,value:this.props.data.progress})})]})]})}}])&&ha(e.prototype,r),n&&ha(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);function wa(t){return wa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wa(t)}function Oa(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,xa(n.key),n)}}function _a(t,e){return _a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_a(t,e)}function Pa(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Sa(t);if(e){var o=Sa(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===wa(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Sa(t){return Sa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Sa(t)}function xa(t){var e=function(t,e){if("object"!==wa(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==wa(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===wa(e)?e:String(e)}!function(t,e,r){(e=ga(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(ja,"defaultProps",{data:{}});var ka=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_a(t,e)}(i,t);var e,r,n,o=Pa(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={isOpen:!1},e}return e=i,(r=[{key:"toggle",value:function(){this.props.onToggle(),this.state.isOpen?this.props.onClose():this.props.onOpen(),this.setState({isOpen:!this.state.isOpen})}},{key:"select",value:function(){this.props.onClick()}},{key:"render",value:function(){return(0,h.jsxs)("div",{className:d("tree-item",this.props.style),children:[this.props.collapsible?(0,h.jsx)("div",{className:"tree-item__toggle",children:(0,h.jsx)(q,{name:this.state.isOpen?"expand_more":"chevron_right",onClick:this.toggle.bind(this)})}):null,(0,h.jsxs)("div",{className:"tree-item__content",onClick:this.select.bind(this),children:[(0,h.jsx)("div",{className:"tree-item__icon",children:(0,h.jsx)(q,{name:this.props.icon,style:"alt"})}),(0,h.jsx)("div",{className:"tree-item__text",children:this.props.text})]})]})}}])&&Oa(e.prototype,r),n&&Oa(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);function Ca(t){return Ca="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ca(t)}function Ra(){Ra=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function a(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{a({},"")}catch(t){a=function(t,e,r){return t[e]=r}}function s(t,e,r,o){var i=e&&e.prototype instanceof p?e:p,c=Object.create(i.prototype),u=new S(o||[]);return n(c,"_invoke",{value:w(t,r,u)}),c}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function p(){}function d(){}function y(){}var h={};a(h,i,(function(){return this}));var b=Object.getPrototypeOf,m=b&&b(b(x([])));m&&m!==e&&r.call(m,i)&&(h=m);var v=y.prototype=p.prototype=Object.create(h);function g(t){["next","throw","return"].forEach((function(e){a(t,e,(function(t){return this._invoke(e,t)}))}))}function j(t,e){function o(n,i,c,u){var a=l(t[n],t,i);if("throw"!==a.type){var s=a.arg,f=s.value;return f&&"object"==Ca(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,c,u)}),(function(t){o("throw",t,c,u)})):e.resolve(f).then((function(t){s.value=t,c(s)}),(function(t){return o("throw",t,c,u)}))}u(a.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function w(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return k()}for(r.method=o,r.arg=i;;){var c=r.delegate;if(c){var u=O(c,r);if(u){if(u===f)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var a=l(t,e,r);if("normal"===a.type){if(n=r.done?"completed":"suspendedYield",a.arg===f)continue;return{value:a.arg,done:r.done}}"throw"===a.type&&(n="completed",r.method="throw",r.arg=a.arg)}}}function O(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function x(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=y,n(v,"constructor",{value:y,configurable:!0}),n(y,"constructor",{value:d,configurable:!0}),d.displayName=a(y,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,a(t,u,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},g(j.prototype),a(j.prototype,c,(function(){return this})),t.AsyncIterator=j,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var c=new j(s(e,r,n,o),i);return t.isGeneratorFunction(r)?c:c.next().then((function(t){return t.done?t.value:c.next()}))},g(v),a(v,u,"Generator"),a(v,i,(function(){return this})),a(v,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=x,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return c.type="throw",c.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),a=r.call(i,"finallyLoc");if(u&&a){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var c=i?i.completion:{};return c.type=t,c.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(c)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),P(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:x(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function Ea(t,e,r,n,o,i,c){try{var u=t[i](c),a=u.value}catch(t){return void r(t)}u.done?e(a):Promise.resolve(a).then(n,o)}function Ta(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function c(t){Ea(i,n,o,c,u,"next",t)}function u(t){Ea(i,n,o,c,u,"throw",t)}c(void 0)}))}}function Na(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,La(n.key),n)}}function Da(t,e){return Da=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Da(t,e)}function Fa(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Ba(t);if(e){var o=Ba(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Ca(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Ba(t){return Ba=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ba(t)}function La(t){var e=function(t,e){if("object"!==Ca(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Ca(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Ca(e)?e:String(e)}!function(t,e,r){(e=xa(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(ka,"defaultProps",{icon:"folder",style:"default",text:"",collapsible:!0,onOpen:function(){},onClose:function(){},onToggle:function(){},onClick:function(){}});var Ia=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Da(t,e)}(u,t);var e,r,n,o,i,c=Fa(u);function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=c.call(this,t)).state={directories:[],directoriesMap:{}},e}return e=u,r=[{key:"componentDidMount",value:function(){this.load()}},{key:"componentDidUpdate",value:function(t){this.props.directory!==t.directory&&this.load()}},{key:"componentWillUnmount",value:function(){}},{key:"select",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.props.onDirectoryClick(t)}},{key:"load",value:(i=Ta(Ra().mark((function t(){var e=this;return Ra().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,We.media.loadDirectories(this.props.directory).then((function(t){e.setState({directories:t.data.data})}));case 2:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"loadChildren",value:(o=Ta(Ra().mark((function t(e){var r=this;return Ra().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,We.media.loadDirectories(e).then((function(t){var n=r.state.directoriesMap;n[e]=t.data.data,r.setState({directoriesMap:n})}));case 2:case"end":return t.stop()}}),t)}))),function(t){return o.apply(this,arguments)})},{key:"toggleCollapse",value:function(t){if(this.state.directoriesMap[t]){var e=this.state.directoriesMap;delete e[t],this.setState({directoriesMap:e})}else this.loadChildren(t)}},{key:"renderChildren",value:function(t){var e=this;return this.state.directoriesMap[t]?this.state.directoriesMap[t].map((function(t){return e.renderDirectory(t)})):null}},{key:"renderDirectory",value:function(t){var e=this;return(0,h.jsxs)("div",{className:"directory-tree__item",children:[(0,h.jsx)(ka,{icon:"folder",text:t.name,style:this.props.selectedDirectory===t.id?"selected":"default",onToggle:function(){return e.toggleCollapse(t.id)},onClick:function(){return e.select(t.id)}}),(0,h.jsx)("div",{className:"directory-tree__children",children:this.renderChildren(t.id)})]},t.id)}},{key:"render",value:function(){var t=this;return this.state.directories.length?(0,h.jsxs)("div",{className:"directory-tree",children:[(0,h.jsx)(ka,{icon:"home",text:ut.get("snippets.files_root"),style:null===this.props.selectedDirectory?"selected":"default",collapsible:!1,onClick:function(){return t.select()}}),this.state.directories.map((function(e){return t.renderDirectory(e)}))]}):null}}],r&&Na(e.prototype,r),n&&Na(e,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(o.Component);!function(t,e,r){(e=La(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(Ia,"defaultProps",{directory:null,selectedDirectory:null,onDirectoryClick:function(t){}});const Ma=Ia;function Aa(t){return Aa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Aa(t)}function Ua(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Wa(n.key),n)}}function Va(t,e){return Va=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Va(t,e)}function za(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=qa(t);if(e){var o=qa(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Aa(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function qa(t){return qa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},qa(t)}function Wa(t){var e=function(t,e){if("object"!==Aa(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Aa(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Aa(e)?e:String(e)}var Ga=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Va(t,e)}(i,t);var e,r,n,o=za(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,r=[{key:"confirmMove",value:function(t){var e=this;Zt.confirm({title:ut.get("snippets.move"),text:ut.get("snippets.move_files_text"),confirmButtonText:ut.get("snippets.move_files_confirm"),cancelButtonText:ut.get("snippets.move_files_cancel"),confirm:function(){return e.props.onConfirm(t)}})}},{key:"render",value:function(){var t=this;return(0,h.jsx)(dr,{style:["modal"],title:ut.get("snippets.move"),footer:[(0,h.jsx)(ye,{text:ut.get("snippets.move_files_cancel"),style:"secondary",onClick:function(e){return t.props.onCancel()}},"cancel")],children:(0,h.jsx)(Ma,{selectedDirectory:this.props.directory?this.props.directory.id:null,onDirectoryClick:function(e){return t.confirmMove(e)}})})}}],r&&Ua(e.prototype,r),n&&Ua(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);!function(t,e,r){(e=Wa(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(Ga,"defaultProps",{directory:null,onCancel:function(){},onConfirm:function(t){}});const Ka=Ga;function Ha(t){return Ha="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ha(t)}function Qa(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ja(n.key),n)}}function Ya(t,e){return Ya=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ya(t,e)}function Za(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=$a(t);if(e){var o=$a(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Ha(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function $a(t){return $a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},$a(t)}function Ja(t){var e=function(t,e){if("object"!==Ha(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Ha(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Ha(e)?e:String(e)}var Xa=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ya(t,e)}(i,t);var e,r,n,o=Za(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"render",value:function(){var t=this,e="default";return"grid"===this.props.viewMode?e="extra-large":"list"===this.props.viewMode&&(e="large"),(0,h.jsxs)("div",{className:"directory directory--"+this.props.viewMode,onClick:function(e){return t.props.onClick(e,t.props.directory)},children:[(0,h.jsx)("div",{className:"directory__icon",children:(0,h.jsx)(q,{name:"folder",style:[e,"alt"]})}),(0,h.jsxs)("div",{className:"directory__content",children:[(0,h.jsx)("div",{className:"directory__name",children:this.props.directory.name}),(0,h.jsx)("div",{className:"directory__type",children:ut.get("snippets.directory")})]})]})}}])&&Qa(e.prototype,r),n&&Qa(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);function ts(t){return ts="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ts(t)}function es(t){return function(t){if(Array.isArray(t))return rs(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return rs(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rs(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rs(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ns(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,as(n.key),n)}}function os(t,e){return os=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},os(t,e)}function is(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=us(t);if(e){var o=us(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===ts(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return cs(t)}(this,r)}}function cs(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function us(t){return us=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},us(t)}function as(t){var e=function(t,e){if("object"!==ts(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==ts(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===ts(e)?e:String(e)}!function(t,e,r){(e=Ja(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(Xa,"defaultProps",{directory:{},viewMode:"list",actions:[],onClick:function(t,e){}});var ss=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&os(t,e)}(i,t);var e,r,n,o=is(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={uploads:[],files:e.props.files,moveAction:!1,moveFileId:null,moveFileIds:[],moveDirectoryId:null},e.handleOnUploadQueued=e.onUploadQueued.bind(cs(e)),e.handleOnUploadQueuedMultiple=e.onUploadQueuedMultiple.bind(cs(e)),e.handleOnUploadStart=e.onUploadStart.bind(cs(e)),e.handleOnUploadProgress=e.onUploadProgress.bind(cs(e)),e.handleOnUploadSuccess=e.onUploadSuccess.bind(cs(e)),e.handleOnUploadFail=e.onUploadFail.bind(cs(e)),e}return e=i,r=[{key:"componentDidUpdate",value:function(t,e,r){t.files!==this.props.files&&this.setState({files:this.props.files})}},{key:"componentDidMount",value:function(){Hr.on("media.upload.queued",this.handleOnUploadQueued),Hr.on("media.upload.queuedMultiple",this.handleOnUploadQueuedMultiple),Hr.on("media.upload.start",this.handleOnUploadStart),Hr.on("media.upload.progress",this.handleOnUploadProgress),Hr.on("media.upload.success",this.handleOnUploadSuccess),Hr.on("media.upload.fail",this.handleOnUploadFail)}},{key:"componentWillUnmount",value:function(){Hr.off("media.upload.queued",this.handleOnUploadQueued),Hr.off("media.upload.queuedMultiple",this.handleOnUploadQueuedMultiple),Hr.off("media.upload.start",this.handleOnUploadStart),Hr.off("media.upload.progress",this.handleOnUploadProgress),Hr.off("media.upload.success",this.handleOnUploadSuccess),Hr.off("media.upload.fail",this.handleOnUploadFail)}},{key:"onUploadQueued",value:function(t){this.setState({uploads:[].concat(es(this.state.uploads),[{id:t.id,size:t.size,name:t.filename,progress:0,status:"queued"}])})}},{key:"onUploadQueuedMultiple",value:function(t){var e=t.files.map((function(t){return{id:t.id,size:t.size,name:t.filename,progress:0,status:"queued"}})),r=this.state.uploads.concat(e);this.setState({uploads:r})}},{key:"onUploadStart",value:function(t){}},{key:"onUploadProgress",value:function(t){this.state.uploads.forEach((function(e){e.id===t.id&&(e.status="uploading",e.progress=t.progress)})),this.setState({uploads:this.state.uploads})}},{key:"onUploadSuccess",value:function(t){var e=t.file,r=e.directory?e.directory.id:null,n=this.props.currentDirectory?this.props.currentDirectory.id:null;this.setState({files:r===n?[e].concat(es(this.state.files)):this.state.files,uploads:this.state.uploads.filter((function(e){return e.id!==t.id}))})}},{key:"onUploadFail",value:function(t){this.setState({uploads:this.state.uploads.filter((function(e){return e.id!==t.id}))})}},{key:"onDirectoryContextClick",value:function(t,e){var r=this;"delete"===t?Zt.confirm({title:ut.get("snippets.delete_directory_title"),text:ut.get("snippets.delete_directory_text"),confirmButtonText:ut.get("snippets.delete_directory_confirm"),cancelButtonText:ut.get("snippets.delete_directory_cancel"),confirm:function(){return r.props.onDirectoryDelete(e.id)}}):"rename"===t?Zt.prompt({title:ut.get("snippets.rename"),defaultValue:e.name,confirm:function(t){return r.props.onDirectoryRename(t,e.id)}}):"move"===t&&this.setState({moveAction:!0,moveDirectoryId:e.id})}},{key:"onFileContextClick",value:function(t,e){var r=this;"delete"===t?Zt.confirm({title:ut.get("snippets.delete_file_title"),text:ut.get("snippets.delete_file_text"),confirmButtonText:ut.get("snippets.delete_file_confirm"),cancelButtonText:ut.get("snippets.delete_file_cancel"),confirm:function(){return r.props.onFileDelete(e.id)}}):"rename"===t?Zt.prompt({title:ut.get("snippets.rename_file"),defaultValue:e.name,confirm:function(t){return r.props.onFileRename(t,e.id)}}):"download"===t?this.props.onFileOpen(e):"move"===t?this.setState({moveAction:!0,moveFileId:e.id,moveFileIds:[]}):"multi-delete"===t?this.props.onSelectionDelete(this.props.selectedFileIds,this.props.selectedFiles):"multi-move"===t&&this.setState({moveAction:!0,moveFileId:null,moveFileIds:this.props.selectedFileIds})}},{key:"handleFileClick",value:function(t,e){t.shiftKey||t.metaKey||this.props.selectionMode?this.toggleFileSelection(e):this.deselectAllExcept(e),this.props.onFileClick(e.id)}},{key:"toggleFileSelection",value:function(t){this.isFileSelected(t)?this.deselectFile(t):this.selectFile(t)}},{key:"deselectFile",value:function(t){this.props.onSelectionChange(this.props.selectedFileIds.filter((function(e){return e!==t.id})),this.props.selectedFiles.filter((function(e){return e.id!==t.id})))}},{key:"selectFile",value:function(t){this.props.onSelectionChange([].concat(es(this.props.selectedFileIds),[t.id]),[].concat(es(this.props.selectedFiles),[t]))}},{key:"deselectAllExcept",value:function(t){this.props.onSelectionChange([t.id],[t])}},{key:"isFileSelected",value:function(t){return this.props.selectedFileIds.includes(t.id)}},{key:"renderMoveWidget",value:function(){var t=this;return this.state.moveAction?(0,h.jsx)($e,{children:(0,h.jsx)(Ka,{directory:this.props.currentDirectory,onCancel:function(e){t.setState({moveAction:!1,moveFileId:null,moveFileIds:[],moveDirectoryId:null})},onConfirm:function(e){t.setState({moveAction:!1},(function(){t.state.moveFileIds.length?t.props.onSelectionMove(e,t.state.moveFileIds):t.state.moveFileId&&t.props.onFileMove(e,t.state.moveFileId),t.state.moveDirectoryId!==e?t.state.moveDirectoryId&&t.props.onDirectoryMove(e,t.state.moveDirectoryId):Zt.notify(ut.get("snippets.cant_move_directory_inside_self"))}))}})}):null}},{key:"renderUploads",value:function(){return this.state.uploads.length?(0,h.jsx)("div",{className:"file-list",children:this.state.uploads.map((function(t,e){return(0,h.jsx)("div",{className:"file-list__item",children:(0,h.jsx)(ja,{data:t})},e)}))}):null}},{key:"renderFiles",value:function(){var t=this;if(!this.state.files.length)return null;var e=[[ut.get("snippets.rename"),"rename"],[ut.get("snippets.move"),"move"],[ut.get("snippets.download"),"download"],[ut.get("snippets.delete"),"delete"]];return this.props.selectedFileIds.length>1&&(e=[[ut.get("snippets.move_files",{amount:this.props.selectedFileIds.length}),"multi-move"],[ut.get("snippets.delete_files",{amount:this.props.selectedFileIds.length}),"multi-delete"]]),(0,h.jsx)("div",{className:"file-list file-list--"+this.props.viewMode,children:this.state.files.map((function(r,n){return(0,h.jsx)("div",{className:"file-list__item",children:(0,h.jsx)(B,{links:e,onClick:function(e){return t.onFileContextClick(e,r)},children:(0,h.jsx)(ca,{viewMode:t.props.viewMode,file:r,fileLabels:t.props.fileLabels,isSelected:t.isFileSelected(r),selectionMode:t.props.selectionMode,onClick:function(e,r){return t.handleFileClick(e,r)}})},n)},n)}))})}},{key:"renderDirectories",value:function(){var t=this;return this.props.directories.length?(0,h.jsx)("div",{className:"directory-list directory-list--"+this.props.viewMode,children:this.props.directories.map((function(e,r){return(0,h.jsx)("div",{className:"directory-list__item",children:(0,h.jsx)(B,{links:[[ut.get("snippets.rename"),"rename"],[ut.get("snippets.move"),"move"],[ut.get("snippets.delete"),"delete"]],onClick:function(r){return t.onDirectoryContextClick(r,e)},children:(0,h.jsx)(Xa,{viewMode:t.props.viewMode,directory:e,onClick:function(e,r){return t.props.onDirectoryClick(r.id)}})},r)},r)}))}):null}},{key:"renderContent",value:function(){return this.state.uploads.length||this.props.directories.length||this.state.files.length?(0,h.jsxs)("div",{className:"file-browser__content",children:[this.renderUploads(),this.renderDirectories(),this.renderFiles()]}):(0,h.jsx)("div",{className:"file-browser__content",children:(0,h.jsx)("div",{className:"file-browser__placeholder",children:(0,h.jsx)(Ui,{children:ut.get("snippets.directory_is_empty")})})})}},{key:"render",value:function(){return(0,h.jsxs)("div",{className:"file-browser",children:[this.renderContent(),this.renderMoveWidget()]})}}],r&&ns(e.prototype,r),n&&ns(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);!function(t,e,r){(e=as(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(ss,"defaultProps",{files:[],directories:[],currentDirectory:null,fileLabels:{},selectionMode:!1,selectedFileIds:[],selectedFiles:[],viewMode:"list",onDirectoryClick:function(t){},onFileClick:function(t){},onDirectoryDelete:function(t){},onDirectoryRename:function(t,e){},onDirectoryMove:function(t,e){},onFileDelete:function(t){},onFileRename:function(t){},onFileMove:function(t,e){},onFileOpen:function(t){},onSelectionChange:function(t,e){},onSelectionDelete:function(t,e){},onSelectionMove:function(t,e){}});const ls=ss;var fs=r(4195),ps={insert:"head",singleton:!1};s()(fs.Z,ps);fs.Z.locals;function ds(t){return ds="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ds(t)}function ys(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,vs(n.key),n)}}function hs(t,e){return hs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},hs(t,e)}function bs(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=ms(t);if(e){var o=ms(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===ds(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function ms(t){return ms=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ms(t)}function vs(t){var e=function(t,e){if("object"!==ds(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==ds(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===ds(e)?e:String(e)}var gs=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hs(t,e)}(i,t);var e,r,n,o=bs(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"onClick",value:function(t){this.props.onClick(t)}},{key:"render",value:function(){var t=this;return(0,h.jsx)("div",{className:"breadcrumbs",children:(0,h.jsxs)("ul",{className:"breadcrumbs__list",children:[(0,h.jsx)("li",{onClick:function(e){return t.onClick(null)},children:(0,h.jsx)("span",{children:this.props.rootText})}),this.props.items.map((function(e,r){return(0,h.jsx)("li",{children:(0,h.jsx)("span",{onClick:function(r){return t.onClick(e)},children:e.name})},r)}))]})})}}])&&ys(e.prototype,r),n&&ys(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);!function(t,e,r){(e=vs(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(gs,"defaultProps",{rootText:ut.get("snippets.files_root"),items:[],onClick:function(t){}});var js=!1,ws=[],Os=0;const _s={queueMultiple:function(t,e){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},n=[],o=0;o<t.length;o++){var i=t[o];Os++,ws.push([Os,i,e,r]),n.push({id:Os,size:i.size,filename:i.name})}Hr.trigger("media.upload.queuedMultiple",{files:n}),js||this.process()},queue:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};Os++,ws.push([Os,t,e,r]),Hr.trigger("media.upload.queued",{id:Os,size:t.size,filename:t.name}),js||this.process()},process:function(){var t=this;if(ws.length){js=!0;var e=ws[0];this.processChunkUpload(e[1],e[2],(function(t){Hr.trigger("media.upload.start",{id:e[0],size:e[1].size,filename:t})}),(function(t){Hr.trigger("media.upload.progress",{id:e[0],progress:t})}),(function(r){js=!1,ws.shift(),t.process(),Hr.trigger("media.upload.success",{id:e[0],file:r}),e[3](r)}),(function(){Hr.trigger("media.upload.fail",{id:e[0]}),js=!1,ws.shift(),t.process()}))}},isDone:function(){return 0===ws.length},processChunkUpload:function(t,e,r,n,o,i){var c,u,a,s=524288,l=Math.ceil(t.size/s),f=0,p=t.name;!function d(){(u=f*s)>t.size&&(u=a+1),a=u+s>=t.size?t.size:u+s;var y=0===f?"start":f===l?"end":"progress";"start"===y&&r(p),We.media.uploadChunk(y,p,c||null,t.slice(u,a),e).then((function(t){var e=t.data;("created"===e.status&&(c=e.path),++f<=l)?(n(f/l*100),d()):o(e.data)}),(function(t){i()}))}()}};function Ps(t){return Ps="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ps(t)}function Ss(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Rs(n.key),n)}}function xs(t,e){return xs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},xs(t,e)}function ks(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Cs(t);if(e){var o=Cs(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Ps(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Cs(t){return Cs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Cs(t)}function Rs(t){var e=function(t,e){if("object"!==Ps(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Ps(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Ps(e)?e:String(e)}var Es=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xs(t,e)}(i,t);var e,r,n,o=ks(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,r=[{key:"handleChange",value:function(t){this.upload(t.target.files)}},{key:"upload",value:function(t){var e=this;_s.queueMultiple(t,this.props.directory,(function(t){e.props.onFileUploaded(t),_s.isDone()&&e.props.onUploadDone()}))}},{key:"render",value:function(){return(0,h.jsxs)("div",{className:"file-uploader",children:[(0,h.jsx)("div",{className:"file-uploader__input",children:(0,h.jsx)("input",{type:"file",name:"file-uploader",multiple:!0,onChange:this.handleChange.bind(this)})}),(0,h.jsx)("div",{className:"file-uploader__placeholder",children:(0,h.jsx)(Ui,{children:ut.get("snippets.select_files_from_computer")})})]})}}],r&&Ss(e.prototype,r),n&&Ss(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);function Ts(t){return Ts="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ts(t)}function Ns(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ds(n.key),n)}}function Ds(t){var e=function(t,e){if("object"!==Ts(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Ts(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Ts(e)?e:String(e)}function Fs(t,e){return Fs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Fs(t,e)}function Bs(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Ls(t);if(e){var o=Ls(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Ts(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Ls(t){return Ls=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ls(t)}!function(t,e,r){(e=Rs(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(Es,"defaultProps",{directory:null,onUploadDone:function(){},onFileUploaded:function(t){}});const Is=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fs(t,e)}(i,t);var e,r,n,o=Bs(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"render",value:function(){return(0,h.jsxs)("div",{className:"sticky-sidebar",children:[(0,h.jsx)("div",{className:"sticky-sidebar__content",children:this.props.children}),(0,h.jsx)("div",{className:"sticky-sidebar__side",children:this.props.sidebar})]})}}])&&Ns(e.prototype,r),n&&Ns(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);var Ms=r(7374),As={insert:"head",singleton:!1};s()(Ms.Z,As);Ms.Z.locals;function Us(t){return Us="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Us(t)}function Vs(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ks(n.key),n)}}function zs(t,e){return zs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},zs(t,e)}function qs(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Gs(t);if(e){var o=Gs(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Us(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ws(t)}(this,r)}}function Ws(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gs(t){return Gs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Gs(t)}function Ks(t){var e=function(t,e){if("object"!==Us(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Us(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Us(e)?e:String(e)}var Hs=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zs(t,e)}(i,t);var e,r,n,o=qs(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={isDragOver:!1},e.dragOverCounter=0,e.dragEnterHandler=e.handleDragEnter.bind(Ws(e)),e.dragOverHandler=e.handleDragOver.bind(Ws(e)),e.dragLeaveHandler=e.handleDragLeave.bind(Ws(e)),e.dropHandler=e.handleDrop.bind(Ws(e)),e}return e=i,r=[{key:"componentDidMount",value:function(){document.addEventListener("dragover",this.dragOverHandler),document.addEventListener("dragenter",this.dragEnterHandler),document.addEventListener("dragleave",this.dragLeaveHandler),document.addEventListener("drop",this.dropHandler)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("dragenter",this.dragEnterHandler),document.removeEventListener("dragover",this.dragOverHandler),document.removeEventListener("dragleave",this.dragLeaveHandler),document.removeEventListener("drop",this.dropHandler)}},{key:"handleDragEnter",value:function(t){this.dragOverCounter++,this.setState({isDragOver:!0}),t.preventDefault()}},{key:"handleDragOver",value:function(t){t.preventDefault()}},{key:"handleDragLeave",value:function(t){this.dragOverCounter--,0===this.dragOverCounter&&(this.setState({isDragOver:!1}),t.preventDefault())}},{key:"handleDrop",value:function(t){this.dragOverCounter=0,t.preventDefault();var e=this.props.directory;if(this.setState({isDragOver:!1}),t.dataTransfer){var r=t.dataTransfer.items,n=t.dataTransfer.files;if(r)for(var o=0;o<r.length;o+=1){var i=r[o].webkitGetAsEntry();i&&this.uploadFileTree(i,e)}else n.length&&this.uploadMultiple(n,e)}}},{key:"uploadFileTree",value:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t.isFile?t.file((function(t){".DS_Store"!==t.name&&e.upload(t,r)})):t.isDirectory&&We.media.createDirectory(t.name,r).then((function(r){var n=r.data.data;e.props.onCreateDirectory(n),t.createReader().readEntries((function(t){for(var r=0;r<t.length;r++)e.uploadFileTree(t[r],n.id)}))}))}},{key:"upload",value:function(t,e){var r=this;this.props.onUploadStart(t,e),_s.queue(t,e,(function(t){r.props.onCreateFile(t),_s.isDone()&&r.props.onUploadDone()}))}},{key:"uploadMultiple",value:function(t,e){var r=this;_s.queueMultiple(t,e,(function(t){r.props.onCreateFile(t),_s.isDone()&&r.props.onUploadDone()}))}},{key:"uploadProgress",value:function(t,e,r){t.loaded,t.total}},{key:"render",value:function(){return(0,h.jsxs)("div",{className:"file-drop-zone"+(this.state.isDragOver?" file-drop-zone--drag-over":""),children:[(0,h.jsx)("div",{className:"file-drop-zone__overlay",children:(0,h.jsx)(q,{name:"upload_file",style:["extra-large","alt"]})}),this.props.children]})}}],r&&Vs(e.prototype,r),n&&Vs(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);!function(t,e,r){(e=Ks(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(Hs,"defaultProps",{directory:null,onUploadStart:function(t,e){},onCreateFile:function(t){},onCreateDirectory:function(t){},onUploadDone:function(){}});const Qs=Hs,Ys={get:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=window.localStorage.getItem(t);return r||null===e?r:e},set:function(t,e){window.localStorage.setItem(t,e)},remove:function(t){window.localStorage.removeItem(t)},clear:function(){window.localStorage.clear()}};var Zs=r(2314),$s={insert:"head",singleton:!1};s()(Zs.Z,$s);Zs.Z.locals;function Js(t){return Js="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Js(t)}function Xs(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nl(n.key),n)}}function tl(t,e){return tl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},tl(t,e)}function el(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=rl(t);if(e){var o=rl(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Js(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function rl(t){return rl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},rl(t)}function nl(t){var e=function(t,e){if("object"!==Js(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Js(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Js(e)?e:String(e)}var ol=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tl(t,e)}(i,t);var e,r,n,o=el(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"renderButtons",value:function(){var t=this;return this.props.buttons.map((function(e,r){return(0,h.jsx)("div",{className:"button-group__item",children:e.text?(0,h.jsx)(ye,{onClick:function(){return t.props.onClick(e.key)},text:e.text,icon:e.icon,style:["grouped","secondary","small",t.props.active&&t.props.active===e.key?"active":"default"]}):(0,h.jsx)(ir,{onClick:function(){return t.props.onClick(e.key)},name:e.icon,style:["grouped",t.props.active&&t.props.active===e.key?"active":"default"]})},r)}))}},{key:"render",value:function(){return(0,h.jsx)("div",{className:"button-group",children:this.renderButtons()})}}])&&Xs(e.prototype,r),n&&Xs(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);!function(t,e,r){(e=nl(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(ol,"defaultProps",{buttons:[],active:null,onClick:function(t){}});const il=ol;function cl(t){return cl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cl(t)}function ul(t){return function(t){if(Array.isArray(t))return al(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return al(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return al(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function al(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function sl(){sl=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function a(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{a({},"")}catch(t){a=function(t,e,r){return t[e]=r}}function s(t,e,r,o){var i=e&&e.prototype instanceof p?e:p,c=Object.create(i.prototype),u=new S(o||[]);return n(c,"_invoke",{value:w(t,r,u)}),c}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function p(){}function d(){}function y(){}var h={};a(h,i,(function(){return this}));var b=Object.getPrototypeOf,m=b&&b(b(x([])));m&&m!==e&&r.call(m,i)&&(h=m);var v=y.prototype=p.prototype=Object.create(h);function g(t){["next","throw","return"].forEach((function(e){a(t,e,(function(t){return this._invoke(e,t)}))}))}function j(t,e){function o(n,i,c,u){var a=l(t[n],t,i);if("throw"!==a.type){var s=a.arg,f=s.value;return f&&"object"==cl(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,c,u)}),(function(t){o("throw",t,c,u)})):e.resolve(f).then((function(t){s.value=t,c(s)}),(function(t){return o("throw",t,c,u)}))}u(a.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function w(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return k()}for(r.method=o,r.arg=i;;){var c=r.delegate;if(c){var u=O(c,r);if(u){if(u===f)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var a=l(t,e,r);if("normal"===a.type){if(n=r.done?"completed":"suspendedYield",a.arg===f)continue;return{value:a.arg,done:r.done}}"throw"===a.type&&(n="completed",r.method="throw",r.arg=a.arg)}}}function O(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function x(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=y,n(v,"constructor",{value:y,configurable:!0}),n(y,"constructor",{value:d,configurable:!0}),d.displayName=a(y,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,a(t,u,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},g(j.prototype),a(j.prototype,c,(function(){return this})),t.AsyncIterator=j,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var c=new j(s(e,r,n,o),i);return t.isGeneratorFunction(r)?c:c.next().then((function(t){return t.done?t.value:c.next()}))},g(v),a(v,u,"Generator"),a(v,i,(function(){return this})),a(v,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=x,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return c.type="throw",c.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),a=r.call(i,"finallyLoc");if(u&&a){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var c=i?i.completion:{};return c.type=t,c.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(c)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),P(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:x(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function ll(t,e,r,n,o,i,c){try{var u=t[i](c),a=u.value}catch(t){return void r(t)}u.done?e(a):Promise.resolve(a).then(n,o)}function fl(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hl(n.key),n)}}function pl(t,e){return pl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},pl(t,e)}function dl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=yl(t);if(e){var o=yl(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===cl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function yl(t){return yl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},yl(t)}function hl(t){var e=function(t,e){if("object"!==cl(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==cl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===cl(e)?e:String(e)}var bl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pl(t,e)}(u,t);var e,r,n,o,i,c=dl(u);function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=c.call(this,t)).state={isLoading:!0,directories:[],files:[],directoryPath:[],currentDirectory:null,selectedFileIds:e.props.defaultSelectedFileIds||[],selectedFiles:e.props.defaultSelectedFiles||[],fileBrowserViewMode:Ys.get("media-view-mode","list")},e}return e=u,r=[{key:"componentDidMount",value:function(){this.props.defaultDirectoryId?this.load(this.props.defaultDirectoryId):this.load()}},{key:"load",value:(o=sl().mark((function t(){var e,r=this,n=arguments;return sl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:null,t.next=3,Ne().all([We.media.path(e),We.media.loadDirectories(e),We.media.loadFiles(e)]).then(Ne().spread((function(t,e,n){var o=t.data.data,i=e.data.data,c=n.data.data;r.setState({isLoading:!1,directoryPath:o,currentDirectory:o[o.length-1],directories:i,files:c})})));case 3:case"end":return t.stop()}}),t)})),i=function(){var t=this,e=arguments;return new Promise((function(r,n){var i=o.apply(t,e);function c(t){ll(i,r,n,c,u,"next",t)}function u(t){ll(i,r,n,c,u,"throw",t)}c(void 0)}))},function(){return i.apply(this,arguments)})},{key:"onSelectionChange",value:function(t,e){this.setState({selectedFileIds:t,selectedFiles:e}),this.props.onSelectionChange(t,e)}},{key:"onSelectionConfirm",value:function(){this.props.onSelectionConfirm(this.state.selectedFileIds,this.state.selectedFiles)}},{key:"deselect",value:function(t){var e=this,r=this.state.selectedFileIds.filter((function(e){return e!==t})),n=this.state.selectedFiles.filter((function(e){return e.id!==t}));this.setState({selectedFileIds:r,selectedFiles:n},(function(){e.props.onSelectionChange(e.state.selectedFileIds,e.state.selectedFiles)}))}},{key:"select",value:function(t){var e=this;this.setState({selectedFileIds:[].concat(ul(this.state.selectedFileIds),[t.id]),selectedFiles:[].concat(ul(this.state.selectedFiles),[t])},(function(){e.props.onSelectionChange(e.state.selectedFileIds,e.state.selectedFiles)}))}},{key:"onCancel",value:function(){this.props.onCancel()}},{key:"openDirectory",value:function(t){this.load(t)}},{key:"handleUploadDone",value:function(){Zt.i18nNotify("snippets.files_uploaded"),this.load(this.state.currentDirectory?this.state.currentDirectory.id:null)}},{key:"handleFileUploaded",value:function(t){this.select(t)}},{key:"handleCreateDirectory",value:function(){this.load(this.state.currentDirectory?this.state.currentDirectory.id:null)}},{key:"handleRenameFile",value:function(t,e){var r=this;t&&We.media.renameFile(t,e).then((function(t){Zt.i18nNotify("snippets.file_renamed"),r.load(r.state.currentDirectory?r.state.currentDirectory.id:null)}),(function(t){Zt.i18nNotify("snippets.changes_unsuccessful")}))}},{key:"handleRenameDirectory",value:function(t,e){var r=this;t&&We.media.renameDirectory(t,e).then((function(t){Zt.i18nNotify("snippets.directory_renamed"),r.load(r.state.currentDirectory?r.state.currentDirectory.id:null)}),(function(t){Zt.i18nNotify("snippets.changes_unsuccessful")}))}},{key:"handleMoveSelection",value:function(t,e){var r=this;We.media.moveFiles(t,e).then((function(t){Zt.i18nNotify("snippets.files_moved"),r.load(r.state.currentDirectory?r.state.currentDirectory.id:null)}),(function(t){Zt.i18nNotify("snippets.file_not_moved")}))}},{key:"handleMoveFile",value:function(t,e){var r=this;We.media.moveFile(t,e).then((function(t){Zt.i18nNotify("snippets.file_moved"),r.load(r.state.currentDirectory?r.state.currentDirectory.id:null)}),(function(t){Zt.i18nNotify("snippets.file_not_moved")}))}},{key:"promptCreateDirectory",value:function(){var t=this;Zt.prompt({title:ut.get("snippets.new_directory"),confirmButtonText:ut.get("snippets.confirm"),cancelButtonText:ut.get("snippets.cancel"),confirm:function(e){We.media.createDirectory(e,t.state.currentDirectory?t.state.currentDirectory.id:null).then((function(){Zt.i18nNotify("snippets.directory_created"),t.load(t.state.currentDirectory?t.state.currentDirectory.id:null)}))}})}},{key:"onSelectedFileContextClick",value:function(t,e){"jump_to"===t?this.load(e.directory?e.directory.id:null):"deselect"===t&&this.deselect(e.id)}},{key:"changeFileBrowserViewMode",value:function(t){this.setState({fileBrowserViewMode:t},(function(){Ys.set("media-view-mode",t)}))}},{key:"renderSidebar",value:function(){var t=this,e=[[ut.get("snippets.deselect"),"deselect"],[ut.get("snippets.jump_to_folder"),"jump_to"]];return this.state.selectedFiles.length?(0,h.jsxs)("div",{className:"file-picker-widget__selection",children:[(0,h.jsxs)("div",{className:"file-picker-widget__selection-header",children:[ut.get("snippets.your_selection")," (",this.state.selectedFiles.length,")"]}),this.state.selectedFiles.map((function(r,n){return(0,h.jsx)("div",{className:"file-picker-widget__file",children:(0,h.jsx)(B,{links:e,onClick:function(e){return t.onSelectedFileContextClick(e,r)},children:(0,h.jsx)(ca,{file:r,viewMode:"minimal",actions:[(0,h.jsx)(ir,{name:"delete",style:"transparent",onClick:function(e){return t.deselect(r.id)}},"delete")]})})},n)}))]}):(0,h.jsx)("div",{className:"file-picker-widget__selection",children:(0,h.jsx)(Ui,{icon:"checklist",children:ut.get("snippets.your_selection_is_empty")})})}},{key:"renderContent",value:function(){var t=this;return this.state.isLoading?null:(0,h.jsx)(Is,{sidebar:this.renderSidebar(),children:(0,h.jsx)(Qs,{directory:this.state.currentDirectory?this.state.currentDirectory.id:null,onCreateDirectory:this.handleCreateDirectory.bind(this),onUploadDone:this.handleUploadDone.bind(this),children:(0,h.jsx)(ls,{viewMode:this.state.fileBrowserViewMode,fileLabels:this.props.fileLabels,currentDirectory:this.state.currentDirectory,selectionMode:this.props.selectionMode,selectedFiles:this.state.selectedFiles,selectedFileIds:this.state.selectedFileIds,directories:this.state.directories,files:this.state.files,onDirectoryRename:this.handleRenameDirectory.bind(this),onFileRename:this.handleRenameFile.bind(this),onFileMove:this.handleMoveFile.bind(this),onDirectoryClick:function(e){return t.openDirectory(e)},onSelectionChange:this.onSelectionChange.bind(this),onSelectionMove:this.handleMoveSelection.bind(this)})})})}},{key:"render",value:function(){var t=this;return(0,h.jsx)(dr,{style:["modal","wide"],closeable:!0,onClose:this.onCancel.bind(this),title:[(0,h.jsx)(ju,{style:["primary","small"],openIcon:"folder",closeIcon:"folder",children:(0,h.jsx)(Ma,{selectedDirectory:this.state.currentDirectory?this.state.currentDirectory.id:null,onDirectoryClick:function(e){return t.openDirectory(e)}})},"path"),(0,h.jsx)(gs,{items:this.state.directoryPath,onClick:function(e){e?t.openDirectory(e.id):t.openDirectory()}},"breadcrumbs")],actions:[(0,h.jsx)(il,{active:this.state.fileBrowserViewMode,buttons:[{icon:"list",key:"compact-list"},{icon:"view_list",key:"list"},{icon:"grid_view",key:"grid"}],onClick:function(e){return t.changeFileBrowserViewMode(e)}},"view-btn-group"),(0,h.jsx)(ye,{text:ut.get("snippets.new_directory"),style:["secondary","small"],onClick:this.promptCreateDirectory.bind(this)},"new-dir"),(0,h.jsx)(ju,{text:ut.get("snippets.upload"),style:["primary","small"],children:(0,h.jsx)(Es,{directory:this.state.currentDirectory?this.state.currentDirectory.id:null,onFileUploaded:this.handleFileUploaded.bind(this),onUploadDone:this.handleUploadDone.bind(this)})},"upload")],footer:[(0,h.jsx)(ye,{text:ut.get("snippets.cancel"),style:["secondary"],onClick:this.onCancel.bind(this)},"cancel"),(0,h.jsx)(ye,{text:this.props.selectionMode?ut.get("snippets.confirm_selection"):ut.get("snippets.select_file"),style:this.state.selectedFileIds.length?[]:["disabled"],onClick:this.state.selectedFileIds.length?this.onSelectionConfirm.bind(this):null},"confirm")],children:this.renderContent()})}}],r&&fl(e.prototype,r),n&&fl(e,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(o.Component);!function(t,e,r){(e=hl(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(bl,"defaultProps",{multiple:!1,onSelectionChange:function(t,e){},onSelectionConfirm:function(t,e){},onCancel:function(){},defaultDirectoryId:null,defaultSelectedFileIds:[],defaultSelectedFiles:[],selectionMode:!1,fileLabels:{}});const ml=bl;function vl(t){return vl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vl(t)}function gl(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_l(n.key),n)}}function jl(t,e){return jl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},jl(t,e)}function wl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Ol(t);if(e){var o=Ol(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===vl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Ol(t){return Ol=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ol(t)}function _l(t){var e=function(t,e){if("object"!==vl(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==vl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===vl(e)?e:String(e)}var Pl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jl(t,e)}(i,t);var e,r,n,o=wl(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"renderLabel",value:function(){if(Object.keys(this.props.fileLabels).length){var t=this.props.fileLabels[this.props.file.label]||null;if(t)return(0,h.jsx)("div",{className:"file-thumb__label",children:(0,h.jsx)(Xu,{text:t.name,color:t.color,style:"small"})})}return null}},{key:"render",value:function(){return(0,h.jsxs)("div",{className:"file-thumb",children:[(0,h.jsx)("div",{className:"file-thumb__preview",children:(0,h.jsx)(qu,{file:this.props.file,style:["full"],mediaConversion:this.props.mediaConversion})}),(0,h.jsx)("div",{className:"file-thumb__name",children:this.props.file.name}),this.renderLabel()]})}}])&&gl(e.prototype,r),n&&gl(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);function Sl(t){return Sl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sl(t)}function xl(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,El(n.key),n)}}function kl(t,e){return kl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},kl(t,e)}function Cl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Rl(t);if(e){var o=Rl(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Sl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Rl(t){return Rl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Rl(t)}function El(t){var e=function(t,e){if("object"!==Sl(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Sl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Sl(e)?e:String(e)}!function(t,e,r){(e=_l(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(Pl,"defaultProps",{mediaConversion:"thumb",fileLabels:{}});var Tl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kl(t,e)}(c,t);var e,r,n,i=Cl(c);function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=i.call(this,t)).state={isOpen:!1,selectedFile:e.props.data[e.props.name]||null,selectedFileId:e.props.data[e.props.name]?e.props.data[e.props.name].id:null},e}return e=c,(r=[{key:"componentDidUpdate",value:function(t){this.props.data[this.props.name]!==t.data[this.props.name]&&this.setState({selectedFile:this.props.data[this.props.name],selectedFileId:this.props.data[this.props.name]?this.props.data[this.props.name].id:null})}},{key:"getData",value:function(t){return t[this.props.name]=this.state.selectedFile||null,t}},{key:"handleSubmit",value:function(t){t[this.props.name]=this.state.selectedFileId||null}},{key:"open",value:function(){this.setState({isOpen:!0})}},{key:"close",value:function(){this.setState({isOpen:!1})}},{key:"onSelectionConfirm",value:function(t,e){this.setState({isOpen:!1,selectedFile:e[0],selectedFileId:t[0]})}},{key:"renderFilePreview",value:function(){return this.state.selectedFile?(0,h.jsx)("div",{className:"file-select-field__selected-file",children:(0,h.jsx)(Pl,{mediaConversion:"contain",file:this.state.selectedFile,fileLabels:this.props.fileLabels})}):(0,h.jsx)(Ui,{icon:"library_add",children:ut.get("snippets.select_singular",{singular:this.props.label})})}},{key:"render",value:function(){var t;return this.state.isOpen&&(t=(0,h.jsx)($e,{children:(0,h.jsx)(ml,{fileLabels:this.props.fileLabels,defaultSelectedFiles:this.state.selectedFile?[this.state.selectedFile]:null,defaultSelectedFileIds:this.state.selectedFile?[this.state.selectedFile.id]:null,defaultDirectoryId:this.state.selectedFile&&this.state.selectedFile.directory?this.state.selectedFile.directory.id:null,onCancel:this.close.bind(this),onSelectionConfirm:this.onSelectionConfirm.bind(this)})})),(0,h.jsxs)(o.Fragment,{children:[(0,h.jsx)(Nt,{name:this.props.name,label:this.props.label,errors:this.props.errors,children:(0,h.jsx)("div",{className:d("file-select-field",this.props.style),onClick:this.open.bind(this),children:this.renderFilePreview()})}),t]})}}])&&xl(e.prototype,r),n&&xl(e,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(o.Component);!function(t,e,r){(e=El(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(Tl,"defaultProps",{path:{},data:{},label:"",name:"",style:"",fileLabels:{}});const Nl=Tl;function Dl(t){return Dl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dl(t)}function Fl(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ml(n.key),n)}}function Bl(t,e){return Bl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Bl(t,e)}function Ll(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Il(t);if(e){var o=Il(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Dl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Il(t){return Il=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Il(t)}function Ml(t){var e=function(t,e){if("object"!==Dl(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Dl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Dl(e)?e:String(e)}var Al=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bl(t,e)}(i,t);var e,r,n,o=Ll(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={isOpen:!0},e}return e=i,(r=[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"renderCollapseButton",value:function(){if(this.props.children.length)return(0,h.jsx)(ir,{name:this.state.isOpen?"remove":"add",iconStyle:"mini",onClick:this.toggle.bind(this)})}},{key:"renderContent",value:function(){if(this.props.children.length)return(0,h.jsx)("div",{className:"collapsible__content",children:this.props.children})}},{key:"render",value:function(){return(0,h.jsxs)("div",{className:"collapsible"+(this.state.isOpen?" collapsible--open":" collapsible--closed"),children:[(0,h.jsxs)("div",{className:"collapsible__header",children:[this.renderCollapseButton(),(0,h.jsx)("div",{className:"collapsible__title",children:this.props.title}),(0,h.jsx)("div",{className:"collapsible__actions",children:this.props.actions})]}),this.renderContent()]})}}])&&Fl(e.prototype,r),n&&Fl(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);function Ul(t){return Ul="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ul(t)}function Vl(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zl(n.key),n)}}function zl(t){var e=function(t,e){if("object"!==Ul(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Ul(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Ul(e)?e:String(e)}function ql(t,e){return ql=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ql(t,e)}function Wl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Gl(t);if(e){var o=Gl(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Ul(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Gl(t){return Gl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Gl(t)}!function(t,e,r){(e=Ml(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(Al,"defaultProps",{title:"",actions:[]});const Kl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ql(t,e)}(i,t);var e,r,n,o=Wl(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"render",value:function(){return(0,h.jsx)("hr",{className:"divider"})}}])&&Vl(e.prototype,r),n&&Vl(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);function Hl(t){return Hl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hl(t)}function Ql(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,c,u=[],a=!0,s=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;a=!1}else for(;!(a=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);a=!0);}catch(t){s=!0,o=t}finally{try{if(!a&&null!=r.return&&(c=r.return(),Object(c)!==c))return}finally{if(s)throw o}}return u}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Yl(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yl(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yl(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Zl(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tf(n.key),n)}}function $l(t,e){return $l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},$l(t,e)}function Jl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Xl(t);if(e){var o=Xl(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Hl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Xl(t){return Xl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Xl(t)}function tf(t){var e=function(t,e){if("object"!==Hl(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Hl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Hl(e)?e:String(e)}var ef=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$l(t,e)}(i,t);var e,r,n,o=Jl(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).componentLists=[],e.state={addedBlocks:e.getAddedBlocks(),blocksToRemoveById:[],blocksToRemoveByOrder:[]},e}return e=i,r=[{key:"componentDidUpdate",value:function(t,e){this.props.data[this.props.name]!==t.data[this.props.name]&&this.setState({addedBlocks:this.getAddedBlocks()})}},{key:"getData",value:function(t){return t}},{key:"handleSubmit",value:function(t){var e=this,r={update:[],removeById:this.state.blocksToRemoveById,removeByOrder:this.state.blocksToRemoveByOrder};this.componentLists.forEach((function(t,n){var o=Ql(t,3),i=o[0],c=o[1],u=o[2],a={id:c};a[e.props.typeColumn]=u,a[e.props.orderColumn]=n,i.forEach((function(t){return t.ref.current.handleSubmit(a)})),r.update.push(a)})),t[this.props.name]=JSON.stringify(r),this.setState({blocksToRemoveById:[],blocksToRemoveByOrder:[]})}},{key:"getBlockDefinition",value:function(t){return this.props.blocks[t]}},{key:"getAddedBlocks",value:function(){var t=this;return(this.props.data[this.props.name]||[]).map((function(e,r){var n=e[t.props.typeColumn],o=t.getBlockDefinition(n);return o?{id:e.id,data:e,name:o.name,type:o.type,components:o.components}:null}))}},{key:"syncBlocksData",value:function(){var t=this.state.addedBlocks;return this.componentLists.forEach((function(e,r){var n=Ql(e,3),o=n[0],i=(n[1],n[2],t[r].data);o.forEach((function(e){e.ref.current.getData&&(t.data=e.ref.current.getData(i))}))})),t}},{key:"sortUp",value:function(t){if(!(t<=0)){var e=this.syncBlocksData(),r=t-1,n=[e[r],e[t]];e[t]=n[0],e[r]=n[1],this.setState({addedBlocks:e}),Zt.notify(ut.get("snippets.order_changed"))}}},{key:"sortDown",value:function(t){if(!(t>=this.state.addedBlocks.length-1)){var e=this.syncBlocksData(),r=t+1,n=[e[r],e[t]];e[t]=n[0],e[r]=n[1],this.setState({addedBlocks:e}),Zt.notify(ut.get("snippets.order_changed"))}}},{key:"removeBlock",value:function(t,e){var r=this;Zt.confirm({title:ut.get("snippets.delete_singular_title",{singular:this.props.singular}),text:ut.get("snippets.delete_singular_text",{singular:this.props.singular}),confirm:function(){var n=r.state.blocksToRemoveById,o=r.state.blocksToRemoveByOrder,i=r.syncBlocksData();i.splice(t,1),e?n.push(e):o.push(t),r.setState({addedBlocks:i,blocksToRemoveById:n,blocksToRemoveByOrder:o}),Zt.notify(ut.get("snippets.singular_deleted",{singular:r.props.singular}))}})}},{key:"addBlock",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=this.getBlockDefinition(t),n=this.state.addedBlocks,o={id:null,name:r.name,type:r.type,components:r.components,data:{}};null!==e?(n.splice(e,0,o),Zt.notify(ut.get("snippets.singular_inserted",{singular:this.props.singular}))):(n.push(o),Zt.notify(ut.get("snippets.singular_added",{singular:this.props.singular}))),this.setState({addedBlocks:n})}},{key:"renderAddBlockDropdown",value:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=Object.getOwnPropertyNames(this.props.blocks);return n.length?1===n.length?t?(0,h.jsx)(ye,{onClick:function(t){return e.addBlock(n[0],r)},icon:"add",style:["small","secondary"],text:t}):(0,h.jsx)(ir,{name:"post_add",iconStyle:"small",onClick:function(t){return e.addBlock(n[0],r)}}):(0,h.jsx)(ju,{style:["secondary"],autoClose:!0,text:t,openIcon:"post_add",closeIcon:"post_add",children:(0,h.jsx)(x,{links:this.getTypeLinks(),onClick:function(t){return e.addBlock(t,r)}})},r):null}},{key:"optionDropdownClick",value:function(t,e,r){"delete"===t&&this.removeBlock(e,r)}},{key:"getTypeLinks",value:function(){var t=this;return Object.getOwnPropertyNames(this.props.blocks).map((function(e){return[t.props.blocks[e].name,e]}))}},{key:"getTypeLinksInsertBelow",value:function(){var t=this;return Object.getOwnPropertyNames(this.props.blocks).map((function(e){return[ut.get("snippets.insert_singular_below",{singular:t.props.blocks[e].name}),e]}))}},{key:"renderContentBlocks",value:function(){var t=this;return this.componentLists=[],this.state.addedBlocks.length?this.state.addedBlocks.map((function(e,r){if(!e)return null;var n=oy.renderComponentsWith(e.components,e.data,t.props.path,(function(t,e){return(0,h.jsx)("div",{className:"content-blocks__component",children:t},e)}),!0);return t.componentLists.push([n,e.id,e.type]),(0,h.jsx)("div",{className:"content-blocks__item",children:(0,h.jsx)(Al,{title:e.name,actions:[(0,h.jsx)(ir,{style:["transparent",r>0?"enabled":"disabled"],iconStyle:"mini",name:"arrow_upward",onClick:function(e){return t.sortUp(r)}},0),(0,h.jsx)(ir,{style:["transparent",r<t.state.addedBlocks.length-1?"enabled":"disabled"],iconStyle:"mini",name:"arrow_downward",onClick:function(e){return t.sortDown(r)}},1),(0,h.jsxs)(ju,{autoClose:!0,openIcon:"more_horiz",closeIcon:"more_horiz",children:[(0,h.jsx)(x,{links:t.getTypeLinksInsertBelow(),onClick:function(e){return t.addBlock(e,r+1)}}),(0,h.jsx)(Kl,{}),(0,h.jsx)(x,{style:"warning",links:[[Ht(ut.get("snippets.delete_singular",{singular:t.props.singular})),"delete"]],onClick:function(n){return t.optionDropdownClick(n,r,e.id)}})]},3)],children:n.map((function(t){return t.component}))})},r)})):(0,h.jsx)(Ui,{icon:"post_add",children:ut.get("snippets.no_plural_added",{plural:this.props.plural})})}},{key:"render",value:function(){return(0,h.jsx)(Nt,{name:this.props.name,label:this.props.label,tooltip:this.props.tooltip,children:(0,h.jsxs)("div",{className:"content-blocks",children:[(0,h.jsx)("div",{className:"content-blocks__content",children:this.renderContentBlocks()}),(0,h.jsx)("div",{className:"content-blocks__footer",children:this.renderAddBlockDropdown(Ht(ut.get("snippets.add_singular",{singular:this.props.singular})))})]})})}}],r&&Zl(e.prototype,r),n&&Zl(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);function rf(t){return rf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rf(t)}function nf(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,af(n.key),n)}}function of(t,e){return of=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},of(t,e)}function cf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=uf(t);if(e){var o=uf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===rf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function uf(t){return uf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},uf(t)}function af(t){var e=function(t,e){if("object"!==rf(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==rf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===rf(e)?e:String(e)}!function(t,e,r){(e=tf(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(ef,"defaultProps",{data:{},label:"",name:"",singular:"",plural:"",tooltip:"",blocks:{},typeColumn:"",orderColumn:""});var sf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&of(t,e)}(i,t);var e,r,n,o=cf(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"render",value:function(){var t=this;return(0,h.jsx)("div",{className:"tags",children:this.props.tags.map((function(e,r){return(0,h.jsx)("div",{className:"tags__tag"+(t.props.onClick?" tags__tag--clickable":""),onClick:t.props.onClick?function(r){return t.props.onClick(e)}:null,children:e},r)}))})}}])&&nf(e.prototype,r),n&&nf(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);function lf(t){return lf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lf(t)}function ff(t){return function(t){if(Array.isArray(t))return pf(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return pf(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pf(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pf(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function df(){df=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function a(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{a({},"")}catch(t){a=function(t,e,r){return t[e]=r}}function s(t,e,r,o){var i=e&&e.prototype instanceof p?e:p,c=Object.create(i.prototype),u=new S(o||[]);return n(c,"_invoke",{value:w(t,r,u)}),c}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function p(){}function d(){}function y(){}var h={};a(h,i,(function(){return this}));var b=Object.getPrototypeOf,m=b&&b(b(x([])));m&&m!==e&&r.call(m,i)&&(h=m);var v=y.prototype=p.prototype=Object.create(h);function g(t){["next","throw","return"].forEach((function(e){a(t,e,(function(t){return this._invoke(e,t)}))}))}function j(t,e){function o(n,i,c,u){var a=l(t[n],t,i);if("throw"!==a.type){var s=a.arg,f=s.value;return f&&"object"==lf(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,c,u)}),(function(t){o("throw",t,c,u)})):e.resolve(f).then((function(t){s.value=t,c(s)}),(function(t){return o("throw",t,c,u)}))}u(a.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function w(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return k()}for(r.method=o,r.arg=i;;){var c=r.delegate;if(c){var u=O(c,r);if(u){if(u===f)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var a=l(t,e,r);if("normal"===a.type){if(n=r.done?"completed":"suspendedYield",a.arg===f)continue;return{value:a.arg,done:r.done}}"throw"===a.type&&(n="completed",r.method="throw",r.arg=a.arg)}}}function O(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function x(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=y,n(v,"constructor",{value:y,configurable:!0}),n(y,"constructor",{value:d,configurable:!0}),d.displayName=a(y,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,a(t,u,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},g(j.prototype),a(j.prototype,c,(function(){return this})),t.AsyncIterator=j,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var c=new j(s(e,r,n,o),i);return t.isGeneratorFunction(r)?c:c.next().then((function(t){return t.done?t.value:c.next()}))},g(v),a(v,u,"Generator"),a(v,i,(function(){return this})),a(v,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=x,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return c.type="throw",c.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),a=r.call(i,"finallyLoc");if(u&&a){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var c=i?i.completion:{};return c.type=t,c.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(c)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),P(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:x(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function yf(t,e,r,n,o,i,c){try{var u=t[i](c),a=u.value}catch(t){return void r(t)}u.done?e(a):Promise.resolve(a).then(n,o)}function hf(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gf(n.key),n)}}function bf(t,e){return bf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},bf(t,e)}function mf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=vf(t);if(e){var o=vf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===lf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function vf(t){return vf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},vf(t)}function gf(t){var e=function(t,e){if("object"!==lf(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==lf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===lf(e)?e:String(e)}!function(t,e,r){(e=af(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(sf,"defaultProps",{tags:[],onClick:null});var jf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bf(t,e)}(u,t);var e,r,n,o,i,c=mf(u);function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=c.call(this,t)).state={isLoading:!0,selectedTags:e.props.selectedTags,tags:[]},e}return e=u,r=[{key:"componentDidMount",value:function(){this.load()}},{key:"load",value:(o=df().mark((function t(){var e=this;return df().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:We.execute.get(this.props.path,this.props.id,"load",{}).then((function(t){var r=t.data;r.sort((function(t,e){return t>e?1:e>t?-1:0})),e.setState({tags:r,isLoading:!1})}));case 1:case"end":return t.stop()}}),t,this)})),i=function(){var t=this,e=arguments;return new Promise((function(r,n){var i=o.apply(t,e);function c(t){yf(i,r,n,c,u,"next",t)}function u(t){yf(i,r,n,c,u,"throw",t)}c(void 0)}))},function(){return i.apply(this,arguments)})},{key:"onCancel",value:function(){this.props.onCancel()}},{key:"onConfirm",value:function(){this.props.onConfirm(this.state.selectedTags)}},{key:"onTagClick",value:function(t){this.setState({selectedTags:[].concat(ff(this.state.selectedTags),[t])})}},{key:"onSelectedTagClick",value:function(t){var e=this.state.selectedTags.filter((function(e){return e!==t}));this.setState({selectedTags:e})}},{key:"renderContent",value:function(){return this.state.isLoading?null:this.state.tags.length?(this.state.selectedTags.length&&(t=(0,h.jsxs)("div",{className:"tags-browser__selected",children:[(0,h.jsx)("div",{className:"tags-browser__title",children:ut.get("snippets.selected_tags")}),(0,h.jsx)(sf,{tags:this.state.selectedTags,onClick:this.onSelectedTagClick.bind(this)})]})),this.state.tags.length&&(e=(0,h.jsxs)("div",{className:"tags-browser__available",children:[(0,h.jsx)("div",{className:"tags-browser__title",children:ut.get("snippets.available_tags")}),(0,h.jsx)(sf,{tags:this.state.tags,onClick:this.onTagClick.bind(this)})]})),(0,h.jsxs)("div",{className:"tags-browser__tags",children:[t,e]})):(0,h.jsx)(Ui,{children:ut.get("snippets.no_tags_available")});var t,e}},{key:"render",value:function(){return(0,h.jsx)(dr,{style:"modal",title:ut.get("snippets.tags"),closeable:!0,onClose:this.onCancel.bind(this),footer:[(0,h.jsx)(ye,{text:ut.get("snippets.cancel"),style:["secondary"],onClick:this.onCancel.bind(this)},0),(0,h.jsx)(ye,{text:ut.get("snippets.confirm"),onClick:this.onConfirm.bind(this)},1)],children:(0,h.jsx)("div",{className:"tags-browser",children:(0,h.jsx)("div",{className:"tags-browser__content",children:this.renderContent()})})})}}],r&&hf(e.prototype,r),n&&hf(e,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(o.Component);!function(t,e,r){(e=gf(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(jf,"defaultProps",{id:0,path:{},selectedTags:[],onCancel:function(){},onConfirm:function(t){}});const wf=jf;function Of(t){return Of="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Of(t)}function _f(t){return function(t){if(Array.isArray(t))return Pf(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Pf(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pf(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pf(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Sf(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Rf(n.key),n)}}function xf(t,e){return xf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},xf(t,e)}function kf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Cf(t);if(e){var o=Cf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Of(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Cf(t){return Cf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Cf(t)}function Rf(t){var e=function(t,e){if("object"!==Of(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Of(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Of(e)?e:String(e)}var Ef=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xf(t,e)}(c,t);var e,r,n,i=kf(c);function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=i.call(this,t)).inputRef=o.createRef(),e.autosuggestTimeout=null,e.state={browserIsOpen:!1,autosuggestIsOpen:!1,autosuggest:[],tags:e.props.data[e.props.id+"_tags"]||[]},e}return e=c,r=[{key:"componentDidUpdate",value:function(t){this.props.data[this.props.id+"_tags"]!==t.data[this.props.id+"_tags"]&&this.setState({tags:this.props.data[this.props.id+"_tags"]})}},{key:"componentWillUnmount",value:function(){clearTimeout(this.searchTimeout)}},{key:"getData",value:function(t){return t[this.props.id+"_tags"]=this.state.tags||[],t}},{key:"handleSubmit",value:function(t){t[this.props.id+"_tags"]=JSON.stringify(this.state.tags)}},{key:"handleChange",value:function(t){var e=this;clearTimeout(this.searchTimeout);var r=t.target.value;r?this.searchTimeout=setTimeout((function(){return e.autosuggest(r)}),200):this.setState({autosuggestIsOpen:!1})}},{key:"handleKeyDown",value:function(t){if("Backspace"===t.key&&""===t.target.value&&this.removeLastTag(),"Tab"===t.key&&(t.preventDefault(),""!==t.target.value))if(this.state.autosuggestIsOpen&&this.state.autosuggest.length)t.target.value="",this.addTag(this.state.autosuggest[0]);else{var e=t.target.value.replace(",","");t.target.value="",this.addTag(e)}if("Enter"===t.key){t.preventDefault();var r=t.target.value.replace(",","");t.target.value="",this.addTag(r)}}},{key:"handleKeyUp",value:function(t){if(","===t.key){var e=t.target.value.replace(",","");t.target.value="",this.addTag(e)}}},{key:"handleBlur",value:function(t){var e=this;clearTimeout(this.searchTimeout);var r=t.target,n=r.value;this.searchTimeout=setTimeout((function(){r.value="",e.setState({tags:n?[].concat(_f(e.state.tags),[n]):e.state.tags,autosuggestIsOpen:!1})}),1e3)}},{key:"handleSuggestionClick",value:function(t){var e=this;clearTimeout(this.searchTimeout),this.inputRef.current.value="",this.inputRef.current.focus(),t&&this.addTag(t,(function(){e.setState({autosuggestIsOpen:!1})}))}},{key:"addTag",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};clearTimeout(this.searchTimeout),t&&this.setState({autosuggestIsOpen:!1,tags:[].concat(_f(this.state.tags),[t])},e)}},{key:"removeLastTag",value:function(){this.setState({tags:this.state.tags.slice(0,-1)})}},{key:"autosuggest",value:function(t){var e=this;t.length>1&&We.execute.get(this.props.path,this.props.id,"autosuggest",{search:t}).then((function(t){e.setState({autosuggestIsOpen:!0,autosuggest:t.data})}))}},{key:"openBrowser",value:function(){this.setState({browserIsOpen:!0})}},{key:"closeBrowser",value:function(){this.setState({browserIsOpen:!1})}},{key:"confirmBrowser",value:function(t){this.setState({tags:t,browserIsOpen:!1})}},{key:"render",value:function(){var t,e,r=this;return this.state.autosuggestIsOpen&&this.state.autosuggest.length&&(e=(0,h.jsx)("div",{className:"tags-field__autosuggest",children:this.state.autosuggest.map((function(t,e){return(0,h.jsx)("div",{className:"tags-field__autosuggestion",onClick:function(e){return r.handleSuggestionClick(t)},children:t},e)}))})),this.state.browserIsOpen&&(t=(0,h.jsx)($e,{children:(0,h.jsx)(wf,{id:this.props.id,path:this.props.path,selectedTags:this.state.tags,onCancel:this.closeBrowser.bind(this),onConfirm:function(t){return r.confirmBrowser(t)}})})),(0,h.jsx)(Nt,{name:this.props.name,required:this.props.showRequiredIndicator,label:this.props.label,errors:this.props.errors,tooltip:this.props.tooltip,children:(0,h.jsx)("div",{className:"tags-field",children:(0,h.jsxs)("div",{className:"tags-field__wrap",children:[(0,h.jsx)("div",{className:"tags-field__browse",children:(0,h.jsx)(ir,{style:"transparent",name:"fact_check",onClick:this.openBrowser.bind(this)})}),(0,h.jsx)("div",{className:"tags-field__tags",children:(0,h.jsx)(sf,{tags:this.state.tags})}),(0,h.jsx)("div",{className:"tags-field__input",children:(0,h.jsx)("input",{className:"tags-field__input-field",ref:this.inputRef,onChange:this.handleChange.bind(this),onKeyUp:this.handleKeyUp.bind(this),onKeyDown:this.handleKeyDown.bind(this),onBlur:this.handleBlur.bind(this)})}),e,t]})})})}}],r&&Sf(e.prototype,r),n&&Sf(e,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(o.Component);function Tf(t){return Tf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tf(t)}function Nf(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Lf(n.key),n)}}function Df(t,e){return Df=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Df(t,e)}function Ff(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Bf(t);if(e){var o=Bf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Tf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Bf(t){return Bf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Bf(t)}function Lf(t){var e=function(t,e){if("object"!==Tf(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Tf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Tf(e)?e:String(e)}!function(t,e,r){(e=Rf(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(Ef,"defaultProps",{id:0,data:{},label:"",disabled:!1,showRequiredIndicator:!1,errors:{},style:"",tooltip:""});var If=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Df(t,e)}(i,t);var e,r,n,o=Ff(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"render",value:function(){return this.props.data&&void 0!==this.props.data[this.props.id+"_tags"]?(0,h.jsx)("div",{className:"tags-view",children:(0,h.jsx)(sf,{tags:this.props.data[this.props.id+"_tags"]})}):null}}])&&Nf(e.prototype,r),n&&Nf(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);!function(t,e,r){(e=Lf(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(If,"defaultProps",{id:0,data:{}});const Mf=function(t,e,r){return t.splice(r,0,t.splice(e,1)[0]),t};function Af(t){return Af="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Af(t)}function Uf(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Wf(n.key),n)}}function Vf(t,e){return Vf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Vf(t,e)}function zf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=qf(t);if(e){var o=qf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Af(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function qf(t){return qf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},qf(t)}function Wf(t){var e=function(t,e){if("object"!==Af(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Af(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Af(e)?e:String(e)}var Gf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vf(t,e)}(i,t);var e,r,n,o=zf(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={isOpen:!1,selectedFiles:e.props.data[e.props.name]||[],selectedFilesIds:e.props.data[e.props.name]?e.props.data[e.props.name].map((function(t){return t.id})):[]},e}return e=i,r=[{key:"componentDidUpdate",value:function(t){this.props.data[this.props.name]!==t.data[this.props.name]&&this.setState({selectedFiles:this.props.data[this.props.name]||[],selectedFilesIds:this.props.data[this.props.name]?this.props.data[this.props.name].map((function(t){return t.id})):[]})}},{key:"getData",value:function(t){return t[this.props.name]=this.state.selectedFiles||[],t}},{key:"handleSubmit",value:function(t){t[this.props.name]=this.state.selectedFilesIds||[]}},{key:"open",value:function(){this.setState({isOpen:!0})}},{key:"close",value:function(){this.setState({isOpen:!1})}},{key:"onSelectionConfirm",value:function(t,e){this.setState({isOpen:!1,selectedFiles:e,selectedFilesIds:t})}},{key:"remove",value:function(t){this.state.selectedFiles.splice(t,1),this.state.selectedFilesIds.splice(t,1),this.setState({selectedFiles:this.state.selectedFiles,selectedFilesIds:this.state.selectedFilesIds})}},{key:"sortForward",value:function(t){t!==this.state.selectedFiles.length-1&&this.setState({selectedFiles:Mf(this.state.selectedFiles,t,t+1),selectedFilesIds:Mf(this.state.selectedFilesIds,t,t+1)})}},{key:"sortBackward",value:function(t){0!==t&&this.setState({selectedFiles:Mf(this.state.selectedFiles,t,t-1),selectedFilesIds:Mf(this.state.selectedFilesIds,t,t-1)})}},{key:"renderItemOverlay",value:function(t){var e,r,n,o=this;return this.props.orderColumn&&(0!==t&&(r=(0,h.jsx)(ir,{style:"transparent",name:"arrow_back",onClick:function(e){return o.sortBackward(t)}})),t!==this.state.selectedFiles.length-1&&(n=(0,h.jsx)(ir,{style:"transparent",name:"arrow_forward",onClick:function(e){return o.sortForward(t)}})),e=(0,h.jsxs)("div",{className:"gallery-field__item-order",children:[r,n]})),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"gallery-field__item-overlay"}),(0,h.jsxs)("div",{className:"gallery-field__item-actions",children:[(0,h.jsx)("div",{className:"gallery-field__item-delete",children:(0,h.jsx)(ir,{style:"transparent",name:"delete",onClick:function(e){return o.remove(t)}})}),e]})]})}},{key:"onCtxMenuClick",value:function(t,e){"remove"===e&&this.remove(t)}},{key:"renderContent",value:function(){var t=this;return this.state.selectedFiles.length?(0,h.jsxs)("div",{className:"gallery-field__grid",children:[this.state.selectedFiles.map((function(e,r){return(0,h.jsx)(B,{links:[["Remove from selection","remove"]],onClick:function(e){return t.onCtxMenuClick(r,e)},children:(0,h.jsxs)("div",{className:"gallery-field__item",children:[(0,h.jsx)(Pl,{file:e,fileLabels:t.props.fileLabels,mediaConversion:"contain"}),t.renderItemOverlay(r)]})},r)})),(0,h.jsx)(Ui,{icon:"image_search",onClick:this.open.bind(this),children:ut.get("snippets.add_plural",{plural:this.props.plural})})]}):(0,h.jsx)(Ui,{icon:"image_search",onClick:this.open.bind(this),children:ut.get("snippets.select_plural",{plural:this.props.plural})})}},{key:"render",value:function(){var t;return this.state.isOpen&&(t=(0,h.jsx)($e,{children:(0,h.jsx)(ml,{fileLabels:this.props.fileLabels,selectionMode:!0,defaultSelectedFiles:this.state.selectedFiles,defaultSelectedFileIds:this.state.selectedFilesIds,onCancel:this.close.bind(this),onSelectionConfirm:this.onSelectionConfirm.bind(this)})})),(0,h.jsxs)(Nt,{name:this.props.name,label:this.props.label,errors:this.props.errors,tooltip:this.props.tooltip,children:[(0,h.jsxs)("div",{className:"gallery-field",children:[(0,h.jsx)("div",{className:"gallery-field__btn",children:(0,h.jsx)(ye,{style:["small","secondary"],icon:"add",text:ut.get("snippets.select_plural",{plural:this.props.plural}),onClick:this.open.bind(this)})}),(0,h.jsx)("div",{className:"gallery-field__content",children:this.renderContent()})]}),t]})}}],r&&Uf(e.prototype,r),n&&Uf(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);!function(t,e,r){(e=Wf(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(Gf,"defaultProps",{path:{},data:{},label:"",name:"",style:"",singular:"",plural:"",tooltip:"",orderColumn:"",fileLabels:{}});const Kf=Gf;function Hf(t){return Hf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hf(t)}function Qf(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Jf(n.key),n)}}function Yf(t,e){return Yf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Yf(t,e)}function Zf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=$f(t);if(e){var o=$f(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Hf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function $f(t){return $f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},$f(t)}function Jf(t){var e=function(t,e){if("object"!==Hf(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Hf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Hf(e)?e:String(e)}var Xf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yf(t,e)}(i,t);var e,r,n,o=Zf(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"renderActions",value:function(){return this.props.actions.length?(0,h.jsx)("div",{className:"item__actions",children:this.props.actions}):null}},{key:"renderSelectionMode",value:function(){return this.props.selectionMode?(0,h.jsx)("div",{className:"item__checkbox",children:(0,h.jsx)(ir,{name:this.props.isSelected?"check_box":"check_box_outline_blank",style:"transparent"})}):null}},{key:"getRowStyle",value:function(){var t={gridTemplateColumns:"repeat("+this.props.components.length+", 1fr)"};return this.props.grid.length&&(t.gridTemplateColumns=this.props.grid.join("fr ")+"fr"),t}},{key:"renderItemContent",value:function(){var t=this;return this.props.components.length?(0,h.jsx)("div",{className:"item__row",style:this.getRowStyle(),children:this.props.components.map((function(e,r){return(0,h.jsx)("div",{className:"item__component",children:oy.renderComponent(e,t.props.item,t.props.path)},r)}))}):(0,h.jsx)("div",{className:"item__name",children:this.props.item[this.props.titleColumn]})}},{key:"render",value:function(){var t=this;return(0,h.jsxs)("div",{className:"item"+(this.props.isSelected?" item--selected":""),onClick:function(e){return t.props.onClick(e,t.props.item)},children:[this.renderSelectionMode(),(0,h.jsx)("div",{className:"item__content",children:this.renderItemContent()}),this.renderActions()]})}}])&&Qf(e.prototype,r),n&&Qf(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);!function(t,e,r){(e=Jf(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(Xf,"defaultProps",{path:{},item:{},titleColumn:"",isSelected:!1,selectionMode:!1,components:[],actions:[],grid:[],onClick:function(t,e){}});const tp=Xf;function ep(t){return ep="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ep(t)}function rp(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,cp(n.key),n)}}function np(t,e){return np=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},np(t,e)}function op(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=ip(t);if(e){var o=ip(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===ep(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function ip(t){return ip=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ip(t)}function cp(t){var e=function(t,e){if("object"!==ep(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==ep(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===ep(e)?e:String(e)}var up=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&np(t,e)}(i,t);var e,r,n,o=op(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,r=[{key:"changePage",value:function(t){this.props.onPageChange(t)}},{key:"render",value:function(){var t,e,r=this;return this.props.currentPage>1&&(t=(0,h.jsx)(ir,{name:"arrow_left",onClick:function(t){return r.changePage(r.props.currentPage-1)}})),this.props.currentPage<this.props.lastPage&&(e=(0,h.jsx)(ir,{name:"arrow_right",onClick:function(t){return r.changePage(r.props.currentPage+1)}})),(0,h.jsxs)("div",{className:"pagination",children:[(0,h.jsxs)("div",{className:"pagination__status",children:[this.props.from," - ",this.props.to," of ",this.props.total]}),(0,h.jsxs)("div",{className:"pagination__controls",children:[(0,h.jsx)("div",{className:"pagination__prev",children:t}),(0,h.jsx)("div",{className:"pagination__next",children:e})]})]})}}],r&&rp(e.prototype,r),n&&rp(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);!function(t,e,r){(e=cp(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(up,"defaultProps",{currentPage:0,lastPage:0,perPage:0,total:0,from:0,to:0,onPageChange:function(t){}});const ap=up;function sp(t){return sp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sp(t)}function lp(t){return function(t){if(Array.isArray(t))return fp(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return fp(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fp(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fp(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function pp(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,bp(n.key),n)}}function dp(t,e){return dp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},dp(t,e)}function yp(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=hp(t);if(e){var o=hp(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===sp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function hp(t){return hp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},hp(t)}function bp(t){var e=function(t,e){if("object"!==sp(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==sp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===sp(e)?e:String(e)}var mp=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dp(t,e)}(i,t);var e,r,n,o=yp(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={isLoading:!0,searchKeyword:"",items:[],meta:null,selectedItemIds:e.props.defaultSelectedItemIds||[],selectedItems:e.props.defaultSelectedItems||[]},e}return e=i,r=[{key:"componentDidMount",value:function(){this.load()}},{key:"load",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.state.searchKeyword&&(e.search=this.state.searchKeyword),We.execute.get(this.props.path,this.props.id,"load",e).then((function(e){var r=e.data.data;t.setState({isLoading:!1,items:r,meta:e.data.meta||null})}))}},{key:"search",value:function(t){var e=this;this.setState({isLoading:!0,searchKeyword:t},(function(){e.load()}))}},{key:"onSelectionChange",value:function(t,e){this.setState({selectedItemIds:t,selectedItems:e}),this.props.onSelectionChange(t,e)}},{key:"onSelectionConfirm",value:function(){this.props.onSelectionConfirm(this.state.selectedItemIds,this.state.selectedItems)}},{key:"onCancel",value:function(){this.props.onCancel()}},{key:"deselect",value:function(t){var e=this,r=this.state.selectedItemIds.filter((function(e){return e!==t.id})),n=this.state.selectedItems.filter((function(e){return e.id!==t.id}));this.setState({selectedItemIds:r,selectedItems:n},(function(){e.props.onSelectionChange(e.state.selectedItemIds,e.state.selectedItems)}))}},{key:"select",value:function(t){var e=this;this.setState({selectedItemIds:[].concat(lp(this.state.selectedItemIds),[t.id]),selectedItems:[].concat(lp(this.state.selectedItems),[t])},(function(){e.props.onSelectionChange(e.state.selectedItemIds,e.state.selectedItems)}))}},{key:"toggleItemSelection",value:function(t){this.isItemSelected(t)?this.deselect(t):this.select(t)}},{key:"isItemSelected",value:function(t){return this.state.selectedItemIds.includes(t.id)}},{key:"changePage",value:function(t){this.load({page:t})}},{key:"renderSidebar",value:function(){var t=this;return this.state.selectedItems.length?(0,h.jsxs)("div",{className:"item-picker-widget__selection",children:[(0,h.jsxs)("div",{className:"item-picker-widget__selection-header",children:["Your selection (",this.state.selectedItems.length,")"]}),this.state.selectedItems.map((function(e,r){return(0,h.jsx)(tp,{item:e,titleColumn:t.props.titleColumn,actions:[(0,h.jsx)(ir,{name:"delete",style:"transparent",onClick:function(r){return t.deselect(e)}},"delete")]},r)}))]}):(0,h.jsxs)("div",{className:"item-picker-widget__selection",children:[(0,h.jsxs)("div",{className:"item-picker-widget__selection-header",children:[ut.get("snippets.your_selection")," (",this.state.selectedItems.length,")"]}),(0,h.jsx)(Ui,{icon:"checklist",children:ut.get("snippets.your_selection_is_empty")})]})}},{key:"renderPlaceholder",value:function(){return this.state.searchKeyword?(0,h.jsx)("div",{className:"index__placeholder",children:ut.get("snippets.no_plural_found_for_search",{plural:this.props.plural,search:this.state.searchKeyword})}):(0,h.jsx)("div",{className:"index__placeholder",children:ut.get("snippets.no_plural_found",{plural:this.props.plural})})}},{key:"renderPagination",value:function(){return this.state.meta&&this.state.meta.total?(0,h.jsx)(ap,{currentPage:this.state.meta.current_page,lastPage:this.state.meta.last_page,perPage:this.state.meta.per_page,total:this.state.meta.total,from:this.state.meta.from,to:this.state.meta.to,onPageChange:this.changePage.bind(this)},"pagination"):null}},{key:"renderRows",value:function(){var t=this;if(!this.state.isLoading)return this.state.items.map((function(e,r){return(0,h.jsx)("div",{className:"item-picker-widget__row",children:(0,h.jsx)(tp,{path:t.props.path,item:e,titleColumn:t.props.titleColumn,grid:t.props.grid,components:t.props.components,isSelected:t.isItemSelected(e),selectionMode:!0,onClick:function(r){return t.toggleItemSelection(e)}})},r)}))}},{key:"render",value:function(){var t=this;return(0,h.jsx)(dr,{style:["modal","wide"],title:Ht(this.props.plural),closeable:!0,onClose:this.onCancel.bind(this),actions:[this.props.search?(0,h.jsx)(On,{onSearch:function(e){return t.search(e)}},"search"):null],footer:[(0,h.jsxs)("div",{className:"item-picker-widget__footer",children:[(0,h.jsx)("div",{className:"item-picker-widget__footer-pagination",children:this.renderPagination()}),(0,h.jsxs)("div",{className:"item-picker-widget__footer-actions",children:[(0,h.jsx)(ye,{text:ut.get("snippets.cancel"),style:["secondary"],onClick:this.onCancel.bind(this)},"cancel"),(0,h.jsx)(ye,{text:this.props.selectionMode?ut.get("snippets.confirm_selection"):ut.get("snippets.select_singular",{singular:this.props.singular}),style:this.state.selectedItemIds.length?[]:["disabled"],onClick:this.state.selectedItemIds.length?this.onSelectionConfirm.bind(this):null},"confirm")]})]})],children:(0,h.jsx)(Is,{sidebar:this.renderSidebar(),children:this.state.items.length?this.renderRows():this.renderPlaceholder()})})}}],r&&pp(e.prototype,r),n&&pp(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);!function(t,e,r){(e=bp(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(mp,"defaultProps",{id:0,path:{},titleColumn:"",grid:[],components:[],defaultSelectedItemIds:[],defaultSelectedItems:[],search:!1,onSelectionChange:function(t,e){},onSelectionConfirm:function(t,e){},onCancel:function(){}});const vp=mp;function gp(t){return gp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gp(t)}function jp(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,c,u=[],a=!0,s=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;a=!1}else for(;!(a=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);a=!0);}catch(t){s=!0,o=t}finally{try{if(!a&&null!=r.return&&(c=r.return(),Object(c)!==c))return}finally{if(s)throw o}}return u}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return wp(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wp(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wp(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Op(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,xp(n.key),n)}}function _p(t,e){return _p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_p(t,e)}function Pp(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Sp(t);if(e){var o=Sp(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===gp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Sp(t){return Sp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Sp(t)}function xp(t){var e=function(t,e){if("object"!==gp(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==gp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===gp(e)?e:String(e)}var kp=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_p(t,e)}(i,t);var e,r,n,o=Pp(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={isOpen:!1,selectedItems:e.props.data[e.props.name]||[],selectedItemsIds:e.props.data[e.props.name]?e.props.data[e.props.name].map((function(t){return t.id})):[]},e.pivotComponentLists=[],e}return e=i,r=[{key:"componentDidUpdate",value:function(t){this.props.data[this.props.name]!==t.data[this.props.name]&&this.setState({selectedItems:this.props.data[this.props.name]||[],selectedItemsIds:this.props.data[this.props.name]?this.props.data[this.props.name].map((function(t){return t.id})):[]})}},{key:"getData",value:function(t){return t[this.props.name]=this.state.selectedItems||[],t}},{key:"handleSubmit",value:function(t){var e=this,r={ids:this.state.selectedItemsIds||[]},n={};this.pivotComponentLists.forEach((function(t,r){var o=jp(t,2),i=o[0],c=o[1];if(e.state.selectedItemsIds.includes(c)){var u={};i.forEach((function(t){return t.ref.current.handleSubmit(u)})),n[c]=u}})),r.pivot=n,t[this.props.name]=JSON.stringify(r)}},{key:"open",value:function(){this.setState({isOpen:!0})}},{key:"close",value:function(){this.setState({isOpen:!1})}},{key:"deselect",value:function(t){var e=this;Zt.confirm({title:ut.get("snippets.delete_singular_title",{singular:this.props.singular}),text:ut.get("snippets.delete_singular_text",{singular:this.props.singular}),confirm:function(){var r=e.state.selectedItemsIds.filter((function(e){return e!==t.id})),n=e.state.selectedItems.filter((function(e){return e.id!==t.id}));e.setState({selectedItemsIds:r,selectedItems:n}),Zt.notify(ut.get("snippets.singular_deleted",{singular:e.props.singular}))}})}},{key:"onSelectionConfirm",value:function(t,e){this.setState({isOpen:!1,selectedItems:e,selectedItemsIds:t})}},{key:"renderPivotComponents",value:function(t){var e=t.pivot||{},r=oy.renderComponentsWith(this.props.pivotComponents,e,this.props.path,(function(t,e){return(0,h.jsx)("div",{className:"many-to-many-field__pivot-component",children:t},e)}),!0);return this.pivotComponentLists.push([r,t.id]),r.map((function(t){return t.component}))}},{key:"renderContent",value:function(){var t=this;return this.pivotComponentLists=[],this.state.selectedItems.length?(0,h.jsx)("div",{className:"many-to-many-field__list",children:this.state.selectedItems.map((function(e,r){return(0,h.jsx)(Al,{title:e[t.props.titleColumn],actions:[(0,h.jsx)(ir,{name:"delete",style:"transparent",onClick:function(r){return t.deselect(e)}},"delete")],children:t.renderPivotComponents(e)},r)}))}):(0,h.jsxs)(Ui,{icon:"image_search",onClick:this.open.bind(this),children:["Select ",this.props.plural]})}},{key:"render",value:function(){var t;return this.state.isOpen&&(t=(0,h.jsx)($e,{children:(0,h.jsx)(vp,{id:this.props.id,path:this.props.path,plural:this.props.plural,singular:this.props.plural,titleColumn:this.props.titleColumn,grid:this.props.grid,components:this.props.components,search:this.props.search,onCancel:this.close.bind(this),onSelectionConfirm:this.onSelectionConfirm.bind(this),defaultSelectedItems:this.state.selectedItems,defaultSelectedItemIds:this.state.selectedItemsIds})})),(0,h.jsxs)(Nt,{name:this.props.name,label:this.props.label,errors:this.props.errors,children:[(0,h.jsxs)("div",{className:"many-to-many-field",children:[(0,h.jsx)("div",{className:"many-to-many-field__btn",children:(0,h.jsx)(ye,{style:["small","secondary"],icon:"add",text:"Select "+this.props.plural,onClick:this.open.bind(this)})}),(0,h.jsx)("div",{className:"many-to-many-field__content",children:this.renderContent()})]}),t]})}}],r&&Op(e.prototype,r),n&&Op(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);!function(t,e,r){(e=xp(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(kp,"defaultProps",{path:{},data:{},components:[],pivotComponents:[],label:"",name:"",style:"",singular:"",plural:"",titleColumn:"",search:!1,grid:[]});const Cp=kp;function Rp(t){return Rp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rp(t)}function Ep(t){return function(t){if(Array.isArray(t))return Tp(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Tp(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Tp(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tp(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Np(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Lp(n.key),n)}}function Dp(t,e){return Dp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Dp(t,e)}function Fp(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Bp(t);if(e){var o=Bp(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Rp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Bp(t){return Bp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Bp(t)}function Lp(t){var e=function(t,e){if("object"!==Rp(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Rp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Rp(e)?e:String(e)}var Ip=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Dp(t,e)}(c,t);var e,r,n,i=Fp(c);function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=i.call(this,t)).state={createFormErrors:{},isOpen:!1,items:[],options:{},selectedItems:e.props.data[e.props.name]||[],selectedItemsIds:e.props.data[e.props.name]?e.props.data[e.props.name].map((function(t){return t.id})):[]},e.createFormRef=o.createRef(),e}return e=c,r=[{key:"componentDidUpdate",value:function(t){this.props.data[this.props.name]!==t.data[this.props.name]&&this.setState({selectedItems:this.props.data[this.props.name]||[],selectedItemsIds:this.props.data[this.props.name]?this.props.data[this.props.name].map((function(t){return t.id})):[]})}},{key:"componentDidMount",value:function(){this.load()}},{key:"load",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;We.execute.get(this.props.path,this.props.id,"load",this.props.path.params).then((function(r){var n=r.data.data,o={};n.forEach((function(e){return o[e.id]=e[t.props.titleColumn]})),t.setState({items:n,options:o},(function(){e&&e()}))}))}},{key:"getData",value:function(t){return t[this.props.name]=this.state.selectedItems||[],t}},{key:"handleSubmit",value:function(t){t[this.props.name]=this.state.selectedItemsIds||[]}},{key:"handleChange",value:function(t){this.setState({selectedItemsIds:t,selectedItems:this.state.items.filter((function(e){return t.includes("".concat(e.id))}))})}},{key:"open",value:function(){this.setState({isOpen:!0})}},{key:"close",value:function(){this.setState({isOpen:!1})}},{key:"create",value:function(t){var e=this;We.execute.post(this.props.path,this.props.id,"create",t).then((function(t){e.createFormRef.current.ready(),e.load((function(){e.setState({isOpen:!1,selectedItemsIds:[].concat(Ep(e.state.selectedItemsIds),[t.data.data.id])})})),Zt.notify(ut.get("snippets.singular_created_selected",{singular:e.props.singular}))}),(function(t){var r=t.response;e.createFormRef.current.ready(),e.setState({createFormErrors:r.data.errors}),Zt.notify(r.data.message)}))}},{key:"renderSidebarComponents",value:function(){return oy.renderComponents(this.props.sidebarComponents,{},this.props.path)}},{key:"renderCreateComponents",value:function(){return oy.renderComponents(this.props.createComponents,{},this.props.path)}},{key:"renderCreateWidget",value:function(){return this.state.isOpen?(0,h.jsx)($e,{children:(0,h.jsx)(dr,{title:ut.get("snippets.new_singular",{singular:this.props.singular}),style:"modal",closeable:!0,onClose:this.close.bind(this),children:(0,h.jsx)(Pr,{ref:this.createFormRef,errors:this.state.createFormErrors,realForm:!1,onSubmit:this.create.bind(this),submitButtonText:ut.get("snippets.create_singular",{singular:this.props.singular}),sidebar:this.renderSidebarComponents(),children:this.renderCreateComponents()})})}):null}},{key:"renderCreate",value:function(){return this.props.create?(0,h.jsx)("div",{className:"many-to-many-select-field__btn",children:(0,h.jsx)(ye,{icon:"add",style:["full","small","secondary"],text:ut.get("snippets.new_singular",{singular:this.props.singular}),onClick:this.open.bind(this)})}):null}},{key:"render",value:function(){var t=this;return(0,h.jsxs)(Nt,{name:this.props.name,label:this.props.label,tooltip:this.props.tooltip,errors:this.props.errors,children:[(0,h.jsx)("div",{className:"many-to-many-select-field",children:(0,h.jsx)("div",{className:"many-to-many-select-field__field",children:(0,h.jsx)(Nn,{multiple:!0,value:this.state.selectedItemsIds,options:this.state.options,nullText:"– "+ut.get("snippets.no_plural_selected",{plural:this.props.plural})+" –",onChange:function(e){return t.handleChange(e)},children:this.renderCreate()})})}),this.renderCreateWidget()]})}}],r&&Np(e.prototype,r),n&&Np(e,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(o.Component);!function(t,e,r){(e=Lp(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(Ip,"defaultProps",{path:{},data:{},label:"",name:"",style:"",singular:"",plural:"",titleColumn:"",tooltip:"",create:!1,createComponents:[],sidebarComponents:[]});const Mp=Ip;function Ap(t){return Ap="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ap(t)}function Up(t){return function(t){if(Array.isArray(t))return Vp(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Vp(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vp(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vp(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function zp(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Kp(n.key),n)}}function qp(t,e){return qp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},qp(t,e)}function Wp(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Gp(t);if(e){var o=Gp(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Ap(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Gp(t){return Gp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Gp(t)}function Kp(t){var e=function(t,e){if("object"!==Ap(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Ap(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Ap(e)?e:String(e)}var Hp=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qp(t,e)}(i,t);var e,r,n,o=Wp(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).componentLists=[],e.state={addedItems:e.props.data[e.props.name]||[]},e}return e=i,r=[{key:"handleSubmit",value:function(t){var e=[];this.componentLists.forEach((function(t){var r={};t.forEach((function(t){t.ref.current.handleSubmit(r)})),e.push(r)})),t[this.props.name]=JSON.stringify(e)}},{key:"getData",value:function(t){return t[this.props.name]=this.state.addedItems||[],t}},{key:"componentDidUpdate",value:function(t){this.props.data[this.props.name]!==t.data[this.props.name]&&this.props.data[this.props.name]&&this.setState({addedItems:this.props.data[this.props.name]})}},{key:"addItem",value:function(){this.setState({addedItems:[].concat(Up(this.state.addedItems),[{}])})}},{key:"sortUp",value:function(t){if(!(t<=0)){var e=this.state.addedItems,r=t-1,n=[e[r],e[t]];e[t]=n[0],e[r]=n[1],this.setState({addedItems:e})}}},{key:"sortDown",value:function(t){if(!(t>=this.state.addedItems.length-1)){var e=this.state.addedItems,r=t+1,n=[e[r],e[t]];e[t]=n[0],e[r]=n[1],this.setState({addedItems:e})}}},{key:"removeItem",value:function(t){var e=this.state.addedItems;e.splice(t,1),this.setState({addedItems:e})}},{key:"renderItems",value:function(){var t=this;return this.componentLists=[],this.state.addedItems.length?this.state.addedItems.map((function(e,r){var n=oy.renderComponentsWith(t.props.components,e,t.props.path,(function(t,e){return(0,h.jsx)("div",{className:"json-field__component",children:t},e)}),!0,t.props.errors);return t.componentLists.push(n),(0,h.jsxs)("div",{className:"json-field__item",children:[(0,h.jsx)("div",{className:"json-field__item-content",children:n.map((function(t){return t.component}))}),(0,h.jsxs)("div",{className:"json-field__item-actions",children:[(0,h.jsx)(ir,{style:["transparent",r>0?"enabled":"disabled"],iconStyle:"mini",name:"arrow_upward",onClick:function(e){return t.sortUp(r)}}),(0,h.jsx)(ir,{style:["transparent",r<t.state.addedItems.length-1?"enabled":"disabled"],iconStyle:"mini",name:"arrow_downward",onClick:function(e){return t.sortDown(r)}}),(0,h.jsx)(ir,{style:"transparent",iconStyle:"mini",name:"delete",onClick:function(e){return t.removeItem(r)}})]})]},r)})):(0,h.jsxs)(Ui,{onClick:this.addItem.bind(this),icon:"post_add",children:["No ",this.props.plural," added yet"]})}},{key:"render",value:function(){return(0,h.jsx)(Nt,{name:this.props.name,label:this.props.label,tooltip:this.props.tooltip,children:(0,h.jsxs)("div",{className:"json-field",children:[(0,h.jsx)("div",{className:"json-field__content",children:this.renderItems()}),(0,h.jsx)("div",{className:"json-field__footer",children:(0,h.jsx)(ye,{onClick:this.addItem.bind(this),icon:"add",style:["small","secondary"],text:Ht(ut.get("snippets.add_singular",{singular:this.props.singular}))})})]})})}}],r&&zp(e.prototype,r),n&&zp(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);!function(t,e,r){(e=Kp(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(Hp,"defaultProps",{id:0,data:{},label:"",name:"",plural:"",singular:"",tooltip:"",components:[],errors:{}});const Qp=Hp;function Yp(t){return Yp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yp(t)}function Zp(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,td(n.key),n)}}function $p(t,e){return $p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},$p(t,e)}function Jp(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Xp(t);if(e){var o=Xp(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Yp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Xp(t){return Xp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Xp(t)}function td(t){var e=function(t,e){if("object"!==Yp(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Yp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Yp(e)?e:String(e)}var ed=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$p(t,e)}(i,t);var e,r,n,o=Jp(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={value:e.props.data[e.props.name]||""},e}return e=i,(r=[{key:"componentDidUpdate",value:function(t){this.props.data[this.props.name]!==t.data[this.props.name]&&this.setState({value:this.props.data[this.props.name]||""})}},{key:"handleChange",value:function(t){this.setState({value:t.target.value})}},{key:"handleSubmit",value:function(t){t[this.props.name]=this.state.value||""}},{key:"render",value:function(){return(0,h.jsx)(Nt,{name:this.props.name,required:this.props.showRequiredIndicator,label:this.props.label,errors:this.props.errors,tooltip:this.props.tooltip,children:(0,h.jsx)("input",{id:bt.inputId(this.props.name),name:this.props.name,className:"date-field",type:"date",value:this.state.value,disabled:this.props.disabled,onChange:this.handleChange.bind(this)})})}}])&&Zp(e.prototype,r),n&&Zp(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);function rd(t){return rd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rd(t)}function nd(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ud(n.key),n)}}function od(t,e){return od=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},od(t,e)}function id(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=cd(t);if(e){var o=cd(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===rd(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function cd(t){return cd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},cd(t)}function ud(t){var e=function(t,e){if("object"!==rd(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==rd(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===rd(e)?e:String(e)}!function(t,e,r){(e=td(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(ed,"defaultProps",{data:{},label:"",name:"",tooltip:"",errors:{}});var ad=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&od(t,e)}(i,t);var e,r,n,o=id(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"handleSubmit",value:function(t){}},{key:"render",value:function(){var t;return this.props.data[this.props.name]&&(t=(0,h.jsx)(Bu,{src:this.props.data[this.props.name].conversions.thumb})),(0,h.jsx)(Nt,{name:this.props.name,label:this.props.label,children:(0,h.jsx)("div",{className:"thumb-component",children:t})})}}])&&nd(e.prototype,r),n&&nd(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);function sd(t){return sd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sd(t)}function ld(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,yd(n.key),n)}}function fd(t,e){return fd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},fd(t,e)}function pd(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=dd(t);if(e){var o=dd(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===sd(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function dd(t){return dd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},dd(t)}function yd(t){var e=function(t,e){if("object"!==sd(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==sd(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===sd(e)?e:String(e)}!function(t,e,r){(e=ud(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(ad,"defaultProps",{data:{},label:"",name:""});var hd=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fd(t,e)}(i,t);var e,r,n,o=pd(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={value:e.props.data[e.props.name]||""},e}return e=i,r=[{key:"componentDidUpdate",value:function(t){this.props.data[this.props.name]!==t.data[this.props.name]&&this.setState({value:this.props.data[this.props.name]||""})}},{key:"handleChange",value:function(t){this.setState({value:t.target.value})}},{key:"handleSubmit",value:function(t){t[this.props.name]=this.state.value||""}},{key:"render",value:function(){var t;if(this.state.value){var e=Wu(this.state.value);t=(0,h.jsx)("div",{className:"color-field__color",style:{backgroundColor:this.state.value,color:Gu(e[0],e[1],e[2])},children:this.state.value})}else t=(0,h.jsx)("div",{className:"color-field__color",children:"Select a color"});return(0,h.jsx)(Nt,{name:this.props.name,label:this.props.label,errors:this.props.errors,tooltip:this.props.tooltip,children:(0,h.jsxs)("div",{className:"color-field",children:[t,(0,h.jsx)("input",{id:bt.inputId(this.props.name),name:this.props.name,className:"color-field__input",type:"color",value:this.state.value,disabled:this.props.disabled,onChange:this.handleChange.bind(this)})]})})}}],r&&ld(e.prototype,r),n&&ld(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);!function(t,e,r){(e=yd(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(hd,"defaultProps",{data:{},label:"",name:"",tooltip:"",errors:{}});const bd=hd;function md(t){return md="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},md(t)}function vd(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Od(n.key),n)}}function gd(t,e){return gd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},gd(t,e)}function jd(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=wd(t);if(e){var o=wd(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===md(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function wd(t){return wd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},wd(t)}function Od(t){var e=function(t,e){if("object"!==md(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==md(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===md(e)?e:String(e)}var _d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gd(t,e)}(i,t);var e,r,n,o=jd(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={},e}return e=i,(r=[{key:"componentDidMount",value:function(){}},{key:"sortUp",value:function(){var t={};this.props.data&&this.props.data.id&&(t.id=this.props.data.id),We.execute.get(this.props.path,this.props.id,"sortUp",t).then((function(t){u.refresh(),Zt.notify("Item has been sorted up!")}))}},{key:"sortDown",value:function(){var t={};this.props.data&&this.props.data.id&&(t.id=this.props.data.id),We.execute.get(this.props.path,this.props.id,"sortDown",t).then((function(t){u.refresh(),Zt.notify("Item has been sorted down!")}))}},{key:"render",value:function(){return(0,h.jsxs)("div",{className:"manual-order-controls",children:[(0,h.jsx)("div",{className:"manual-order-controls__item",children:(0,h.jsx)(ir,{style:"transparent",iconStyle:"small",name:"arrow_upward",onClick:this.sortUp.bind(this)})}),(0,h.jsx)("div",{className:"manual-order-controls__item",children:(0,h.jsx)(ir,{style:"transparent",iconStyle:"small",name:"arrow_downward",onClick:this.sortDown.bind(this)})})]})}}])&&vd(e.prototype,r),n&&vd(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);!function(t,e,r){(e=Od(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(_d,"defaultProps",{path:{},data:{},type:"",id:0});const Pd=_d;function Sd(t){return Sd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sd(t)}function xd(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ed(n.key),n)}}function kd(t,e){return kd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},kd(t,e)}function Cd(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Rd(t);if(e){var o=Rd(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Sd(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Rd(t){return Rd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Rd(t)}function Ed(t){var e=function(t,e){if("object"!==Sd(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Sd(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Sd(e)?e:String(e)}var Td=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kd(t,e)}(i,t);var e,r,n,o=Cd(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={value:e.props.data[e.props.name]||Object.keys(e.props.options)[0]},e.componentList=[],e}return e=i,r=[{key:"componentDidUpdate",value:function(t){this.props.data[this.props.name]!==t.data[this.props.name]&&this.setState({value:this.props.data[this.props.name]||Object.keys(this.props.options)[0]})}},{key:"getData",value:function(t){return t[this.props.name]=this.state.value,this.componentList.forEach((function(e){e.ref.current.getData(t)})),t}},{key:"handleSubmit",value:function(t){t[this.props.name]=this.state.value,this.componentList.forEach((function(e){e.ref.current.handleSubmit(t)}))}},{key:"handleChange",value:function(t){this.setState({value:t})}},{key:"getEnumOptions",value:function(){var t=this,e={};return Object.keys(this.props.options).forEach((function(r){return e[r]=t.props.options[r].name})),e}},{key:"getEnumComponents",value:function(){return this.props.options[this.state.value].components}},{key:"render",value:function(){var t=this;this.componentList=oy.renderComponentsWith(this.getEnumComponents(),this.props.data,this.props.path,(function(t,e){return(0,h.jsx)("div",{className:"enum-switch-field__component",children:t},e)}),!0,this.props.errors);var e=this.componentList.map((function(t){return t.component}));return(0,h.jsxs)("div",{className:"enum-switch-field",children:[(0,h.jsx)(Nt,{name:this.props.name,required:!1,label:this.props.label,tooltip:this.props.tooltip,children:(0,h.jsx)(Nn,{value:this.state.value,options:this.getEnumOptions(),onChange:function(e){return t.handleChange(e)}})}),(0,h.jsx)("div",{className:"enum-switch-field__content",children:e})]})}}],r&&xd(e.prototype,r),n&&xd(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);function Nd(t){return Nd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nd(t)}function Dd(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Id(n.key),n)}}function Fd(t,e){return Fd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Fd(t,e)}function Bd(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Ld(t);if(e){var o=Ld(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Nd(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Ld(t){return Ld=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ld(t)}function Id(t){var e=function(t,e){if("object"!==Nd(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Nd(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Nd(e)?e:String(e)}!function(t,e,r){(e=Ed(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(Td,"defaultProps",{data:{},label:"",name:"",options:{},tooltip:""});var Md=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fd(t,e)}(i,t);var e,r,n,o=Bd(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"render",value:function(){var t=this.props.text;return this.props.url&&(t=(0,h.jsx)("a",{className:"text-literal__link",target:"_blank",href:this.props.url,children:this.props.text})),(0,h.jsx)("div",{className:d("text-literal",this.props.style),children:t})}}])&&Dd(e.prototype,r),n&&Dd(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);function Ad(t){return Ad="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ad(t)}function Ud(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Wd(n.key),n)}}function Vd(t,e){return Vd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Vd(t,e)}function zd(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=qd(t);if(e){var o=qd(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Ad(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function qd(t){return qd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},qd(t)}function Wd(t){var e=function(t,e){if("object"!==Ad(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Ad(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Ad(e)?e:String(e)}!function(t,e,r){(e=Id(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(Md,"defaultProps",{id:0,text:"",url:"",style:""});var Gd=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vd(t,e)}(i,t);var e,r,n,o=zd(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"render",value:function(){return(0,h.jsx)(Nt,{name:this.props.name,required:this.props.showRequiredIndicator,label:this.props.label,errors:this.props.errors,tooltip:this.props.tooltip,children:(0,h.jsx)("input",{id:bt.inputId(this.props.name),name:this.props.name,className:d("time-field",this.props.style),type:this.props.htmlType,value:this.state.value||"",disabled:this.props.disabled,placeholder:this.props.placeholder,step:null!==this.props.step?this.props.step:null,min:null!==this.props.min?this.props.min:null,max:null!==this.props.max?this.props.max:null,onChange:this.handleChange.bind(this),onKeyUp:this.handleChange.bind(this),autoComplete:"off"})})}}])&&Ud(e.prototype,r),n&&Ud(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(At);function Kd(t){return Kd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kd(t)}function Hd(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$d(n.key),n)}}function Qd(t,e){return Qd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Qd(t,e)}function Yd(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Zd(t);if(e){var o=Zd(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Kd(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Zd(t){return Zd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Zd(t)}function $d(t){var e=function(t,e){if("object"!==Kd(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Kd(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Kd(e)?e:String(e)}!function(t,e,r){(e=Wd(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(Gd,"defaultProps",{htmlType:"time",min:null,max:null});var Jd=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qd(t,e)}(i,t);var e,r,n,o=Yd(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={height:0,source:e.props.data[e.props.id+"_inline-frame"]||""},e}return e=i,(r=[{key:"componentDidUpdate",value:function(t){this.props.data[this.props.id+"_inline-frame"]!==t.data[this.props.id+"_inline-frame"]&&this.setState({source:this.props.data[this.props.id+"_inline-frame"]})}},{key:"handleSubmit",value:function(t){}},{key:"getData",value:function(t){}},{key:"autoHeight",value:function(t){this.setState({height:t.target.contentWindow.document.documentElement.scrollHeight})}},{key:"render",value:function(){return(0,h.jsx)("div",{className:"inline-frame",children:(0,h.jsx)("iframe",{src:this.state.source,onLoad:this.autoHeight.bind(this),style:{height:this.state.height+"px"}})})}}])&&Hd(e.prototype,r),n&&Hd(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);!function(t,e,r){(e=$d(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(Jd,"defaultProps",{id:0,path:{},data:{},source:""});const Xd={"text-literal":Md,"time-field":Gd,"number-field":Kt,"date-field":ed,"date-time-field":tc,"date-time-view":Qc,"enum-field":An,"enum-view":Hn,"enum-switch-field":Td,"text-field":At,"text-to-slug-field":Ni,"text-view":oe,"password-field":Ho,"email-field":ti,checkbox:to,"boolean-view":ao,link:Ee,"execute-link":Br,stack:qr,translatable:cn,section:mo,"action-component":No,tabs:Uo,"custom-number":ai,"color-view":bi,"color-field":bd,"file-upload":Pi,"image-upload":Hi,"image-view":Fc,"belongs-to-field":ac,"belongs-to-view":bc,"richtext-field":kc,"boolean-field":Vc,thumbnail:eu,card:su,dropdown:Cu,"file-select-field":Nl,"gallery-field":Kf,"content-blocks":ef,"tags-field":Ef,"tags-view":If,"many-to-many-field":Cp,"many-to-many-select-field":Mp,"json-field":Qp,thumb:ad,"inline-frame":Jd,"manual-order-controls":Pd};function ty(t){return ty="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ty(t)}function ey(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ry(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ey(Object(r),!0).forEach((function(e){ny(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ey(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function ny(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==ty(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==ty(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===ty(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const oy={renderComponent:function(t,e,r){if(t){var n=Xd[t.type];return(0,h.jsx)(n,ry(ry({},t),{},{data:e,path:r}))}},renderComponents:function(t,e,r){return t.map((function(t,n){var i=Xd[t.type];return(0,o.createElement)(i,ry(ry({},t),{},{data:e,path:r,key:n}))}))},renderComponentsWith:function(t,e,r,n){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return t.map((function(t,u){var a=null;i&&(a=o.createRef());var s=Xd[t.type];return{component:n((0,h.jsx)(s,ry(ry({},t),{},{data:e,errors:c,path:r,ref:a})),u),ref:a}}))}};function iy(t){return iy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iy(t)}function cy(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ly(n.key),n)}}function uy(t,e){return uy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},uy(t,e)}function ay(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=sy(t);if(e){var o=sy(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===iy(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function sy(t){return sy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},sy(t)}function ly(t){var e=function(t,e){if("object"!==iy(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==iy(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===iy(e)?e:String(e)}var fy=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uy(t,e)}(c,t);var e,r,n,i=ay(c);function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=i.call(this,t)).state={humanReadableValue:"All"},e.selectListRef=o.createRef(),e}return e=c,r=[{key:"handleChange",value:function(t){var e=this,r=t.map((function(t){return e.props.options[t]}));this.setState({humanReadableValue:r.length?r.join(", "):"All"}),this.props.onChange(this.props.id,t.join(","))}},{key:"clear",value:function(){this.selectListRef.current.clear()}},{key:"onCtxMenuClick",value:function(t){"clear"===t&&this.clear()}},{key:"render",value:function(){var t=this.props.label?this.props.label:Ht(this.props.field);return(0,h.jsx)("div",{className:"enum-filter",children:(0,h.jsx)(B,{onClick:this.onCtxMenuClick.bind(this),links:[["Clear this filter","clear"]],children:(0,h.jsx)(ju,{style:["secondary"],label:t,text:this.state.humanReadableValue,children:(0,h.jsx)(yn,{options:this.props.options,onChange:this.handleChange.bind(this),ref:this.selectListRef})})})})}}],r&&cy(e.prototype,r),n&&cy(e,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(o.Component);!function(t,e,r){(e=ly(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(fy,"defaultProps",{id:0,type:"",options:{},field:"",label:"",onChange:function(){}});const py=fy;function dy(t){return dy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dy(t)}function yy(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,vy(n.key),n)}}function hy(t,e){return hy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},hy(t,e)}function by(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=my(t);if(e){var o=my(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===dy(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function my(t){return my=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},my(t)}function vy(t){var e=function(t,e){if("object"!==dy(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==dy(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===dy(e)?e:String(e)}var gy=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hy(t,e)}(c,t);var e,r,n,i=by(c);function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=i.call(this,t)).state={options:{},humanReadableValue:"All"},e.selectListRef=o.createRef(),e}return e=c,r=[{key:"componentDidMount",value:function(){this.load()}},{key:"load",value:function(){var t=this;We.execute.get(this.props.path,this.props.id,"load",this.props.path.params).then((function(e){var r={};e.data.data.forEach((function(e){r[e.id]=e[t.props.titleColumn]})),t.setState({options:r})}))}},{key:"handleChange",value:function(t){var e=this,r=t.map((function(t){return e.state.options[t]}));this.setState({humanReadableValue:r.length?r.join(", "):"All"}),this.props.onChange(this.props.id,t.join(","))}},{key:"clear",value:function(){this.selectListRef.current.clear()}},{key:"onCtxMenuClick",value:function(t){"clear"===t&&this.clear()}},{key:"render",value:function(){var t=this.props.label?this.props.label:Ht(this.props.field);return(0,h.jsx)("div",{className:"enum-filter",children:(0,h.jsx)(B,{onClick:this.onCtxMenuClick.bind(this),links:[["Clear this filter","clear"]],children:(0,h.jsx)(ju,{style:["secondary"],label:t,text:this.state.humanReadableValue,children:(0,h.jsx)(yn,{options:this.state.options,onChange:this.handleChange.bind(this),ref:this.selectListRef})})})})}}],r&&yy(e.prototype,r),n&&yy(e,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(o.Component);!function(t,e,r){(e=vy(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(gy,"defaultProps",{id:0,type:"",field:"",label:"",titleColumn:"",onChange:function(){}});const jy=gy;function wy(t){return wy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wy(t)}function Oy(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,xy(n.key),n)}}function _y(t,e){return _y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_y(t,e)}function Py(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Sy(t);if(e){var o=Sy(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===wy(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Sy(t){return Sy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Sy(t)}function xy(t){var e=function(t,e){if("object"!==wy(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==wy(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===wy(e)?e:String(e)}var ky=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_y(t,e)}(c,t);var e,r,n,i=Py(c);function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=i.call(this,t)).state={options:[],humanReadableValue:ut.get("snippets.tags_all")},e.selectListRef=o.createRef(),e}return e=c,r=[{key:"componentDidMount",value:function(){this.load()}},{key:"load",value:function(){var t=this;We.execute.get(this.props.path,this.props.id,"load",this.props.path.params).then((function(e){var r={};e.data.forEach((function(t){r[t.id]=t.name})),t.setState({options:r})}))}},{key:"handleChange",value:function(t){var e=this,r=t.map((function(t){return e.state.options[t]}));this.setState({humanReadableValue:r.length?r.join(", "):ut.get("snippets.tags_all")}),this.props.onChange(this.props.id,t.join(","))}},{key:"clear",value:function(){this.selectListRef.current.clear()}},{key:"onCtxMenuClick",value:function(t){"clear"===t&&this.clear()}},{key:"render",value:function(){var t=this.props.label?this.props.label:ut.get("snippets.tag");return(0,h.jsx)("div",{className:"enum-filter",children:(0,h.jsx)(B,{onClick:this.onCtxMenuClick.bind(this),links:[["Clear this filter","clear"]],children:(0,h.jsx)(ju,{style:["secondary"],label:t,text:this.state.humanReadableValue,children:(0,h.jsx)(yn,{options:this.state.options,onChange:this.handleChange.bind(this),ref:this.selectListRef})})})})}}],r&&Oy(e.prototype,r),n&&Oy(e,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(o.Component);!function(t,e,r){(e=xy(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(ky,"defaultProps",{id:0,type:"",label:"",onChange:function(){}});const Cy={"enum-filter":py,"belongs-to-filter":jy,"tag-filter":ky};function Ry(t){return Ry="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ry(t)}function Ey(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ty(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ey(Object(r),!0).forEach((function(e){Ny(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ey(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Ny(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==Ry(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Ry(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Ry(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const Dy=function(t,e,r,n,i){var c=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return t.map((function(t,u){var a=c?o.createRef():null,s=Cy[t.type];return{filter:n((0,h.jsx)(s,Ty(Ty({},t),{},{data:e,path:r,onChange:i,ref:a})),u),ref:a}}))};function Fy(t){return Fy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fy(t)}function By(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ay(n.key),n)}}function Ly(t,e){return Ly=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ly(t,e)}function Iy(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=My(t);if(e){var o=My(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Fy(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function My(t){return My=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},My(t)}function Ay(t){var e=function(t,e){if("object"!==Fy(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Fy(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Fy(e)?e:String(e)}var Uy=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ly(t,e)}(i,t);var e,r,n,o=Iy(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={isLoading:!0,rows:[],meta:null,searchKeyword:null,filterParams:{},hasActiveFilters:!1},e.filterList=[],e}return e=i,r=[{key:"componentDidUpdate",value:function(t){(this.props.restrictByFk||this.props.relationship)&&this.props.data.id!==t.data.id&&this.load()}},{key:"componentDidMount",value:function(){this.props.restrictByFk||this.props.relationship||this.load()}},{key:"load",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.props.restrictByFk&&(e.foreign=this.props.data.id),this.props.relationship&&(e.relation=this.props.data.id),this.state.searchKeyword&&(e.search=this.state.searchKeyword),this.state.filterParams)for(var r in this.state.filterParams)this.state.filterParams.hasOwnProperty(r)&&(e["filter_"+r]=this.state.filterParams[r]);We.execute.get(this.props.path,this.props.id,"load",e).then((function(e){t.setState({isLoading:!1,rows:e.data.data,meta:e.data.meta||null})}))}},{key:"onRowClick",value:function(t){u.goTo(this.props.path.module,this.props.action,{id:t.id})}},{key:"getRowStyle",value:function(){var t={gridTemplateColumns:"repeat("+this.props.components.length+", 1fr)"};return this.props.grid.length&&(t.gridTemplateColumns=this.props.grid.join("fr ")+"fr"),t}},{key:"renderFilters",value:function(){return this.filterList=Dy(this.props.filters,{},this.props.path,(function(t,e){return(0,h.jsx)("div",{className:"index__header-filter",children:t},e)}),this.onFilterChange.bind(this),!0),this.filterList.map((function(t){return t.filter}))}},{key:"renderFiltersTool",value:function(){return this.props.filters.length?(0,h.jsxs)("div",{className:"index__header-filters-tool",children:[this.renderFilters(),(0,h.jsx)("div",{className:"index__header-clear-filters",children:(0,h.jsx)(Oe,{onClick:this.state.hasActiveFilters?this.clearFilters.bind(this):null,text:ut.get("snippets.clear_filters"),style:this.state.hasActiveFilters?"":"disabled"})})]}):null}},{key:"renderHeader",value:function(){var t=this,e=this.props.search?(0,h.jsx)("div",{className:"index__header-search",children:(0,h.jsx)(On,{onSearch:function(e){return t.search(e)}})}):null;return(0,h.jsxs)("div",{className:"index__header",children:[(0,h.jsxs)("div",{className:"index__header-title",children:[Ht(this.props.plural)," ",this.state.meta?"("+this.state.meta.total+")":null]}),(0,h.jsxs)("div",{className:"index__header-options",children:[e,this.renderFiltersTool()]})]})}},{key:"renderFooter",value:function(){return this.state.meta&&this.state.meta.total?(0,h.jsx)("div",{className:"index__footer",children:(0,h.jsx)(ap,{currentPage:this.state.meta.current_page,lastPage:this.state.meta.last_page,perPage:this.state.meta.per_page,total:this.state.meta.total,from:this.state.meta.from,to:this.state.meta.to,onPageChange:this.changePage.bind(this)})}):null}},{key:"renderPlaceholder",value:function(){return this.state.searchKeyword?(0,h.jsx)("div",{className:"index__placeholder",children:ut.get("snippets.no_plural_found_for_search",{plural:this.props.plural,search:this.state.searchKeyword})}):(0,h.jsx)("div",{className:"index__placeholder",children:ut.get("snippets.no_plural_found",{plural:this.props.plural})})}},{key:"renderRows",value:function(){var t=this;return this.state.rows.length?(0,h.jsx)("div",{className:"index__rows",children:this.state.rows.map((function(e){var r=t.props.components.map((function(r,n){return(0,h.jsx)("div",{className:"index__component",children:oy.renderComponent(r,e,t.props.path)},n)}));return(0,h.jsx)("div",{className:"index__row"+(t.props.action?" index__row--clickable":""),style:t.getRowStyle(),onClick:t.props.action?t.onRowClick.bind(t,e):null,children:r},e.id)}))}):this.renderPlaceholder()}},{key:"changePage",value:function(t){this.load({page:t})}},{key:"onFilterChange",value:function(t,e){var r=this;e?this.state.filterParams[t]=e:delete this.state.filterParams[t],this.setState({filterParams:this.state.filterParams,hasActiveFilters:0!==Object.keys(this.state.filterParams).length},(function(){r.load()}))}},{key:"clearFilters",value:function(){this.filterList.forEach((function(t){return t.ref.current.clear()}))}},{key:"search",value:function(t){var e=this;this.setState({searchKeyword:t},(function(){return e.load()}))}},{key:"onCtxMenuClick",value:function(t){"refresh"===t?(this.load(),Zt.i18nNotify("snippets.reloaded_plural",{plural:this.props.plural})):"clearFilters"===t&&this.clearFilters()}},{key:"render",value:function(){return(0,h.jsx)(B,{onClick:this.onCtxMenuClick.bind(this),links:[["Reload "+this.props.plural,"refresh"],this.state.hasActiveFilters?["Clear filters","clearFilters"]:null],children:(0,h.jsxs)("div",{className:"index index--"+this.props.style+(this.state.isLoading?" index--loading":""),children:[this.renderHeader(),this.renderRows(),this.renderFooter()]})})}}],r&&By(e.prototype,r),n&&By(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);!function(t,e,r){(e=Ay(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(Uy,"defaultProps",{type:"",components:[],path:{},id:0,data:{},params:null,search:!1,relationship:!1,filters:[],sorter:null,restrictByFk:null,action:"",style:"default",plural:"",singular:""});const Vy=Uy;function zy(t){return zy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zy(t)}function qy(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Hy(n.key),n)}}function Wy(t,e){return Wy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Wy(t,e)}function Gy(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Ky(t);if(e){var o=Ky(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===zy(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Ky(t){return Ky=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ky(t)}function Hy(t){var e=function(t,e){if("object"!==zy(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==zy(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===zy(e)?e:String(e)}var Qy=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wy(t,e)}(c,t);var e,r,n,i=Gy(c);function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=i.call(this,t)).props.params&&(e.props.path.params=e.props.params),e.state={isLoading:!0,data:{},formErrors:{}},e.formRef=o.createRef(),e}return e=c,(r=[{key:"componentDidMount",value:function(){this.load()}},{key:"load",value:function(){var t=this;We.execute.get(this.props.path,this.props.id,"load",this.props.path.params).then((function(e){t.setState({data:e.data.data,isLoading:!1})}))}},{key:"save",value:function(t){var e=this;t.id=this.props.path.params.id,We.execute.post(this.props.path,this.props.id,"save",t).then((function(t){e.formRef.current.ready(),e.redirect(t.data),Zt.notify(ut.get("snippets.singular_updated",{singular:e.props.singular}))}),(function(t){var r=t.response;e.formRef.current.ready(),e.setState({formErrors:r.data.errors}),Zt.notify(ut.get("snippets.form_has_errors"))}))}},{key:"redirect",value:function(t){u.handleRedirect(this.props,{id:t.data.id})}},{key:"renderContent",value:function(){return oy.renderComponents(this.props.components,this.state.data,this.props.path)}},{key:"renderSidebar",value:function(){return oy.renderComponents(this.props.sidebar,this.state.data,this.props.path)}},{key:"renderForm",value:function(){return this.state.isLoading?null:(0,h.jsx)(Pr,{ref:this.formRef,errors:this.state.formErrors,onSubmit:this.save.bind(this),submitButtonText:Ht(ut.get("snippets.save_singular",{singular:this.props.singular})),sidebar:this.renderSidebar(),children:this.renderContent()})}},{key:"render",value:function(){return(0,h.jsx)("div",{className:"edit"+(this.state.isLoading?" edit--loading":""),children:this.renderForm()})}}])&&qy(e.prototype,r),n&&qy(e,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(o.Component);!function(t,e,r){(e=Hy(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(Qy,"defaultProps",{type:"",components:[],sidebar:[],path:{},id:0,data:{},params:null,redirect:"index",redirectBack:!1,singular:"",plural:""});const Yy=Qy;function Zy(t){return Zy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zy(t)}function $y(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,eh(n.key),n)}}function Jy(t,e){return Jy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Jy(t,e)}function Xy(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=th(t);if(e){var o=th(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Zy(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function th(t){return th=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},th(t)}function eh(t){var e=function(t,e){if("object"!==Zy(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Zy(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Zy(e)?e:String(e)}var rh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jy(t,e)}(c,t);var e,r,n,i=Xy(c);function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=i.call(this,t)).state={data:{},formErrors:{}},e.formRef=o.createRef(),e}return e=c,(r=[{key:"save",value:function(t){var e=this;this.props.attachToRelation&&(t[this.props.attachToRelation]=this.props.path.params.id),this.props.restrictByFk&&(t[this.props.restrictByFk]=this.props.path.params.id),We.execute.post(this.props.path,this.props.id,"save",t).then((function(t){e.formRef.current.ready(),e.redirect(t.data),Zt.notify(ut.get("snippets.singular_created",{singular:e.props.singular}))}),(function(t){var r=t.response;e.formRef.current.ready(),e.setState({formErrors:r.data.errors}),Zt.notify(r.data.message)}))}},{key:"redirect",value:function(t){u.handleRedirect(this.props,{id:t.data.id})}},{key:"renderContent",value:function(){return oy.renderComponents(this.props.components,this.state.data,this.props.path)}},{key:"renderSidebar",value:function(){return oy.renderComponents(this.props.sidebar,this.state.data,this.props.path)}},{key:"render",value:function(){return(0,h.jsx)("div",{className:"create",children:(0,h.jsx)(Pr,{ref:this.formRef,errors:this.state.formErrors,onSubmit:this.save.bind(this),submitButtonText:Ht(ut.get("snippets.create_singular",{singular:this.props.singular})),sidebar:this.renderSidebar(),children:this.renderContent()})})}}])&&$y(e.prototype,r),n&&$y(e,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(o.Component);!function(t,e,r){(e=eh(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(rh,"defaultProps",{type:"",components:[],sidebar:[],path:{},id:0,data:{},params:null,redirect:"index",redirectBack:!1,restrictByFk:null,attachToRelation:null});const nh=rh;function oh(t){return oh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oh(t)}function ih(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,sh(n.key),n)}}function ch(t,e){return ch=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ch(t,e)}function uh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=ah(t);if(e){var o=ah(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===oh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function ah(t){return ah=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ah(t)}function sh(t){var e=function(t,e){if("object"!==oh(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==oh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===oh(e)?e:String(e)}var lh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ch(t,e)}(i,t);var e,r,n,o=uh(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).props.params&&(e.props.path.params=e.props.params),e}return e=i,(r=[{key:"delete",value:function(){var t=this;We.execute.get(this.props.path,this.props.id,"delete",this.props.path.params).then((function(e){t.redirect(),Zt.notify(ut.get("snippets.singular_deleted",{singular:t.props.singular}))}))}},{key:"redirect",value:function(){u.handleRedirect(this.props)}},{key:"render",value:function(){return(0,h.jsxs)("div",{className:"delete",children:[(0,h.jsx)("div",{className:"delete__text",children:ut.get("snippets.delete_singular_text",{singular:this.props.singular})}),(0,h.jsxs)("div",{className:"delete__footer",children:[(0,h.jsx)("div",{className:"delete__confirm",children:(0,h.jsx)(ye,{onClick:this.delete.bind(this),text:ut.get("snippets.delete_singular_confirm",{singular:this.props.singular})})}),(0,h.jsx)("div",{className:"delete__cancel",children:(0,h.jsx)(ye,{onClick:this.redirect.bind(this),text:ut.get("snippets.delete_singular_cancel"),style:"secondary"})})]})]})}}])&&ih(e.prototype,r),n&&ih(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);!function(t,e,r){(e=sh(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(lh,"defaultProps",{type:"",components:[],path:{},id:0,data:{},params:null,redirect:"index",redirectBack:!1,singular:"",plural:""});const fh=lh;function ph(t){return ph="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ph(t)}function dh(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,mh(n.key),n)}}function yh(t,e){return yh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},yh(t,e)}function hh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=bh(t);if(e){var o=bh(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===ph(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function bh(t){return bh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},bh(t)}function mh(t){var e=function(t,e){if("object"!==ph(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==ph(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===ph(e)?e:String(e)}var vh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yh(t,e)}(i,t);var e,r,n,o=hh(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).props.params&&(e.props.path.params=e.props.params),e.state={data:{}},e}return e=i,(r=[{key:"componentDidMount",value:function(){this.load()}},{key:"load",value:function(){var t=this;We.execute.get(this.props.path,this.props.id,"load",this.props.path.params).then((function(e){t.setState({data:e.data.data})}))}},{key:"render",value:function(){var t=oy.renderComponents(this.props.components,this.state.data,this.props.path);return(0,h.jsx)("div",{className:"view",children:t})}}])&&dh(e.prototype,r),n&&dh(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);!function(t,e,r){(e=mh(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(vh,"defaultProps",{components:[],path:{},params:null,type:""});const gh=vh;function jh(t){return jh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jh(t)}function wh(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Oh(n.key),n)}}function Oh(t){var e=function(t,e){if("object"!==jh(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==jh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===jh(e)?e:String(e)}function _h(t,e){return _h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_h(t,e)}function Ph(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Sh(t);if(e){var o=Sh(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===jh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Sh(t){return Sh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Sh(t)}const xh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_h(t,e)}(i,t);var e,r,n,o=Ph(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"render",value:function(){return(0,h.jsx)("div",{className:"export",children:"Export under construction"})}}])&&wh(e.prototype,r),n&&wh(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);function kh(t){return kh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kh(t)}function Ch(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Rh(n.key),n)}}function Rh(t){var e=function(t,e){if("object"!==kh(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==kh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===kh(e)?e:String(e)}function Eh(t,e){return Eh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Eh(t,e)}function Th(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Nh(t);if(e){var o=Nh(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===kh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Nh(t){return Nh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Nh(t)}const Dh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Eh(t,e)}(c,t);var e,r,n,o=Th(c);function c(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),o.apply(this,arguments)}return e=c,(r=[{key:"getControllerUrl",value:function(){var t=i.query(this.props.path.params);return"cmf/api/modules/".concat(this.props.path.module,"/").concat(this.props.path.action,"/").concat(this.props.id,"/controller")+"?"+t}},{key:"render",value:function(){return(0,h.jsx)("div",{className:"custom-controller",children:(0,h.jsx)("iframe",{src:this.getControllerUrl()})})}}])&&Ch(e.prototype,r),n&&Ch(e,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(o.Component);function Fh(t){return Fh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fh(t)}function Bh(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ah(n.key),n)}}function Lh(t,e){return Lh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Lh(t,e)}function Ih(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Mh(t);if(e){var o=Mh(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Fh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Mh(t){return Mh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Mh(t)}function Ah(t){var e=function(t,e){if("object"!==Fh(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Fh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Fh(e)?e:String(e)}var Uh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Lh(t,e)}(i,t);var e,r,n,o=Ih(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).componentLists=[],e.state={currentStepIndex:0},e}return e=i,r=[{key:"save",value:function(t){var e=this;this.props.restrictByFk&&(t[this.props.restrictByFk]=this.props.path.params.id),We.execute.post(this.props.path,this.props.id,"save",t).then((function(t){e.redirect(t.data),Zt.notify(ut.get("snippets.singular_created",{singular:e.props.singular}))}),(function(t){var e=t.response;for(var r in e.data.errors)Zt.notify(e.data.errors[r])}))}},{key:"redirect",value:function(t){u.handleRedirect(this.props,{id:t.data.id})}},{key:"renderWizard",value:function(){var t=this,e=this.props.steps.map((function(e,r){return(0,h.jsxs)("li",{className:"wizard__step"+(r<=t.state.currentStepIndex?" wizard__step--active":""),onClick:function(e){return t.goTo(r)},children:[(0,h.jsx)("span",{children:r+1}),e.title]},r)}));return(0,h.jsxs)("div",{className:"wizard",children:[(0,h.jsx)("div",{className:"wizard__nav",children:(0,h.jsx)("ul",{className:"wizard__steps",children:e})}),(0,h.jsx)("div",{className:"wizard__content",children:this.renderWizardContent()}),(0,h.jsx)("div",{className:"wizard__footer",children:this.renderWizardFooter()})]})}},{key:"renderWizardFooter",value:function(){return[this.state.currentStepIndex>0?(0,h.jsx)("div",{className:"wizard__footer-component",children:(0,h.jsx)(Oe,{onClick:this.goToPrev.bind(this),text:"Previous"})},1):null,(0,h.jsx)("div",{className:"wizard__footer-component",children:(0,h.jsx)(ye,{style:"large",onClick:this.goToNext.bind(this),text:this.isLastStep()?ut.get("snippets.create"):ut.get("snippets.next")})},2)]}},{key:"renderWizardContent",value:function(){var t=this;return this.props.steps.map((function(e,r){return(0,h.jsx)("div",{className:"wizard__step-content",style:{display:r===t.state.currentStepIndex?"block":"none"},children:t.componentLists[r].map((function(t){return t.component}))},r)}))}},{key:"isLastStep",value:function(){return this.state.currentStepIndex===this.props.steps.length-1}},{key:"goTo",value:function(t){(t<this.state.currentStepIndex||t===this.state.currentStepIndex+1)&&this.setState({currentStepIndex:t})}},{key:"goToNext",value:function(){if(this.state.currentStepIndex===this.props.steps.length-1){var t={};return this.componentLists.forEach((function(e){e.forEach((function(e){e.ref.current.handleSubmit(t)}))})),void this.save(t)}this.goTo(this.state.currentStepIndex+1)}},{key:"goToPrev",value:function(){this.goTo(this.state.currentStepIndex-1)}},{key:"render",value:function(){var t=this;return this.componentLists=this.props.steps.map((function(e,r){return oy.renderComponentsWith(e.components,t.props.data,t.props.path,(function(t,e){return(0,h.jsx)("div",{className:"wizard__component",children:t},e)}),!0)})),(0,h.jsx)("div",{className:"create-wizard",children:(0,h.jsx)("div",{className:"create-wizard__wizard",children:this.renderWizard()})})}}],r&&Bh(e.prototype,r),n&&Bh(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);!function(t,e,r){(e=Ah(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(Uh,"defaultProps",{type:"",components:[],path:{},id:0,data:{},params:null,redirect:"index",redirectBack:!1,restrictByFk:null,steps:{},singular:"",plural:""});const Vh=Uh;function zh(t){return zh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zh(t)}function qh(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Hh(n.key),n)}}function Wh(t,e){return Wh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Wh(t,e)}function Gh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Kh(t);if(e){var o=Kh(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===zh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Kh(t){return Kh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Kh(t)}function Hh(t){var e=function(t,e){if("object"!==zh(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==zh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===zh(e)?e:String(e)}var Qh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wh(t,e)}(i,t);var e,r,n,o=Gh(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,r=[{key:"render",value:function(){var t=this;return(0,h.jsx)("div",{className:"definition-list",children:this.props.data.map((function(e,r){var n=e[2]||!1;return(0,h.jsxs)("div",{className:"definition-list__item"+(n?" definition-list__item--editable":""),onClick:n?function(r){return t.openEditPrompt(e[0],e[1])}:null,children:[(0,h.jsx)("span",{className:"definition-list__key",children:ut.get("snippets."+e[0])}),(0,h.jsx)("span",{className:"definition-list__value",children:e[1]||(n?(0,h.jsx)(q,{style:"mini",name:"edit"}):"–")})]},r)}))})}},{key:"openEditPrompt",value:function(t,e){var r=this;Zt.prompt({title:ut.get("snippets."+t),defaultValue:e,confirm:function(e){return r.props.onPropertyChange(t,e)},confirmButtonText:ut.get("snippets.save")})}}],r&&qh(e.prototype,r),n&&qh(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);function Yh(t){return Yh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yh(t)}function Zh(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tb(n.key),n)}}function $h(t,e){return $h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},$h(t,e)}function Jh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Xh(t);if(e){var o=Xh(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Yh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Xh(t){return Xh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Xh(t)}function tb(t){var e=function(t,e){if("object"!==Yh(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Yh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Yh(e)?e:String(e)}!function(t,e,r){(e=Hh(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(Qh,"defaultProps",{data:[],onPropertyChange:function(t,e){}});var eb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$h(t,e)}(i,t);var e,r,n,o=Jh(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={moveAction:!1},e}return e=i,r=[{key:"deleteFile",value:function(){this.props.onDeleteFile()}},{key:"renameFile",value:function(){this.props.onRenameFile()}},{key:"moveFile",value:function(){this.setState({moveAction:!0})}},{key:"downloadFile",value:function(){window.open(this.props.file.url)}},{key:"getFileDescription",value:function(){return Lu[this.props.file.mime_type]&&Lu[this.props.file.mime_type].description?Lu[this.props.file.mime_type].description:ut.get("snippets.unknown_filetype")}},{key:"handleLabelFile",value:function(t){this.props.onLabelFile(t)}},{key:"handlePropertyChange",value:function(t,e){this.props.onChangeFileProperty(t,e)}},{key:"renderLabelSelect",value:function(){var t=this;if(Object.keys(this.props.fileLabels).length){var e={};return Object.keys(this.props.fileLabels).forEach((function(r){e[r]=t.props.fileLabels[r].name})),(0,h.jsx)("div",{className:"file-view__label-select",children:(0,h.jsx)(Nn,{value:this.props.file.label,nullable:!0,nullText:ut.get("snippets.no_label_selected"),options:e,onChange:function(e){return t.handleLabelFile(e)},openIcon:"edit",closeIcon:"edit"})})}return null}},{key:"renderMoveWidget",value:function(){var t=this;return this.state.moveAction?(0,h.jsx)($e,{children:(0,h.jsx)(Ka,{directory:this.props.file.directory,onCancel:function(e){t.setState({moveAction:!1})},onConfirm:function(e){t.setState({moveAction:!1},(function(){t.props.onMoveFile(e,t.props.file.id)}))}})}):null}},{key:"render",value:function(){var t=this;return(0,h.jsxs)("div",{className:d("file-view",this.props.style),children:[(0,h.jsxs)("div",{className:"file-view__header",children:[(0,h.jsx)(So,{style:["small"],children:this.props.file.name}),this.getFileDescription(),this.renderLabelSelect()]}),(0,h.jsxs)("div",{className:"file-view__content",children:[(0,h.jsx)("div",{className:"file-view__preview",children:(0,h.jsx)(qu,{style:"full",file:this.props.file,mediaConversion:"contain"})}),(0,h.jsx)(Qh,{data:[["uploaded",this.props.file.created_at],["modified",this.props.file.updated_at],["description",this.props.file.description,!0],["copyright",this.props.file.copyright,!0],["filesize",jc(this.props.file.size)],["mimetype",this.props.file.mime_type],["visibility",this.props.file.visibility,!0],["disk",this.props.file.disk],["conversions_disk",this.props.file.conversions_disk]],onPropertyChange:function(e,r){return t.handlePropertyChange(e,r)}})]}),(0,h.jsxs)("div",{className:"file-view__actions",children:[(0,h.jsx)(ye,{text:ut.get("snippets.rename"),onClick:this.renameFile.bind(this),style:["secondary","full"]}),(0,h.jsx)(ye,{text:ut.get("snippets.move"),onClick:this.moveFile.bind(this),style:["secondary","full"]}),(0,h.jsx)(ye,{text:ut.get("snippets.download"),onClick:this.downloadFile.bind(this),style:["secondary","full"]})]}),(0,h.jsx)("div",{className:"file-view__footer",children:(0,h.jsx)(ye,{text:ut.get("snippets.delete_file"),onClick:this.deleteFile.bind(this),style:["full"]})}),this.renderMoveWidget()]})}}],r&&Zh(e.prototype,r),n&&Zh(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);function rb(t){return rb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rb(t)}function nb(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ub(n.key),n)}}function ob(t,e){return ob=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ob(t,e)}function ib(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=cb(t);if(e){var o=cb(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===rb(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function cb(t){return cb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},cb(t)}function ub(t){var e=function(t,e){if("object"!==rb(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==rb(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===rb(e)?e:String(e)}!function(t,e,r){(e=tb(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(eb,"defaultProps",{file:{},fileLabels:{},style:[],onDeleteFile:function(){},onRenameFile:function(){},onLabelFile:function(t){},onMoveFile:function(){},onChangeFileProperty:function(t,e){}});var ab=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ob(t,e)}(i,t);var e,r,n,o=ib(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={moveAction:!1},e}return e=i,r=[{key:"deleteFiles",value:function(){this.props.onDeleteFiles()}},{key:"moveFiles",value:function(){this.setState({moveAction:!0})}},{key:"openPropertyEditPrompt",value:function(t,e){var r=this,n=t.toLowerCase();Zt.prompt({title:"Update "+n+" of "+this.props.files.length+" files",text:"Careful! The current "+n+" of "+this.props.files.length+" files will be overwritten with this new "+n+".",defaultValue:e,confirm:function(e){return r.props.onChangeFilesProperty(t,e)},confirmButtonText:"Save"})}},{key:"renderMoveWidget",value:function(){var t=this;return this.state.moveAction?(0,h.jsx)($e,{children:(0,h.jsx)(Ka,{directory:this.props.files[0].directory?this.props.files[0].directory.id:null,onCancel:function(e){t.setState({moveAction:!1})},onConfirm:function(e){t.setState({moveAction:!1},(function(){var r=t.props.files.map((function(t){return t.id}));t.props.onMoveFiles(e,r)}))}})}):null}},{key:"render",value:function(){var t=this;return(0,h.jsxs)("div",{className:d("multi-file-view",this.props.style),children:[(0,h.jsx)("div",{className:"multi-file-view__header",children:(0,h.jsxs)(So,{style:["small"],children:[this.props.files.length," files selected"]})}),(0,h.jsxs)("div",{className:"multi-file-view__actions",children:[(0,h.jsx)(ye,{text:"Update description",style:["small","secondary","full"],onClick:function(e){return t.openPropertyEditPrompt("Description","")}}),(0,h.jsx)(ye,{text:"Update copyright",style:["small","secondary","full"],onClick:function(e){return t.openPropertyEditPrompt("Copyright","")}})]}),(0,h.jsx)("div",{className:"multi-file-view__content",children:this.props.files.map((function(t,e){return(0,h.jsx)(ca,{file:t},e)}))}),(0,h.jsx)("div",{className:"multi-file-view__actions",children:(0,h.jsx)(ye,{text:"Move ".concat(this.props.files.length," files"),onClick:this.moveFiles.bind(this),style:["secondary","full"]})}),(0,h.jsx)("div",{className:"multi-file-view__footer",children:(0,h.jsx)(ye,{text:"Delete ".concat(this.props.files.length," files"),style:["full"],onClick:this.deleteFiles.bind(this)})}),this.renderMoveWidget()]})}}],r&&nb(e.prototype,r),n&&nb(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);function sb(t){return sb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sb(t)}function lb(){lb=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function a(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{a({},"")}catch(t){a=function(t,e,r){return t[e]=r}}function s(t,e,r,o){var i=e&&e.prototype instanceof p?e:p,c=Object.create(i.prototype),u=new S(o||[]);return n(c,"_invoke",{value:w(t,r,u)}),c}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function p(){}function d(){}function y(){}var h={};a(h,i,(function(){return this}));var b=Object.getPrototypeOf,m=b&&b(b(x([])));m&&m!==e&&r.call(m,i)&&(h=m);var v=y.prototype=p.prototype=Object.create(h);function g(t){["next","throw","return"].forEach((function(e){a(t,e,(function(t){return this._invoke(e,t)}))}))}function j(t,e){function o(n,i,c,u){var a=l(t[n],t,i);if("throw"!==a.type){var s=a.arg,f=s.value;return f&&"object"==sb(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,c,u)}),(function(t){o("throw",t,c,u)})):e.resolve(f).then((function(t){s.value=t,c(s)}),(function(t){return o("throw",t,c,u)}))}u(a.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function w(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return k()}for(r.method=o,r.arg=i;;){var c=r.delegate;if(c){var u=O(c,r);if(u){if(u===f)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var a=l(t,e,r);if("normal"===a.type){if(n=r.done?"completed":"suspendedYield",a.arg===f)continue;return{value:a.arg,done:r.done}}"throw"===a.type&&(n="completed",r.method="throw",r.arg=a.arg)}}}function O(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function x(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=y,n(v,"constructor",{value:y,configurable:!0}),n(y,"constructor",{value:d,configurable:!0}),d.displayName=a(y,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,a(t,u,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},g(j.prototype),a(j.prototype,c,(function(){return this})),t.AsyncIterator=j,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var c=new j(s(e,r,n,o),i);return t.isGeneratorFunction(r)?c:c.next().then((function(t){return t.done?t.value:c.next()}))},g(v),a(v,u,"Generator"),a(v,i,(function(){return this})),a(v,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=x,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return c.type="throw",c.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),a=r.call(i,"finallyLoc");if(u&&a){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var c=i?i.completion:{};return c.type=t,c.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(c)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),P(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:x(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function fb(t,e,r,n,o,i,c){try{var u=t[i](c),a=u.value}catch(t){return void r(t)}u.done?e(a):Promise.resolve(a).then(n,o)}function pb(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,bb(n.key),n)}}function db(t,e){return db=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},db(t,e)}function yb(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=hb(t);if(e){var o=hb(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===sb(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function hb(t){return hb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},hb(t)}function bb(t){var e=function(t,e){if("object"!==sb(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==sb(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===sb(e)?e:String(e)}!function(t,e,r){(e=ub(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(ab,"defaultProps",{files:[],style:[],onDeleteFiles:function(){},onMoveFiles:function(t,e){},onChangeFilesProperty:function(t,e){}});var mb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&db(t,e)}(s,t);var e,r,n,i,c,a=yb(s);function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=a.call(this,t)).state={isLoading:!0,directories:[],files:[],currentDirectory:null,currentFile:null,selectedFiles:[],selectedFileIds:[],directoryPath:[],fileBrowserViewMode:Ys.get("media-view-mode","list")},e}return e=s,r=[{key:"componentDidUpdate",value:function(t){this.props.path.params.directory&&this.props.path.params.directory!==t.path.params.directory?this.load(this.props.path.params.directory):this.props.path.params.directory!==t.path.params.directory&&this.load()}},{key:"componentDidMount",value:function(){this.props.path.params.directory?this.load(this.props.path.params.directory):this.load()}},{key:"load",value:(i=lb().mark((function t(){var e,r=this,n=arguments;return lb().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:null,t.next=3,Ne().all([We.media.path(e),We.media.loadDirectories(e),We.media.loadFiles(e)]).then(Ne().spread((function(t,e,n){var o=t.data.data,i=e.data.data,c=n.data.data;r.setState({isLoading:!1,directoryPath:o,currentDirectory:o[o.length-1],directories:i,files:c})})));case 3:case"end":return t.stop()}}),t)})),c=function(){var t=this,e=arguments;return new Promise((function(r,n){var o=i.apply(t,e);function c(t){fb(o,r,n,c,u,"next",t)}function u(t){fb(o,r,n,c,u,"throw",t)}c(void 0)}))},function(){return c.apply(this,arguments)})},{key:"refresh",value:function(){this.props.path.params.directory?this.load(this.props.path.params.directory):this.load()}},{key:"openDirectory",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t?u.goTo(this.props.path.module,this.props.path.action,{directory:t}):u.goTo(this.props.path.module,this.props.path.action)}},{key:"handleSelectionChange",value:function(t,e){e.length?1===e.length?this.setState({currentFile:e[0],selectedFiles:e,selectedFileIds:t}):this.setState({currentFile:null,selectedFiles:e,selectedFileIds:t}):this.setState({currentFile:null,selectedFiles:[],selectedFileIds:[]})}},{key:"handleDeleteDirectory",value:function(t){var e=this;We.media.deleteDirectory(t).then((function(t){e.setState({currentFile:null,selectedFiles:[],selectedFileIds:[]},(function(){Zt.i18nNotify("snippets.directory_deleted"),e.refresh()}))}),(function(t){Zt.i18nNotify("snippets.directory_not_deleted")}))}},{key:"handleRenameDirectory",value:function(t,e){var r=this;t&&We.media.renameDirectory(t,e).then((function(t){Zt.i18nNotify("snippets.directory_renamed"),r.refresh()}),(function(t){Zt.i18nNotify("snippets.changes_successful")}))}},{key:"handleRenameFile",value:function(t,e){var r=this;t&&We.media.renameFile(t,e).then((function(t){Zt.i18nNotify("snippets.file_renamed"),r.refresh()}),(function(t){Zt.i18nNotify("snippets.changes_successful")}))}},{key:"handleDeleteFile",value:function(t){var e=this;We.media.deleteFile(t).then((function(t){e.setState({currentFile:null,selectedFiles:[],selectedFileIds:[]},(function(){Zt.i18nNotify("snippets.file_deleted"),e.refresh()}))}),(function(t){Zt.notify(ut.get("snippets.file_not_deleted"))}))}},{key:"handleDeleteFiles",value:function(t){var e=this;We.media.deleteFiles(t).then((function(r){e.setState({currentFile:null,selectedFiles:[],selectedFileIds:[]},(function(){Zt.i18nNotify("snippets.amount_files_deleted",{amount:t.length}),e.refresh()}))}),(function(t){Zt.i18nNotify("snippets.files_not_deleted")}))}},{key:"handleLabelFile",value:function(t,e){var r=this;We.media.labelFile(t,e).then((function(t){r.setState({currentFile:t.data.data},(function(){Zt.i18nNotify("snippets.changes_successful"),r.refresh()}))}),(function(t){Zt.i18nNotify("snippets.changes_successful")}))}},{key:"handleChangeFileProperty",value:function(t,e,r){var n=this;["visibility","description","copyright"].includes(t)&&(0,We.media["updateFile"+Ht(t)])(e,r).then((function(t){n.setState({currentFile:t.data.data},(function(){Zt.notify(ut.get("snippets.changes_successful")),n.refresh()}))}),(function(t){Zt.notify(ut.get("snippets.changes_unsuccessful"))}))}},{key:"handleChangeFilesProperty",value:function(t,e,r){var n=this;["description","copyright"].includes(t)&&(0,We.media["updateFiles"+Ht(t)])(e,r).then((function(t){Zt.notify(ut.get("snippets.changes_successful")),n.refresh()}),(function(t){Zt.notify(ut.get("snippets.changes_unsuccessful"))}))}},{key:"handleMoveDirectory",value:function(t,e){var r=this;We.media.moveDirectory(t,e).then((function(t){Zt.notify(ut.get("snippets.directory_moved")),r.refresh()}),(function(t){Zt.notify(ut.get("snippets.changes_unsuccessful"))}))}},{key:"handleMoveFile",value:function(t,e){var r=this;We.media.moveFile(t,e).then((function(t){Zt.notify(ut.get("snippets.file_moved")),r.refresh()}),(function(t){Zt.notify(ut.get("snippets.changes_unsuccessful"))}))}},{key:"handleMoveFiles",value:function(t,e){var r=this;We.media.moveFiles(t,e).then((function(t){Zt.notify(ut.get("snippets.files_moved")),r.refresh()}),(function(t){Zt.notify(ut.get("snippets.changes_unsuccessful"))}))}},{key:"handleOpenFile",value:function(t){window.open(t.url)}},{key:"handleUploadDone",value:function(){this.refresh()}},{key:"handleCreateDirectory",value:function(t){(!this.props.path.params.directory&&!t.directory||t.directory&&this.props.path.params.directory&&t.directory.id===this.props.path.params.directory)&&this.refresh()}},{key:"promptCreateDirectory",value:function(){var t=this;Zt.prompt({title:ut.get("snippets.new_directory_title"),confirmButtonText:ut.get("snippets.create"),cancelButtonText:ut.get("snippets.cancel"),confirm:function(e){We.media.createDirectory(e,t.props.path.params.directory).then((function(){Zt.notify(ut.get("snippets.directory_created")),t.refresh()}))}})}},{key:"confirmDeleteFiles",value:function(t,e){var r=this;Zt.confirm({title:ut.get("snippets.delete_files_title",{amount:t.length}),text:ut.get("snippets.delete_files_text"),confirmButtonText:ut.get("snippets.delete_files_confirm",{amount:t.length}),cancelButtonText:ut.get("snippets.delete_files_cancel"),confirm:function(){return r.handleDeleteFiles(t)}})}},{key:"changeFileBrowserViewMode",value:function(t){this.setState({fileBrowserViewMode:t},(function(){Ys.set("media-view-mode",t)}))}},{key:"renderBreadcrumbs",value:function(){var t=this;return(0,h.jsx)(gs,{items:this.state.directoryPath,onClick:function(e){e?t.openDirectory(e.id):t.openDirectory()}})}},{key:"renderSidebar",value:function(){var t=this;return this.state.currentFile?(0,h.jsx)(eb,{file:this.state.currentFile,fileLabels:this.props.fileLabels,onLabelFile:function(e){return t.handleLabelFile(e,t.state.currentFile.id)},onChangeFileProperty:function(e,r){return t.handleChangeFileProperty(e,r,t.state.currentFile.id)},onDeleteFile:function(){Zt.confirm({title:ut.get("snippets.delete_file_title"),text:ut.get("snippets.delete_file_text"),confirmButtonText:ut.get("snippets.delete_file_confirm"),cancelButtonText:ut.get("snippets.delete_file_cancel"),confirm:function(){return t.handleDeleteFile(t.state.currentFile.id)}})},onRenameFile:function(){Zt.prompt({title:ut.get("snippets.rename_file_title"),defaultValue:t.state.currentFile.name,confirmButtonText:ut.get("snippets.rename_file_confirm"),cancelButtonText:ut.get("snippets.rename_file_cancel"),confirm:function(e){We.media.renameFile(e,t.state.currentFile.id).then((function(e){t.setState({currentFile:e.data.data},(function(){Zt.notify(ut.get("snippets.file_renamed")),t.refresh()}))}))}})},onMoveFile:this.handleMoveFile.bind(this)}):this.state.selectedFiles.length?(0,h.jsx)(ab,{files:this.state.selectedFiles,onDeleteFiles:function(){return t.confirmDeleteFiles(t.state.selectedFileIds,t.state.selectedFiles)},onChangeFilesProperty:function(e,r){return t.handleChangeFilesProperty(e,r,t.state.selectedFileIds)},onMoveFiles:this.handleMoveFiles.bind(this)}):null}},{key:"renderContent",value:function(){return(0,h.jsxs)(o.Fragment,{children:[(0,h.jsx)("div",{className:"view-media-directory__main",children:(0,h.jsx)(Qs,{directory:this.state.currentDirectory?this.state.currentDirectory.id:null,onCreateDirectory:this.handleCreateDirectory.bind(this),onUploadDone:this.handleUploadDone.bind(this),children:(0,h.jsx)(ls,{viewMode:this.state.fileBrowserViewMode,currentDirectory:this.state.currentDirectory,directories:this.state.directories,files:this.state.files,fileLabels:this.props.fileLabels,selectedFiles:this.state.selectedFiles,selectedFileIds:this.state.selectedFileIds,onDirectoryClick:this.openDirectory.bind(this),onDirectoryDelete:this.handleDeleteDirectory.bind(this),onDirectoryRename:this.handleRenameDirectory.bind(this),onDirectoryMove:this.handleMoveDirectory.bind(this),onFileDelete:this.handleDeleteFile.bind(this),onFileRename:this.handleRenameFile.bind(this),onFileOpen:this.handleOpenFile.bind(this),onFileMove:this.handleMoveFile.bind(this),onSelectionMove:this.handleMoveFiles.bind(this),onSelectionChange:this.handleSelectionChange.bind(this),onSelectionDelete:this.confirmDeleteFiles.bind(this)})})}),(0,h.jsx)("div",{className:"view-media-directory__side",children:this.renderSidebar()})]})}},{key:"render",value:function(){var t=this;return(0,h.jsxs)("div",{className:"view-media-directory"+(this.state.isLoading?" view-media-directory--loading":"")+(this.state.isDragOver?" view-media-directory--drag-over":""),children:[(0,h.jsxs)("div",{className:"view-media-directory__header",children:[(0,h.jsxs)("div",{className:"view-media-directory__header-title",children:[(0,h.jsx)(ju,{style:["primary","small"],openIcon:"folder",closeIcon:"folder",children:(0,h.jsx)(Ma,{selectedDirectory:this.state.currentDirectory?this.state.currentDirectory.id:null,onDirectoryClick:function(e){return t.openDirectory(e)}})}),this.renderBreadcrumbs()]}),(0,h.jsxs)("div",{className:"view-media-directory__header-options",children:[(0,h.jsx)(il,{active:this.state.fileBrowserViewMode,buttons:[{icon:"list",key:"compact-list"},{icon:"view_list",key:"list"},{icon:"grid_view",key:"grid"}],onClick:function(e){return t.changeFileBrowserViewMode(e)}}),(0,h.jsx)(ye,{style:["secondary","small"],onClick:this.promptCreateDirectory.bind(this),text:ut.get("snippets.new_directory")}),(0,h.jsx)(ju,{text:ut.get("snippets.upload"),style:["primary","small"],autoClose:!0,children:(0,h.jsx)(Es,{directory:this.state.currentDirectory?this.state.currentDirectory.id:null,onUploadDone:this.handleUploadDone.bind(this)})})]})]}),(0,h.jsx)("div",{className:"view-media-directory__content",children:this.state.isLoading?null:this.renderContent()})]})}}],r&&pb(e.prototype,r),n&&pb(e,n),Object.defineProperty(e,"prototype",{writable:!1}),s}(o.Component);!function(t,e,r){(e=bb(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(mb,"defaultProps",{type:"",path:{},id:0,data:{},fileLabels:{}});const vb=mb;function gb(t){return gb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gb(t)}function jb(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Pb(n.key),n)}}function wb(t,e){return wb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},wb(t,e)}function Ob(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=_b(t);if(e){var o=_b(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===gb(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function _b(t){return _b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_b(t)}function Pb(t){var e=function(t,e){if("object"!==gb(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==gb(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===gb(e)?e:String(e)}var Sb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wb(t,e)}(i,t);var e,r,n,o=Ob(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).props.params&&(e.props.path.params=e.props.params),e}return e=i,(r=[{key:"render",value:function(){var t=oy.renderComponents(this.props.components,{},this.props.path);return(0,h.jsx)("div",{className:"dashboard",children:t})}}])&&jb(e.prototype,r),n&&jb(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);!function(t,e,r){(e=Pb(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(Sb,"defaultProps",{components:[],path:{},params:null,type:""});const xb={index:Vy,edit:Yy,create:nh,"create-wizard":Vh,delete:fh,view:gh,dashboard:Sb,export:xh,"custom-controller":Dh,"view-media-directory":vb};function kb(t){return kb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kb(t)}function Cb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Rb(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Cb(Object(r),!0).forEach((function(e){Eb(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Cb(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Eb(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==kb(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==kb(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===kb(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const Tb={renderAction:function(t,e,r){if(t){var n=xb[t.type];return(0,o.createElement)(n,Rb(Rb({},t),{},{path:r,data:e,key:r.action}))}}};function Nb(t){return Nb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nb(t)}function Db(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ib(n.key),n)}}function Fb(t,e){return Fb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Fb(t,e)}function Bb(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Lb(t);if(e){var o=Lb(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Nb(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Lb(t){return Lb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Lb(t)}function Ib(t){var e=function(t,e){if("object"!==Nb(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Nb(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Nb(e)?e:String(e)}var Mb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fb(t,e)}(i,t);var e,r,n,o=Bb(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"renderHeader",value:function(){var t=this,e=[];return this.props.action.header&&this.props.action.header.forEach((function(r,n){e.push((0,h.jsx)("div",{className:"module__header-component",children:oy.renderComponent(r,{},t.props.path)},n))})),(0,h.jsxs)("div",{className:"module__header",children:[(0,h.jsx)("div",{className:"module__title",children:(0,h.jsx)(So,{children:this.props.action.title||this.props.title})}),(0,h.jsx)("div",{className:"module__header-components",children:e})]})}},{key:"render",value:function(){return(0,h.jsxs)("div",{className:"module",children:[this.renderHeader(),(0,h.jsx)("div",{className:"module__main",children:Tb.renderAction(this.props.action,{},this.props.path)})]})}}])&&Db(e.prototype,r),n&&Db(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);!function(t,e,r){(e=Ib(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(Mb,"defaultProps",{path:{},action:{}});const Ab=Mb;function Ub(t){return Ub="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ub(t)}function Vb(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zb(n.key),n)}}function zb(t){var e=function(t,e){if("object"!==Ub(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Ub(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Ub(e)?e:String(e)}function qb(t,e){return qb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},qb(t,e)}function Wb(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Gb(t);if(e){var o=Gb(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Ub(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Gb(t){return Gb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Gb(t)}const Kb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qb(t,e)}(i,t);var e,r,n,o=Wb(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"render",value:function(){return"Loading..."}}])&&Vb(e.prototype,r),n&&Vb(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);function Hb(t){return Hb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hb(t)}function Qb(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Jb(n.key),n)}}function Yb(t,e){return Yb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Yb(t,e)}function Zb(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=$b(t);if(e){var o=$b(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Hb(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function $b(t){return $b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},$b(t)}function Jb(t){var e=function(t,e){if("object"!==Hb(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Hb(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Hb(e)?e:String(e)}var Xb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yb(t,e)}(i,t);var e,r,n,o=Zb(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"render",value:function(){return(0,h.jsxs)("div",{className:"logo",children:[(0,h.jsx)("div",{className:"logo__emblem",children:this.props.name[0]}),(0,h.jsxs)("div",{className:"logo__name",children:[this.props.name,(0,h.jsx)("br",{}),(0,h.jsx)("span",{children:"CMF"})]})]})}}])&&Qb(e.prototype,r),n&&Qb(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);!function(t,e,r){(e=Jb(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(Xb,"defaultProps",{name:"CMF"});const tm=Xb;var em=r(5399),rm={insert:"head",singleton:!1};s()(em.Z,rm);em.Z.locals;function nm(t){return nm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nm(t)}function om(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,im(n.key),n)}}function im(t){var e=function(t,e){if("object"!==nm(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==nm(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===nm(e)?e:String(e)}function cm(t,e){return cm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},cm(t,e)}function um(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=am(t);if(e){var o=am(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===nm(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function am(t){return am=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},am(t)}const sm=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cm(t,e)}(i,t);var e,r,n,o=um(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"getVersion",value:function(){return c.get("cmf:version")}},{key:"render",value:function(){return(0,h.jsxs)("div",{className:"footer-text",children:["© ",this.props.title||""," – ",(0,h.jsxs)("a",{href:"https://github.com/reinvanoyen/cmf",title:"CMF on Github",target:"_blank",children:["CMF ",this.getVersion()]})," – Built with love by ",(0,h.jsx)("a",{href:"https://www.reinvanoyen.be",title:"Rein Van Oyen",target:"_blank",children:"Rein Van Oyen"})]})}}])&&om(e.prototype,r),n&&om(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);function lm(t){return lm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lm(t)}function fm(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hm(n.key),n)}}function pm(t,e){return pm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},pm(t,e)}function dm(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=ym(t);if(e){var o=ym(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===lm(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function ym(t){return ym=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ym(t)}function hm(t){var e=function(t,e){if("object"!==lm(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==lm(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===lm(e)?e:String(e)}var bm=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pm(t,e)}(i,t);var e,r,n,o=dm(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"getVersion",value:function(){return c.get("cmf:version")}},{key:"render",value:function(){return(0,h.jsxs)("div",{className:"page",children:[(0,h.jsx)("div",{className:"page__visual",children:(0,h.jsx)("div",{className:"hero",children:ut.get("snippets.baseline")})}),(0,h.jsxs)("div",{className:"page__content",children:[(0,h.jsx)("div",{className:"page__logo",children:(0,h.jsx)(tm,{name:this.props.title})}),(0,h.jsx)("div",{className:"page__box",children:this.props.children}),(0,h.jsx)("div",{className:"page__footer",children:(0,h.jsx)(sm,{title:this.props.title})})]})]})}}])&&fm(e.prototype,r),n&&fm(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);!function(t,e,r){(e=hm(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(bm,"defaultProps",{title:"CMF"});const mm=bm;function vm(t){return vm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vm(t)}function gm(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_m(n.key),n)}}function jm(t,e){return jm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},jm(t,e)}function wm(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Om(t);if(e){var o=Om(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===vm(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Om(t){return Om=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Om(t)}function _m(t){var e=function(t,e){if("object"!==vm(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==vm(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===vm(e)?e:String(e)}var Pm=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jm(t,e)}(c,t);var e,r,n,i=wm(c);function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=i.call(this,t)).formRef=o.createRef(),e}return e=c,(r=[{key:"loginAttempt",value:function(t){var e=this;We.auth.login(t.email,t.password).then((function(t){e.props.onSuccess(t.data.data)}),(function(t){e.formRef.current.ready(),e.props.onFail()}))}},{key:"render",value:function(){return(0,h.jsx)(mm,{title:this.props.title,children:(0,h.jsx)("div",{className:"login",children:(0,h.jsxs)(Pr,{ref:this.formRef,onSubmit:this.loginAttempt.bind(this),submitButtonText:ut.get("snippets.login"),children:[(0,h.jsx)(At,{name:"email",label:ut.get("snippets.email_address")}),(0,h.jsx)(At,{name:"password",label:ut.get("snippets.password"),htmlType:"password"})]})})})}}])&&gm(e.prototype,r),n&&gm(e,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(o.Component);!function(t,e,r){(e=_m(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(Pm,"defaultProps",{title:"CMF",onSuccess:function(t){},onFail:function(){}});const Sm=Pm;function xm(t){return xm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xm(t)}function km(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Tm(n.key),n)}}function Cm(t,e){return Cm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Cm(t,e)}function Rm(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Em(t);if(e){var o=Em(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===xm(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Em(t){return Em=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Em(t)}function Tm(t){var e=function(t,e){if("object"!==xm(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==xm(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===xm(e)?e:String(e)}var Nm=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Cm(t,e)}(i,t);var e,r,n,o=Rm(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"logout",value:function(){var t=this;We.auth.logout().then((function(e){t.props.onLogout()}),(function(t){}))}},{key:"render",value:function(){return(0,h.jsxs)("div",{className:"user-panel",children:[(0,h.jsx)("div",{className:"user-panel__avatar",children:(0,h.jsx)(q,{name:"person"})}),(0,h.jsx)("div",{className:"user-panel__name",children:this.props.user.name}),(0,h.jsx)("div",{className:"user-panel__actions",children:(0,h.jsx)(ju,{style:["secondary"],text:ut.get("snippets.logout"),children:(0,h.jsx)(ye,{onClick:this.logout.bind(this),style:"full",text:ut.get("snippets.logout_confirm")})})})]})}}])&&km(e.prototype,r),n&&km(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);!function(t,e,r){(e=Tm(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(Nm,"defaultProps",{user:{id:0,name:"",email:""},onLogout:function(){}});const Dm=Nm;function Fm(t){return Fm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fm(t)}function Bm(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Lm(n.key),n)}}function Lm(t){var e=function(t,e){if("object"!==Fm(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Fm(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Fm(e)?e:String(e)}function Im(t,e){return Im=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Im(t,e)}function Mm(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Am(t);if(e){var o=Am(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Fm(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Am(t){return Am=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Am(t)}const Um=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Im(t,e)}(i,t);var e,r,n,o=Mm(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"render",value:function(){return(0,h.jsxs)("div",{className:"module",children:[(0,h.jsx)("div",{className:"module__header",children:(0,h.jsx)("div",{className:"module__title",children:(0,h.jsx)(So,{children:"Not found"})})}),(0,h.jsx)("div",{className:"module__main",children:"Are you sure you're trying to access the correct URL? No module or action was found for this request."})]})}}])&&Bm(e.prototype,r),n&&Bm(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Component);function Vm(t){return Vm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vm(t)}function zm(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function qm(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?zm(Object(r),!0).forEach((function(e){Ym(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zm(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Wm(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Zm(n.key),n)}}function Gm(t,e){return Gm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Gm(t,e)}function Km(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Qm(t);if(e){var o=Qm(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Vm(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Hm(t)}(this,r)}}function Hm(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qm(t){return Qm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Qm(t)}function Ym(t,e,r){return(e=Zm(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zm(t){var e=function(t,e){if("object"!==Vm(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Vm(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Vm(e)?e:String(e)}var $m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gm(t,e)}(a,t);var e,r,n,i=Km(a);function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this,t)).state={isAuthenticating:!0,isLoading:!0,isLoggedIn:!1,isError:!1,isNavOpen:!1,user:{},modules:[],path:{},module:null,action:null},u.setCmf(Hm(e)),e}return e=a,(r=[{key:"componentDidMount",value:function(){var t=this;We.auth.user().then((function(e){var r=e.data.data;t.onAuthSuccess(r)}),(function(e){t.setState({isAuthenticating:!1})}))}},{key:"componentDidUpdate",value:function(t,e,r){var n=this;if(u.forceRefresh||this.state.path.module!==u.currentPath.module||this.state.path.action!==u.currentPath.action||!y(this.state.path.params,u.currentPath.params)){for(var o=null,i=0;i<this.state.modules.length;i++){if(this.state.modules[i].id===u.currentPath.module){o=this.state.modules[i];break}for(var c=0;c<this.state.modules[i].submodules.length;c++)if(this.state.modules[i].submodules[c].id===u.currentPath.module){o=this.state.modules[i].submodules[c];break}}We.modules.action(u.currentPath,u.currentPath.params).then((function(t){p(),n.setState({isLoading:!1,isError:!1,path:u.currentPath,module:o,action:t.data.data})})).catch((function(t){n.setState({isLoading:!1,isError:!0,path:u.currentPath})}))}}},{key:"setLoadingState",value:function(){this.setState({isLoading:!0})}},{key:"getVersion",value:function(){return c.get("cmf:version")}},{key:"onAuthSuccess",value:function(t){var e=this;this.setState({isLoggedIn:!0,isAuthenticating:!1,user:t}),We.modules.index().then((function(t){var r=t.data.data;e.setState({modules:r},(function(){e.bindPopState(),e.goToRequestedModule()}))}))}},{key:"toggleNavigation",value:function(){this.setState({isNavOpen:!this.state.isNavOpen}),document.body.classList.toggle("open-nav")}},{key:"onLoginSuccess",value:function(t){Zt.notify(ut.get("snippets.welcome_back",{name:t.name})),this.onAuthSuccess(t)}},{key:"onLoginFail",value:function(){Zt.notify(ut.get("snippets.login_failed"))}},{key:"bindPopState",value:function(){var t=this;window.onpopstate=function(e){return t.goToRequestedModule()}}},{key:"goToRequestedModule",value:function(){var t=u.parseLocation(window.location),e=t.module||this.state.modules[0].id,r=t.action||"index";u.update(e,r,t.params)}},{key:"goToIndex",value:function(){u.goTo(this.state.modules[0].id,"index")}},{key:"onLogout",value:function(){this.setState({isLoggedIn:!1}),Zt.notify("User logged out")}},{key:"getUserPanel",value:function(){return(0,h.jsx)(Dm,{user:this.state.user,onLogout:this.onLogout.bind(this)})}},{key:"render",value:function(){return this.state.isAuthenticating?(0,h.jsx)(Kb,{}):this.state.isLoggedIn?(this.state.isError?t=(0,h.jsx)(Um,{}):this.state.isLoading||(t=(0,o.createElement)(Ab,qm(qm({},this.state.module),{},{action:this.state.action,path:this.state.path,key:this.state.module.id}))),(0,h.jsxs)("div",{className:"cmf",children:[(0,h.jsxs)("div",{className:"cmf__header",children:[(0,h.jsx)("button",{className:"cmf__logo",onClick:this.goToIndex.bind(this),children:(0,h.jsx)(tm,{name:this.props.title})}),(0,h.jsx)("div",{className:"cmf__user",children:this.getUserPanel()})]}),(0,h.jsxs)("div",{className:"cmf__main",children:[(0,h.jsx)("div",{className:"cmf__nav",children:(0,h.jsx)(ht,{modules:this.state.modules,activeModule:this.state.module})}),(0,h.jsxs)("div",{className:"cmf__content",children:[(0,h.jsx)("div",{className:"cmf__module",children:t}),(0,h.jsx)("div",{className:"cmf__footer",children:(0,h.jsx)(sm,{title:this.props.title})})]})]}),(0,h.jsx)("button",{className:"cmf__nav-trigger",onClick:this.toggleNavigation.bind(this),children:(0,h.jsx)(q,{style:"medium",name:this.state.isNavOpen?"close":"menu"})})]})):(0,h.jsx)(Sm,{title:this.props.title,onSuccess:this.onLoginSuccess.bind(this),onFail:this.onLoginFail.bind(this)});var t}}])&&Wm(e.prototype,r),n&&Wm(e,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(o.Component);Ym($m,"defaultProps",{title:"CMF"});const Jm=$m;var Xm=document.querySelector(".cmf-mount");Xm&&n.render((0,h.jsx)(Jm,{title:Xm.dataset.title}),Xm)},5399:(t,e,r)=>{"use strict";r.d(e,{Z:()=>i});var n=r(3645),o=r.n(n)()((function(t){return t[1]}));o.push([t.id,".footer-text{color:var(--fill-color-alt-3);display:block;font-family:Poppins,sans-serif;font-size:.85rem;font-weight:500;letter-spacing:-.02em;line-height:1;text-align:center;width:100%}.footer-text a{text-decoration:underline;transition:color .5s}.footer-text a:hover{color:var(--primary-color);text-decoration:none}",""]);const i=o},4195:(t,e,r)=>{"use strict";r.d(e,{Z:()=>i});var n=r(3645),o=r.n(n)()((function(t){return t[1]}));o.push([t.id,'@charset "UTF-8";.breadcrumbs__list{display:flex}.breadcrumbs__list li{color:#7b7d85}.breadcrumbs__list li:after{content:"›";margin-left:.6666666667rem;margin-right:.6666666667rem}.breadcrumbs__list li:last-child{color:#464646}.breadcrumbs__list li:last-child span{cursor:default}.breadcrumbs__list li:last-child span:hover{border-bottom:0}.breadcrumbs__list li:last-child:after{display:none}.breadcrumbs__list li span{cursor:pointer}.breadcrumbs__list li span:hover{border-bottom:1px solid hsla(228,4%,50%,.5)}',""]);const i=o},2314:(t,e,r)=>{"use strict";r.d(e,{Z:()=>i});var n=r(3645),o=r.n(n)()((function(t){return t[1]}));o.push([t.id,".button-group{border-radius:8px;display:flex;flex-wrap:nowrap;overflow:hidden}",""]);const i=o},9151:(t,e,r)=>{"use strict";r.d(e,{Z:()=>i});var n=r(3645),o=r.n(n)()((function(t){return t[1]}));o.push([t.id,'.button{background-color:var(--primary-color);border-radius:8px;color:#fff;cursor:pointer;font-family:Poppins,sans-serif;font-size:.95rem;font-weight:500;line-height:1;overflow:hidden;padding:1rem 2rem;position:relative;transition:background-color .25s}.button:after{bottom:0;box-shadow:inset 0 -2px 0 var(--primary-color-alt-1);content:"";left:0;opacity:.5;position:absolute;right:0;top:0}.button:before{border:1px solid var(--fill-color);border-radius:8px;bottom:2px;content:"";left:2px;opacity:0;position:absolute;right:2px;top:2px;transition:opacity 1s}.button:active:before,.button:focus:before{opacity:.25}.button:hover{background-color:var(--primary-color-alt-1)}.button__icon{margin-right:.5rem}.button__label{color:#7b7d85;margin-right:.6666666667rem}.button--grouped{border-radius:0}.button--has-icon{align-items:center;display:inline-flex}.button--disabled{box-shadow:none;cursor:not-allowed;overflow:hidden}.button--disabled:after{background-color:var(--fill-color);bottom:0;box-shadow:none;content:"";left:0;opacity:.75;position:absolute;right:0;top:0}.button--secondary{background-color:var(--fill-color-alt-1);color:#464646}.button--secondary:after{display:none}.button--active,.button--secondary:hover{background-color:var(--fill-color-alt-2)}.button--outline{background-color:#fff;border:1px solid var(--fill-color-alt-1);color:var(--primary-color-alt-1)}.button--outline:after{display:none}.button--outline:hover{background-color:#fff}.button--full{justify-content:center;text-align:center;width:100%}.button--small{height:2.3rem;padding:.6666666667rem 1.3333333333rem}.button--small:after{display:none}.button--large{border-radius:8px;font-family:Poppins,sans-serif;font-size:1.15rem;font-weight:700;line-height:1.35;padding:1rem 2rem;text-transform:none}',""]);const i=o},5709:(t,e,r)=>{"use strict";r.d(e,{Z:()=>i});var n=r(3645),o=r.n(n)()((function(t){return t[1]}));o.push([t.id,'.ctx-mount,.ctx-overlay{bottom:0;left:0;position:absolute;right:0;top:0;z-index:9999}.context-menu__menu{background-color:#fff;border:1px solid var(--fill-color-alt-2);border-radius:8px;box-shadow:0 5px 15px 0 rgba(70,70,70,.1);left:0;margin-top:.6666666667rem;padding:.6666666667rem;position:fixed;top:0;width:20rem;z-index:1}.context-menu__wrap{position:relative}.context-menu--open .context-menu__wrap:after{border:1px solid var(--fill-color-alt-2);border-radius:8px;bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}',""]);const i=o},7374:(t,e,r)=>{"use strict";r.d(e,{Z:()=>i});var n=r(3645),o=r.n(n)()((function(t){return t[1]}));o.push([t.id,'.file-drop-zone{border:1px solid transparent;border-radius:8px;display:block;width:100%}.file-drop-zone__overlay{align-items:center;bottom:0;display:flex;justify-content:center;left:0;opacity:0;pointer-events:none;position:absolute;right:0;top:0;z-index:9998}.file-drop-zone--drag-over .file-drop-zone__overlay{opacity:1;transition:opacity .5s}.file-drop-zone--drag-over{border:1px dashed var(--primary-color);cursor:copy;position:relative}.file-drop-zone--drag-over:after{background-color:var(--fill-color);border-radius:8px;bottom:0;content:"";display:block;left:0;opacity:.85;pointer-events:none;position:absolute;right:0;top:0}',""]);const i=o},3645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var r=t(e);return e[2]?"@media ".concat(e[2]," {").concat(r,"}"):r})).join("")},e.i=function(t,r,n){"string"==typeof t&&(t=[[null,t,""]]);var o={};if(n)for(var i=0;i<this.length;i++){var c=this[i][0];null!=c&&(o[c]=!0)}for(var u=0;u<t.length;u++){var a=[].concat(t[u]);n&&o[a[0]]||(r&&(a[2]?a[2]="".concat(r," and ").concat(a[2]):a[2]=r),e.push(a))}},e}},7425:()=>{},7418:t=>{"use strict";var e=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(t){n[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(t){return!1}}()?Object.assign:function(t,o){for(var i,c,u=function(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),a=1;a<arguments.length;a++){for(var s in i=Object(arguments[a]))r.call(i,s)&&(u[s]=i[s]);if(e){c=e(i);for(var l=0;l<c.length;l++)n.call(i,c[l])&&(u[c[l]]=i[c[l]])}}return u}},4155:t=>{var e,r,n=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function c(t){if(e===setTimeout)return setTimeout(t,0);if((e===o||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(r){try{return e.call(null,t,0)}catch(r){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:o}catch(t){e=o}try{r="function"==typeof clearTimeout?clearTimeout:i}catch(t){r=i}}();var u,a=[],s=!1,l=-1;function f(){s&&u&&(s=!1,u.length?a=u.concat(a):l=-1,a.length&&p())}function p(){if(!s){var t=c(f);s=!0;for(var e=a.length;e;){for(u=a,a=[];++l<e;)u&&u[l].run();l=-1,e=a.length}u=null,s=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function y(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];a.push(new d(t,e)),1!==a.length||s||c(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=y,n.addListener=y,n.once=y,n.off=y,n.removeListener=y,n.removeAllListeners=y,n.emit=y,n.prependListener=y,n.prependOnceListener=y,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},53:(t,e)=>{"use strict";var r,n,o,i,c;if("undefined"==typeof window||"function"!=typeof MessageChannel){var u=null,a=null,s=function(){if(null!==u)try{var t=e.unstable_now();u(!0,t),u=null}catch(t){throw setTimeout(s,0),t}},l=Date.now();e.unstable_now=function(){return Date.now()-l},r=function(t){null!==u?setTimeout(r,0,t):(u=t,setTimeout(s,0))},n=function(t,e){a=setTimeout(t,e)},o=function(){clearTimeout(a)},i=function(){return!1},c=e.unstable_forceFrameRate=function(){}}else{var f=window.performance,p=window.Date,d=window.setTimeout,y=window.clearTimeout;if("undefined"!=typeof console){var h=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof h&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof f&&"function"==typeof f.now)e.unstable_now=function(){return f.now()};else{var b=p.now();e.unstable_now=function(){return p.now()-b}}var m=!1,v=null,g=-1,j=5,w=0;i=function(){return e.unstable_now()>=w},c=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):j=0<t?Math.floor(1e3/t):5};var O=new MessageChannel,_=O.port2;O.port1.onmessage=function(){if(null!==v){var t=e.unstable_now();w=t+j;try{v(!0,t)?_.postMessage(null):(m=!1,v=null)}catch(t){throw _.postMessage(null),t}}else m=!1},r=function(t){v=t,m||(m=!0,_.postMessage(null))},n=function(t,r){g=d((function(){t(e.unstable_now())}),r)},o=function(){y(g),g=-1}}function P(t,e){var r=t.length;t.push(e);t:for(;;){var n=r-1>>>1,o=t[n];if(!(void 0!==o&&0<k(o,e)))break t;t[n]=e,t[r]=o,r=n}}function S(t){return void 0===(t=t[0])?null:t}function x(t){var e=t[0];if(void 0!==e){var r=t.pop();if(r!==e){t[0]=r;t:for(var n=0,o=t.length;n<o;){var i=2*(n+1)-1,c=t[i],u=i+1,a=t[u];if(void 0!==c&&0>k(c,r))void 0!==a&&0>k(a,c)?(t[n]=a,t[u]=r,n=u):(t[n]=c,t[i]=r,n=i);else{if(!(void 0!==a&&0>k(a,r)))break t;t[n]=a,t[u]=r,n=u}}}return e}return null}function k(t,e){var r=t.sortIndex-e.sortIndex;return 0!==r?r:t.id-e.id}var C=[],R=[],E=1,T=null,N=3,D=!1,F=!1,B=!1;function L(t){for(var e=S(R);null!==e;){if(null===e.callback)x(R);else{if(!(e.startTime<=t))break;x(R),e.sortIndex=e.expirationTime,P(C,e)}e=S(R)}}function I(t){if(B=!1,L(t),!F)if(null!==S(C))F=!0,r(M);else{var e=S(R);null!==e&&n(I,e.startTime-t)}}function M(t,r){F=!1,B&&(B=!1,o()),D=!0;var c=N;try{for(L(r),T=S(C);null!==T&&(!(T.expirationTime>r)||t&&!i());){var u=T.callback;if(null!==u){T.callback=null,N=T.priorityLevel;var a=u(T.expirationTime<=r);r=e.unstable_now(),"function"==typeof a?T.callback=a:T===S(C)&&x(C),L(r)}else x(C);T=S(C)}if(null!==T)var s=!0;else{var l=S(R);null!==l&&n(I,l.startTime-r),s=!1}return s}finally{T=null,N=c,D=!1}}function A(t){switch(t){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var U=c;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){F||D||(F=!0,r(M))},e.unstable_getCurrentPriorityLevel=function(){return N},e.unstable_getFirstCallbackNode=function(){return S(C)},e.unstable_next=function(t){switch(N){case 1:case 2:case 3:var e=3;break;default:e=N}var r=N;N=e;try{return t()}finally{N=r}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=U,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var r=N;N=t;try{return e()}finally{N=r}},e.unstable_scheduleCallback=function(t,i,c){var u=e.unstable_now();if("object"==typeof c&&null!==c){var a=c.delay;a="number"==typeof a&&0<a?u+a:u,c="number"==typeof c.timeout?c.timeout:A(t)}else c=A(t),a=u;return t={id:E++,callback:i,priorityLevel:t,startTime:a,expirationTime:c=a+c,sortIndex:-1},a>u?(t.sortIndex=a,P(R,t),null===S(C)&&t===S(R)&&(B?o():B=!0,n(I,a-u))):(t.sortIndex=c,P(C,t),F||D||(F=!0,r(M))),t},e.unstable_shouldYield=function(){var t=e.unstable_now();L(t);var r=S(C);return r!==T&&null!==T&&null!==r&&null!==r.callback&&r.startTime<=t&&r.expirationTime<T.expirationTime||i()},e.unstable_wrapCallback=function(t){var e=N;return function(){var r=N;N=e;try{return t.apply(this,arguments)}finally{N=r}}}},3840:(t,e,r)=>{"use strict";t.exports=r(53)},3379:(t,e,r)=>{"use strict";var n,o=function(){return void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n},i=function(){var t={};return function(e){if(void 0===t[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}t[e]=r}return t[e]}}(),c=[];function u(t){for(var e=-1,r=0;r<c.length;r++)if(c[r].identifier===t){e=r;break}return e}function a(t,e){for(var r={},n=[],o=0;o<t.length;o++){var i=t[o],a=e.base?i[0]+e.base:i[0],s=r[a]||0,l="".concat(a," ").concat(s);r[a]=s+1;var f=u(l),p={css:i[1],media:i[2],sourceMap:i[3]};-1!==f?(c[f].references++,c[f].updater(p)):c.push({identifier:l,updater:b(p,e),references:1}),n.push(l)}return n}function s(t){var e=document.createElement("style"),n=t.attributes||{};if(void 0===n.nonce){var o=r.nc;o&&(n.nonce=o)}if(Object.keys(n).forEach((function(t){e.setAttribute(t,n[t])})),"function"==typeof t.insert)t.insert(e);else{var c=i(t.insert||"head");if(!c)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");c.appendChild(e)}return e}var l,f=(l=[],function(t,e){return l[t]=e,l.filter(Boolean).join("\n")});function p(t,e,r,n){var o=r?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(t.styleSheet)t.styleSheet.cssText=f(e,o);else{var i=document.createTextNode(o),c=t.childNodes;c[e]&&t.removeChild(c[e]),c.length?t.insertBefore(i,c[e]):t.appendChild(i)}}function d(t,e,r){var n=r.css,o=r.media,i=r.sourceMap;if(o?t.setAttribute("media",o):t.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}var y=null,h=0;function b(t,e){var r,n,o;if(e.singleton){var i=h++;r=y||(y=s(e)),n=p.bind(null,r,i,!1),o=p.bind(null,r,i,!0)}else r=s(e),n=d.bind(null,r,e),o=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(r)};return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else o()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=o());var r=a(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var n=0;n<r.length;n++){var o=u(r[n]);c[o].references--}for(var i=a(t,e),s=0;s<r.length;s++){var l=u(r[s]);0===c[l].references&&(c[l].updater(),c.splice(l,1))}r=i}}}}},t=>{var e=e=>t(t.s=e);t.O(0,[555,170],(()=>(e(7311),e(7425))));t.O()}]);